(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Xy(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Kc={exports:{}},Wr={};var mg;function Av(){if(mg)return Wr;mg=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:l,type:r,key:c,ref:a!==void 0?a:null,props:o}}return Wr.Fragment=t,Wr.jsx=n,Wr.jsxs=n,Wr}var gg;function Nv(){return gg||(gg=1,Kc.exports=Av()),Kc.exports}var ut=Nv(),Qc={exports:{}},Pr={},Zc={exports:{}},$c={};var yg;function Dv(){return yg||(yg=1,(function(l){function t(_,X){var it=_.length;_.push(X);t:for(;0<it;){var Ct=it-1>>>1,Dt=_[Ct];if(0<a(Dt,X))_[Ct]=X,_[it]=Dt,it=Ct;else break t}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var X=_[0],it=_.pop();if(it!==X){_[0]=it;t:for(var Ct=0,Dt=_.length,A=Dt>>>1;Ct<A;){var j=2*(Ct+1)-1,J=_[j],I=j+1,st=_[I];if(0>a(J,it))I<Dt&&0>a(st,J)?(_[Ct]=st,_[I]=it,Ct=I):(_[Ct]=J,_[j]=it,Ct=j);else if(I<Dt&&0>a(st,it))_[Ct]=st,_[I]=it,Ct=I;else break t}}return X}function a(_,X){var it=_.sortIndex-X.sortIndex;return it!==0?it:_.id-X.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();l.unstable_now=function(){return c.now()-f}}var d=[],m=[],g=1,y=null,S=3,v=!1,E=!1,M=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function K(_){for(var X=n(m);X!==null;){if(X.callback===null)r(m);else if(X.startTime<=_)r(m),X.sortIndex=X.expirationTime,t(d,X);else break;X=n(m)}}function G(_){if(M=!1,K(_),!E)if(n(d)!==null)E=!0,$||($=!0,Ut());else{var X=n(m);X!==null&&qt(G,X.startTime-_)}}var $=!1,q=-1,W=5,rt=-1;function $t(){return T?!0:!(l.unstable_now()-rt<W)}function he(){if(T=!1,$){var _=l.unstable_now();rt=_;var X=!0;try{t:{E=!1,M&&(M=!1,H(q),q=-1),v=!0;var it=S;try{e:{for(K(_),y=n(d);y!==null&&!(y.expirationTime>_&&$t());){var Ct=y.callback;if(typeof Ct=="function"){y.callback=null,S=y.priorityLevel;var Dt=Ct(y.expirationTime<=_);if(_=l.unstable_now(),typeof Dt=="function"){y.callback=Dt,K(_),X=!0;break e}y===n(d)&&r(d),K(_)}else r(d);y=n(d)}if(y!==null)X=!0;else{var A=n(m);A!==null&&qt(G,A.startTime-_),X=!1}}break t}finally{y=null,S=it,v=!1}X=void 0}}finally{X?Ut():$=!1}}}var Ut;if(typeof Y=="function")Ut=function(){Y(he)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,It=ke.port2;ke.port1.onmessage=he,Ut=function(){It.postMessage(null)}}else Ut=function(){N(he,0)};function qt(_,X){q=N(function(){_(l.unstable_now())},X)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(_){_.callback=null},l.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<_?Math.floor(1e3/_):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_next=function(_){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var it=S;S=X;try{return _()}finally{S=it}},l.unstable_requestPaint=function(){T=!0},l.unstable_runWithPriority=function(_,X){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var it=S;S=_;try{return X()}finally{S=it}},l.unstable_scheduleCallback=function(_,X,it){var Ct=l.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?Ct+it:Ct):it=Ct,_){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=it+Dt,_={id:g++,callback:X,priorityLevel:_,startTime:it,expirationTime:Dt,sortIndex:-1},it>Ct?(_.sortIndex=it,t(m,_),n(d)===null&&_===n(m)&&(M?(H(q),q=-1):M=!0,qt(G,it-Ct))):(_.sortIndex=Dt,t(d,_),E||v||(E=!0,$||($=!0,Ut()))),_},l.unstable_shouldYield=$t,l.unstable_wrapCallback=function(_){var X=S;return function(){var it=S;S=X;try{return _.apply(this,arguments)}finally{S=it}}}})($c)),$c}var bg;function kv(){return bg||(bg=1,Zc.exports=Dv()),Zc.exports}var Ic={exports:{}},lt={};var Sg;function zv(){if(Sg)return lt;Sg=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,T={};function N(A,j,J){this.props=A,this.context=j,this.refs=T,this.updater=J||E}N.prototype.isReactComponent={},N.prototype.setState=function(A,j){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,j,"setState")},N.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function H(){}H.prototype=N.prototype;function Y(A,j,J){this.props=A,this.context=j,this.refs=T,this.updater=J||E}var K=Y.prototype=new H;K.constructor=Y,M(K,N.prototype),K.isPureReactComponent=!0;var G=Array.isArray;function $(){}var q={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function rt(A,j,J){var I=J.ref;return{$$typeof:l,type:A,key:j,ref:I!==void 0?I:null,props:J}}function $t(A,j){return rt(A.type,j,A.props)}function he(A){return typeof A=="object"&&A!==null&&A.$$typeof===l}function Ut(A){var j={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(J){return j[J]})}var ke=/\/+/g;function It(A,j){return typeof A=="object"&&A!==null&&A.key!=null?Ut(""+A.key):j.toString(36)}function qt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then($,$):(A.status="pending",A.then(function(j){A.status==="pending"&&(A.status="fulfilled",A.value=j)},function(j){A.status==="pending"&&(A.status="rejected",A.reason=j)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function _(A,j,J,I,st){var ft=typeof A;(ft==="undefined"||ft==="boolean")&&(A=null);var Et=!1;if(A===null)Et=!0;else switch(ft){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(A.$$typeof){case l:case t:Et=!0;break;case g:return Et=A._init,_(Et(A._payload),j,J,I,st)}}if(Et)return st=st(A),Et=I===""?"."+It(A,0):I,G(st)?(J="",Et!=null&&(J=Et.replace(ke,"$&/")+"/"),_(st,j,J,"",function(rr){return rr})):st!=null&&(he(st)&&(st=$t(st,J+(st.key==null||A&&A.key===st.key?"":(""+st.key).replace(ke,"$&/")+"/")+Et)),j.push(st)),1;Et=0;var ye=I===""?".":I+":";if(G(A))for(var Ht=0;Ht<A.length;Ht++)I=A[Ht],ft=ye+It(I,Ht),Et+=_(I,j,J,ft,st);else if(Ht=v(A),typeof Ht=="function")for(A=Ht.call(A),Ht=0;!(I=A.next()).done;)I=I.value,ft=ye+It(I,Ht++),Et+=_(I,j,J,ft,st);else if(ft==="object"){if(typeof A.then=="function")return _(qt(A),j,J,I,st);throw j=String(A),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Et}function X(A,j,J){if(A==null)return A;var I=[],st=0;return _(A,I,"","",function(ft){return j.call(J,ft,st++)}),I}function it(A){if(A._status===-1){var j=A._result;j=j(),j.then(function(J){(A._status===0||A._status===-1)&&(A._status=1,A._result=J)},function(J){(A._status===0||A._status===-1)&&(A._status=2,A._result=J)}),A._status===-1&&(A._status=0,A._result=j)}if(A._status===1)return A._result.default;throw A._result}var Ct=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Dt={map:X,forEach:function(A,j,J){X(A,function(){j.apply(this,arguments)},J)},count:function(A){var j=0;return X(A,function(){j++}),j},toArray:function(A){return X(A,function(j){return j})||[]},only:function(A){if(!he(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return lt.Activity=y,lt.Children=Dt,lt.Component=N,lt.Fragment=n,lt.Profiler=a,lt.PureComponent=Y,lt.StrictMode=r,lt.Suspense=d,lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,lt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return q.H.useMemoCache(A)}},lt.cache=function(A){return function(){return A.apply(null,arguments)}},lt.cacheSignal=function(){return null},lt.cloneElement=function(A,j,J){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var I=M({},A.props),st=A.key;if(j!=null)for(ft in j.key!==void 0&&(st=""+j.key),j)!W.call(j,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&j.ref===void 0||(I[ft]=j[ft]);var ft=arguments.length-2;if(ft===1)I.children=J;else if(1<ft){for(var Et=Array(ft),ye=0;ye<ft;ye++)Et[ye]=arguments[ye+2];I.children=Et}return rt(A.type,st,I)},lt.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},lt.createElement=function(A,j,J){var I,st={},ft=null;if(j!=null)for(I in j.key!==void 0&&(ft=""+j.key),j)W.call(j,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(st[I]=j[I]);var Et=arguments.length-2;if(Et===1)st.children=J;else if(1<Et){for(var ye=Array(Et),Ht=0;Ht<Et;Ht++)ye[Ht]=arguments[Ht+2];st.children=ye}if(A&&A.defaultProps)for(I in Et=A.defaultProps,Et)st[I]===void 0&&(st[I]=Et[I]);return rt(A,ft,st)},lt.createRef=function(){return{current:null}},lt.forwardRef=function(A){return{$$typeof:f,render:A}},lt.isValidElement=he,lt.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:it}},lt.memo=function(A,j){return{$$typeof:m,type:A,compare:j===void 0?null:j}},lt.startTransition=function(A){var j=q.T,J={};q.T=J;try{var I=A(),st=q.S;st!==null&&st(J,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then($,Ct)}catch(ft){Ct(ft)}finally{j!==null&&J.types!==null&&(j.types=J.types),q.T=j}},lt.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},lt.use=function(A){return q.H.use(A)},lt.useActionState=function(A,j,J){return q.H.useActionState(A,j,J)},lt.useCallback=function(A,j){return q.H.useCallback(A,j)},lt.useContext=function(A){return q.H.useContext(A)},lt.useDebugValue=function(){},lt.useDeferredValue=function(A,j){return q.H.useDeferredValue(A,j)},lt.useEffect=function(A,j){return q.H.useEffect(A,j)},lt.useEffectEvent=function(A){return q.H.useEffectEvent(A)},lt.useId=function(){return q.H.useId()},lt.useImperativeHandle=function(A,j,J){return q.H.useImperativeHandle(A,j,J)},lt.useInsertionEffect=function(A,j){return q.H.useInsertionEffect(A,j)},lt.useLayoutEffect=function(A,j){return q.H.useLayoutEffect(A,j)},lt.useMemo=function(A,j){return q.H.useMemo(A,j)},lt.useOptimistic=function(A,j){return q.H.useOptimistic(A,j)},lt.useReducer=function(A,j,J){return q.H.useReducer(A,j,J)},lt.useRef=function(A){return q.H.useRef(A)},lt.useState=function(A){return q.H.useState(A)},lt.useSyncExternalStore=function(A,j,J){return q.H.useSyncExternalStore(A,j,J)},lt.useTransition=function(){return q.H.useTransition()},lt.version="19.2.4",lt}var vg;function Es(){return vg||(vg=1,Ic.exports=zv()),Ic.exports}var Fc={exports:{}},pe={};var Eg;function wv(){if(Eg)return pe;Eg=1;var l=Es();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:m,implementation:g}}var c=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pe.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,g)},pe.flushSync=function(d){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=g,r.d.f()}},pe.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},pe.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},pe.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:v}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:S,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pe.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},pe.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pe.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},pe.requestFormReset=function(d){r.d.r(d)},pe.unstable_batchedUpdates=function(d,m){return d(m)},pe.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},pe.useFormStatus=function(){return c.H.useHostTransitionStatus()},pe.version="19.2.4",pe}var xg;function Jy(){if(xg)return Fc.exports;xg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Fc.exports=wv(),Fc.exports}var Mg;function Rv(){if(Mg)return Pr;Mg=1;var l=kv(),t=Es(),n=Jy();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(r(188))}function m(e){var i=e.alternate;if(!i){if(i=o(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,u=i;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return d(h),e;if(p===u)return d(h),i;p=p.sibling}throw Error(r(188))}if(s.return!==u.return)s=h,u=p;else{for(var b=!1,x=h.child;x;){if(x===s){b=!0,s=h,u=p;break}if(x===u){b=!0,u=h,s=p;break}x=x.sibling}if(!b){for(x=p.child;x;){if(x===s){b=!0,s=p,u=h;break}if(x===u){b=!0,u=p,s=h;break}x=x.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),rt=Symbol.for("react.activity"),$t=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function Ut(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function It(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case G:return"Suspense";case $:return"SuspenseList";case rt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case Y:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case K:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return i=e.displayName||null,i!==null?i:It(e.type)||"Memo";case W:i=e._payload,e=e._init;try{return It(e(i))}catch{}}return null}var qt=Array.isArray,_=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},Ct=[],Dt=-1;function A(e){return{current:e}}function j(e){0>Dt||(e.current=Ct[Dt],Ct[Dt]=null,Dt--)}function J(e,i){Dt++,Ct[Dt]=e.current,e.current=i}var I=A(null),st=A(null),ft=A(null),Et=A(null);function ye(e,i){switch(J(ft,i),J(st,e),J(I,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?jm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=jm(i),e=qm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(I),J(I,e)}function Ht(){j(I),j(st),j(ft)}function rr(e){e.memoizedState!==null&&J(Et,e);var i=I.current,s=qm(i,e.type);i!==s&&(J(st,e),J(I,s))}function Cs(e){st.current===e&&(j(I),j(st)),Et.current===e&&(j(Et),Zr._currentValue=it)}var No,pd;function Ni(e){if(No===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);No=i&&i[1]||"",pd=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+No+e+pd}var Do=!1;function ko(e,i){if(!e||Do)return"";Do=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(R){var w=R}Reflect.construct(e,[],V)}else{try{V.call()}catch(R){w=R}e.call(V.prototype)}}else{try{throw Error()}catch(R){w=R}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(R){if(R&&w&&typeof R.stack=="string")return[R.stack,w.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],x=p[1];if(b&&x){var C=b.split(`
`),z=x.split(`
`);for(h=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(u===C.length||h===z.length)for(u=C.length-1,h=z.length-1;1<=u&&0<=h&&C[u]!==z[h];)h--;for(;1<=u&&0<=h;u--,h--)if(C[u]!==z[h]){if(u!==1||h!==1)do if(u--,h--,0>h||C[u]!==z[h]){var B=`
`+C[u].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=u&&0<=h);break}}}finally{Do=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ni(s):""}function lb(e,i){switch(e.tag){case 26:case 27:case 5:return Ni(e.type);case 16:return Ni("Lazy");case 13:return e.child!==i&&i!==null?Ni("Suspense Fallback"):Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return ko(e.type,!1);case 11:return ko(e.type.render,!1);case 1:return ko(e.type,!0);case 31:return Ni("Activity");default:return""}}function md(e){try{var i="",s=null;do i+=lb(e,s),s=e,e=e.return;while(e);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var zo=Object.prototype.hasOwnProperty,wo=l.unstable_scheduleCallback,Ro=l.unstable_cancelCallback,rb=l.unstable_shouldYield,sb=l.unstable_requestPaint,ze=l.unstable_now,ab=l.unstable_getCurrentPriorityLevel,gd=l.unstable_ImmediatePriority,yd=l.unstable_UserBlockingPriority,Os=l.unstable_NormalPriority,ob=l.unstable_LowPriority,bd=l.unstable_IdlePriority,ub=l.log,cb=l.unstable_setDisableYieldValue,sr=null,we=null;function Yn(e){if(typeof ub=="function"&&cb(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(sr,e)}catch{}}var Re=Math.clz32?Math.clz32:hb,fb=Math.log,db=Math.LN2;function hb(e){return e>>>=0,e===0?32:31-(fb(e)/db|0)|0}var As=256,Ns=262144,Ds=4194304;function Di(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ks(e,i,s){var u=e.pendingLanes;if(u===0)return 0;var h=0,p=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var x=u&134217727;return x!==0?(u=x&~p,u!==0?h=Di(u):(b&=x,b!==0?h=Di(b):s||(s=x&~e,s!==0&&(h=Di(s))))):(x=u&~p,x!==0?h=Di(x):b!==0?h=Di(b):s||(s=u&~e,s!==0&&(h=Di(s)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:h}function ar(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function pb(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(){var e=Ds;return Ds<<=1,(Ds&62914560)===0&&(Ds=4194304),e}function Bo(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function or(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mb(e,i,s,u,h,p){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var x=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=b&~s;0<s;){var B=31-Re(s),V=1<<B;x[B]=0,C[B]=-1;var w=z[B];if(w!==null)for(z[B]=null,B=0;B<w.length;B++){var R=w[B];R!==null&&(R.lane&=-536870913)}s&=~V}u!==0&&vd(e,u,0),p!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=p&~(b&~i))}function vd(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-Re(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|s&261930}function Ed(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var u=31-Re(s),h=1<<u;h&i|e[u]&i&&(e[u]|=i),s&=~h}}function xd(e,i){var s=i&-i;return s=(s&42)!==0?1:_o(s),(s&(e.suspendedLanes|i))!==0?0:s}function _o(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Uo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Md(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:og(e.type))}function Td(e,i){var s=X.p;try{return X.p=e,i()}finally{X.p=s}}var Gn=Math.random().toString(36).slice(2),le="__reactFiber$"+Gn,Ee="__reactProps$"+Gn,ol="__reactContainer$"+Gn,Vo="__reactEvents$"+Gn,gb="__reactListeners$"+Gn,yb="__reactHandles$"+Gn,Cd="__reactResources$"+Gn,ur="__reactMarker$"+Gn;function jo(e){delete e[le],delete e[Ee],delete e[Vo],delete e[gb],delete e[yb]}function ul(e){var i=e[le];if(i)return i;for(var s=e.parentNode;s;){if(i=s[ol]||s[le]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Km(e);e!==null;){if(s=e[le])return s;e=Km(e)}return i}e=s,s=e.parentNode}return null}function cl(e){if(e=e[le]||e[ol]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function cr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function fl(e){var i=e[Cd];return i||(i=e[Cd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ft(e){e[ur]=!0}var Od=new Set,Ad={};function ki(e,i){dl(e,i),dl(e+"Capture",i)}function dl(e,i){for(Ad[e]=i,e=0;e<i.length;e++)Od.add(i[e])}var bb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nd={},Dd={};function Sb(e){return zo.call(Dd,e)?!0:zo.call(Nd,e)?!1:bb.test(e)?Dd[e]=!0:(Nd[e]=!0,!1)}function zs(e,i,s){if(Sb(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function ws(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function bn(e,i,s,u){if(u===null)e.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+u)}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kd(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vb(e,i,s){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,p=u.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){s=""+b,p.call(this,b)}}),Object.defineProperty(e,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function qo(e){if(!e._valueTracker){var i=kd(e)?"checked":"value";e._valueTracker=vb(e,i,""+e[i])}}function zd(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return e&&(u=kd(e)?e.checked?"true":"false":e.value),e=u,e!==s?(i.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Eb=/[\n"\\]/g;function Xe(e){return e.replace(Eb,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ho(e,i,s,u,h,p,b,x){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),i!=null?b==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ge(i)):e.value!==""+Ge(i)&&(e.value=""+Ge(i)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),i!=null?Lo(e,b,Ge(i)):s!=null?Lo(e,b,Ge(s)):u!=null&&e.removeAttribute("value"),h==null&&p!=null&&(e.defaultChecked=!!p),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Ge(x):e.removeAttribute("name")}function wd(e,i,s,u,h,p,b,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){qo(e);return}s=s!=null?""+Ge(s):"",i=i!=null?""+Ge(i):s,x||i===e.value||(e.value=i),e.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=x?e.checked:!!u,e.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),qo(e)}function Lo(e,i,s){i==="number"&&Rs(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function hl(e,i,s,u){if(e=e.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=i.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&u&&(e[s].defaultSelected=!0)}else{for(s=""+Ge(s),i=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Rd(e,i,s){if(i!=null&&(i=""+Ge(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Ge(s):""}function Bd(e,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(r(92));if(qt(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Ge(i),e.defaultValue=s,u=e.textContent,u===s&&u!==""&&u!==null&&(e.value=u),qo(e)}function pl(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var xb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _d(e,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,s):typeof s!="number"||s===0||xb.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Ud(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&s[h]!==u&&_d(e,h,u)}else for(var p in i)i.hasOwnProperty(p)&&_d(e,p,i[p])}function Yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(e){return Tb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sn(){}var Go=null;function Xo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,gl=null;function Vd(e){var i=cl(e);if(i&&(e=i.stateNode)){var s=e[Ee]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ho(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Xe(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==e&&u.form===e.form){var h=u[Ee]||null;if(!h)throw Error(r(90));Ho(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===e.form&&zd(u)}break t;case"textarea":Rd(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&hl(e,!!s.multiple,i,!1)}}}var Jo=!1;function jd(e,i,s){if(Jo)return e(i,s);Jo=!0;try{var u=e(i);return u}finally{if(Jo=!1,(ml!==null||gl!==null)&&(Ea(),ml&&(i=ml,e=gl,gl=ml=null,Vd(i),e)))for(i=0;i<e.length;i++)Vd(e[i])}}function fr(e,i){var s=e.stateNode;if(s===null)return null;var u=s[Ee]||null;if(u===null)return null;s=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=!1;if(vn)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Ko=!1}var Xn=null,Qo=null,_s=null;function qd(){if(_s)return _s;var e,i=Qo,s=i.length,u,h="value"in Xn?Xn.value:Xn.textContent,p=h.length;for(e=0;e<s&&i[e]===h[e];e++);var b=s-e;for(u=1;u<=b&&i[s-u]===h[p-u];u++);return _s=h.slice(e,1<u?1-u:void 0)}function Us(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function Hd(){return!1}function xe(e){function i(s,u,h,p,b){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Vs:Hd,this.isPropagationStopped=Hd,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=xe(zi),hr=y({},zi,{view:0,detail:0}),Cb=xe(hr),Zo,$o,pr,qs=y({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(Zo=e.screenX-pr.screenX,$o=e.screenY-pr.screenY):$o=Zo=0,pr=e),Zo)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),Ld=xe(qs),Ob=y({},qs,{dataTransfer:0}),Ab=xe(Ob),Nb=y({},hr,{relatedTarget:0}),Io=xe(Nb),Db=y({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),kb=xe(Db),zb=y({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wb=xe(zb),Rb=y({},zi,{data:0}),Yd=xe(Rb),Bb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_b={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ub={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vb(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ub[e])?!!i[e]:!1}function Fo(){return Vb}var jb=y({},hr,{key:function(e){if(e.key){var i=Bb[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_b[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fo,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qb=xe(jb),Hb=y({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=xe(Hb),Lb=y({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fo}),Yb=xe(Lb),Gb=y({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xb=xe(Gb),Jb=y({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kb=xe(Jb),Qb=y({},zi,{newState:0,oldState:0}),Zb=xe(Qb),$b=[9,13,27,32],Wo=vn&&"CompositionEvent"in window,mr=null;vn&&"documentMode"in document&&(mr=document.documentMode);var Ib=vn&&"TextEvent"in window&&!mr,Xd=vn&&(!Wo||mr&&8<mr&&11>=mr),Jd=" ",Kd=!1;function Qd(e,i){switch(e){case"keyup":return $b.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yl=!1;function Fb(e,i){switch(e){case"compositionend":return Zd(i);case"keypress":return i.which!==32?null:(Kd=!0,Jd);case"textInput":return e=i.data,e===Jd&&Kd?null:e;default:return null}}function Wb(e,i){if(yl)return e==="compositionend"||!Wo&&Qd(e,i)?(e=qd(),_s=Qo=Xn=null,yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xd&&i.locale!=="ko"?null:i.data;default:return null}}var Pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Pb[e.type]:i==="textarea"}function Id(e,i,s,u){ml?gl?gl.push(u):gl=[u]:ml=u,i=Na(i,"onChange"),0<i.length&&(s=new js("onChange","change",null,s,u),e.push({event:s,listeners:i}))}var gr=null,yr=null;function tS(e){wm(e,0)}function Hs(e){var i=cr(e);if(zd(i))return e}function Fd(e,i){if(e==="change")return i}var Wd=!1;if(vn){var Po;if(vn){var tu="oninput"in document;if(!tu){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),tu=typeof Pd.oninput=="function"}Po=tu}else Po=!1;Wd=Po&&(!document.documentMode||9<document.documentMode)}function th(){gr&&(gr.detachEvent("onpropertychange",eh),yr=gr=null)}function eh(e){if(e.propertyName==="value"&&Hs(yr)){var i=[];Id(i,yr,e,Xo(e)),jd(tS,i)}}function eS(e,i,s){e==="focusin"?(th(),gr=i,yr=s,gr.attachEvent("onpropertychange",eh)):e==="focusout"&&th()}function nS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(yr)}function iS(e,i){if(e==="click")return Hs(i)}function lS(e,i){if(e==="input"||e==="change")return Hs(i)}function rS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Be=typeof Object.is=="function"?Object.is:rS;function br(e,i){if(Be(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!zo.call(i,h)||!Be(e[h],i[h]))return!1}return!0}function nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,i){var s=nh(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=i&&u>=i)return{node:s,offset:i-e};e=u}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=nh(s)}}function lh(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?lh(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function rh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Rs(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Rs(e.document)}return i}function eu(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var sS=vn&&"documentMode"in document&&11>=document.documentMode,bl=null,nu=null,Sr=null,iu=!1;function sh(e,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;iu||bl==null||bl!==Rs(u)||(u=bl,"selectionStart"in u&&eu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Sr&&br(Sr,u)||(Sr=u,u=Na(nu,"onSelect"),0<u.length&&(i=new js("onSelect","select",null,i,s),e.push({event:i,listeners:u}),i.target=bl)))}function wi(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var Sl={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionrun:wi("Transition","TransitionRun"),transitionstart:wi("Transition","TransitionStart"),transitioncancel:wi("Transition","TransitionCancel"),transitionend:wi("Transition","TransitionEnd")},lu={},ah={};vn&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Ri(e){if(lu[e])return lu[e];if(!Sl[e])return e;var i=Sl[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in ah)return lu[e]=i[s];return e}var oh=Ri("animationend"),uh=Ri("animationiteration"),ch=Ri("animationstart"),aS=Ri("transitionrun"),oS=Ri("transitionstart"),uS=Ri("transitioncancel"),fh=Ri("transitionend"),dh=new Map,ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ru.push("scrollEnd");function ln(e,i){dh.set(e,i),ki(i,[e])}var Ls=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Je=[],vl=0,su=0;function Ys(){for(var e=vl,i=su=vl=0;i<e;){var s=Je[i];Je[i++]=null;var u=Je[i];Je[i++]=null;var h=Je[i];Je[i++]=null;var p=Je[i];if(Je[i++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}p!==0&&hh(s,h,p)}}function Gs(e,i,s,u){Je[vl++]=e,Je[vl++]=i,Je[vl++]=s,Je[vl++]=u,su|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function au(e,i,s,u){return Gs(e,i,s,u),Xs(e)}function Bi(e,i){return Gs(e,null,null,i),Xs(e)}function hh(e,i,s){e.lanes|=s;var u=e.alternate;u!==null&&(u.lanes|=s);for(var h=!1,p=e.return;p!==null;)p.childLanes|=s,u=p.alternate,u!==null&&(u.childLanes|=s),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(h=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,h&&i!==null&&(h=31-Re(s),e=p.hiddenUpdates,u=e[h],u===null?e[h]=[i]:u.push(i),i.lane=s|536870912),p):null}function Xs(e){if(50<Lr)throw Lr=0,gc=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var El={};function cS(e,i,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _e(e,i,s,u){return new cS(e,i,s,u)}function ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function En(e,i){var s=e.alternate;return s===null?(s=_e(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function ph(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Js(e,i,s,u,h,p){var b=0;if(u=e,typeof e=="function")ou(e)&&(b=1);else if(typeof e=="string")b=mv(e,s,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case rt:return e=_e(31,s,i,h),e.elementType=rt,e.lanes=p,e;case M:return _i(s.children,h,p,i);case T:b=8,h|=24;break;case N:return e=_e(12,s,i,h|2),e.elementType=N,e.lanes=p,e;case G:return e=_e(13,s,i,h),e.elementType=G,e.lanes=p,e;case $:return e=_e(19,s,i,h),e.elementType=$,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:b=10;break t;case H:b=9;break t;case K:b=11;break t;case q:b=14;break t;case W:b=16,u=null;break t}b=29,s=Error(r(130,e===null?"null":typeof e,"")),u=null}return i=_e(b,s,i,h),i.elementType=e,i.type=u,i.lanes=p,i}function _i(e,i,s,u){return e=_e(7,e,u,i),e.lanes=s,e}function uu(e,i,s){return e=_e(6,e,null,i),e.lanes=s,e}function mh(e){var i=_e(18,null,null,0);return i.stateNode=e,i}function cu(e,i,s){return i=_e(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var gh=new WeakMap;function Ke(e,i){if(typeof e=="object"&&e!==null){var s=gh.get(e);return s!==void 0?s:(i={value:e,source:i,stack:md(i)},gh.set(e,i),i)}return{value:e,source:i,stack:md(i)}}var xl=[],Ml=0,Ks=null,vr=0,Qe=[],Ze=0,Jn=null,fn=1,dn="";function xn(e,i){xl[Ml++]=vr,xl[Ml++]=Ks,Ks=e,vr=i}function yh(e,i,s){Qe[Ze++]=fn,Qe[Ze++]=dn,Qe[Ze++]=Jn,Jn=e;var u=fn;e=dn;var h=32-Re(u)-1;u&=~(1<<h),s+=1;var p=32-Re(i)+h;if(30<p){var b=h-h%5;p=(u&(1<<b)-1).toString(32),u>>=b,h-=b,fn=1<<32-Re(i)+h|s<<h|u,dn=p+e}else fn=1<<p|s<<h|u,dn=e}function fu(e){e.return!==null&&(xn(e,1),yh(e,1,0))}function du(e){for(;e===Ks;)Ks=xl[--Ml],xl[Ml]=null,vr=xl[--Ml],xl[Ml]=null;for(;e===Jn;)Jn=Qe[--Ze],Qe[Ze]=null,dn=Qe[--Ze],Qe[Ze]=null,fn=Qe[--Ze],Qe[Ze]=null}function bh(e,i){Qe[Ze++]=fn,Qe[Ze++]=dn,Qe[Ze++]=Jn,fn=i.id,dn=i.overflow,Jn=e}var re=null,wt=null,gt=!1,Kn=null,$e=!1,hu=Error(r(519));function Qn(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Er(Ke(i,e)),hu}function Sh(e){var i=e.stateNode,s=e.type,u=e.memoizedProps;switch(i[le]=e,i[Ee]=u,s){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(s=0;s<Gr.length;s++)ht(Gr[s],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":ht("invalid",i),wd(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ht("invalid",i);break;case"textarea":ht("invalid",i),Bd(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||Um(i.textContent,s)?(u.popover!=null&&(ht("beforetoggle",i),ht("toggle",i)),u.onScroll!=null&&ht("scroll",i),u.onScrollEnd!=null&&ht("scrollend",i),u.onClick!=null&&(i.onclick=Sn),i=!0):i=!1,i||Qn(e,!0)}function vh(e){for(re=e.return;re;)switch(re.tag){case 5:case 31:case 13:$e=!1;return;case 27:case 3:$e=!0;return;default:re=re.return}}function Tl(e){if(e!==re)return!1;if(!gt)return vh(e),gt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||zc(e.type,e.memoizedProps)),s=!s),s&&wt&&Qn(e),vh(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));wt=Jm(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));wt=Jm(e)}else i===27?(i=wt,ai(e.type)?(e=Uc,Uc=null,wt=e):wt=i):wt=re?Fe(e.stateNode.nextSibling):null;return!0}function Ui(){wt=re=null,gt=!1}function pu(){var e=Kn;return e!==null&&(Oe===null?Oe=e:Oe.push.apply(Oe,e),Kn=null),e}function Er(e){Kn===null?Kn=[e]:Kn.push(e)}var mu=A(null),Vi=null,Mn=null;function Zn(e,i,s){J(mu,i._currentValue),i._currentValue=s}function Tn(e){e._currentValue=mu.current,j(mu)}function gu(e,i,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===s)break;e=e.return}}function yu(e,i,s,u){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var p=h.dependencies;if(p!==null){var b=h.child;p=p.firstContext;t:for(;p!==null;){var x=p;p=h;for(var C=0;C<i.length;C++)if(x.context===i[C]){p.lanes|=s,x=p.alternate,x!==null&&(x.lanes|=s),gu(p.return,s,e),u||(b=null);break t}p=x.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(r(341));b.lanes|=s,p=b.alternate,p!==null&&(p.lanes|=s),gu(b,s,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Cl(e,i,s,u){e=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=h.type;Be(h.pendingProps.value,b.value)||(e!==null?e.push(x):e=[x])}}else if(h===Et.current){if(b=h.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Zr):e=[Zr])}h=h.return}e!==null&&yu(i,e,s,u),i.flags|=262144}function Qs(e){for(e=e.firstContext;e!==null;){if(!Be(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){Vi=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function se(e){return Eh(Vi,e)}function Zs(e,i){return Vi===null&&ji(e),Eh(e,i)}function Eh(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Mn===null){if(e===null)throw Error(r(308));Mn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mn=Mn.next=i;return s}var fS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},dS=l.unstable_scheduleCallback,hS=l.unstable_NormalPriority,Gt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bu(){return{controller:new fS,data:new Map,refCount:0}}function xr(e){e.refCount--,e.refCount===0&&dS(hS,function(){e.controller.abort()})}var Mr=null,Su=0,Ol=0,Al=null;function pS(e,i){if(Mr===null){var s=Mr=[];Su=0,Ol=xc(),Al={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Su++,i.then(xh,xh),i}function xh(){if(--Su===0&&Mr!==null){Al!==null&&(Al.status="fulfilled");var e=Mr;Mr=null,Ol=0,Al=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function mS(e,i){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var Mh=_.S;_.S=function(e,i){sm=ze(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pS(e,i),Mh!==null&&Mh(e,i)};var qi=A(null);function vu(){var e=qi.current;return e!==null?e:kt.pooledCache}function $s(e,i){i===null?J(qi,qi.current):J(qi,i.pool)}function Th(){var e=vu();return e===null?null:{parent:Gt._currentValue,pool:e}}var Nl=Error(r(460)),Eu=Error(r(474)),Is=Error(r(542)),Fs={then:function(){}};function Ch(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Oh(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Sn,Sn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Nh(e),e;default:if(typeof i.status=="string")i.then(Sn,Sn);else{if(e=kt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Nh(e),e}throw Li=i,Nl}}function Hi(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Li=s,Nl):s}}var Li=null;function Ah(){if(Li===null)throw Error(r(459));var e=Li;return Li=null,e}function Nh(e){if(e===Nl||e===Is)throw Error(r(483))}var Dl=null,Tr=0;function Ws(e){var i=Tr;return Tr+=1,Dl===null&&(Dl=[]),Oh(Dl,e,i)}function Cr(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ps(e,i){throw i.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Dh(e){function i(D,O){if(e){var k=D.deletions;k===null?(D.deletions=[O],D.flags|=16):k.push(O)}}function s(D,O){if(!e)return null;for(;O!==null;)i(D,O),O=O.sibling;return null}function u(D){for(var O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function h(D,O){return D=En(D,O),D.index=0,D.sibling=null,D}function p(D,O,k){return D.index=k,e?(k=D.alternate,k!==null?(k=k.index,k<O?(D.flags|=67108866,O):k):(D.flags|=67108866,O)):(D.flags|=1048576,O)}function b(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function x(D,O,k,U){return O===null||O.tag!==6?(O=uu(k,D.mode,U),O.return=D,O):(O=h(O,k),O.return=D,O)}function C(D,O,k,U){var P=k.type;return P===M?B(D,O,k.props.children,U,k.key):O!==null&&(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===W&&Hi(P)===O.type)?(O=h(O,k.props),Cr(O,k),O.return=D,O):(O=Js(k.type,k.key,k.props,null,D.mode,U),Cr(O,k),O.return=D,O)}function z(D,O,k,U){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=cu(k,D.mode,U),O.return=D,O):(O=h(O,k.children||[]),O.return=D,O)}function B(D,O,k,U,P){return O===null||O.tag!==7?(O=_i(k,D.mode,U,P),O.return=D,O):(O=h(O,k),O.return=D,O)}function V(D,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=uu(""+O,D.mode,k),O.return=D,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return k=Js(O.type,O.key,O.props,null,D.mode,k),Cr(k,O),k.return=D,k;case E:return O=cu(O,D.mode,k),O.return=D,O;case W:return O=Hi(O),V(D,O,k)}if(qt(O)||Ut(O))return O=_i(O,D.mode,k,null),O.return=D,O;if(typeof O.then=="function")return V(D,Ws(O),k);if(O.$$typeof===Y)return V(D,Zs(D,O),k);Ps(D,O)}return null}function w(D,O,k,U){var P=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return P!==null?null:x(D,O,""+k,U);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case v:return k.key===P?C(D,O,k,U):null;case E:return k.key===P?z(D,O,k,U):null;case W:return k=Hi(k),w(D,O,k,U)}if(qt(k)||Ut(k))return P!==null?null:B(D,O,k,U,null);if(typeof k.then=="function")return w(D,O,Ws(k),U);if(k.$$typeof===Y)return w(D,O,Zs(D,k),U);Ps(D,k)}return null}function R(D,O,k,U,P){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return D=D.get(k)||null,x(O,D,""+U,P);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return D=D.get(U.key===null?k:U.key)||null,C(O,D,U,P);case E:return D=D.get(U.key===null?k:U.key)||null,z(O,D,U,P);case W:return U=Hi(U),R(D,O,k,U,P)}if(qt(U)||Ut(U))return D=D.get(k)||null,B(O,D,U,P,null);if(typeof U.then=="function")return R(D,O,k,Ws(U),P);if(U.$$typeof===Y)return R(D,O,k,Zs(O,U),P);Ps(O,U)}return null}function Z(D,O,k,U){for(var P=null,bt=null,F=O,ot=O=0,mt=null;F!==null&&ot<k.length;ot++){F.index>ot?(mt=F,F=null):mt=F.sibling;var St=w(D,F,k[ot],U);if(St===null){F===null&&(F=mt);break}e&&F&&St.alternate===null&&i(D,F),O=p(St,O,ot),bt===null?P=St:bt.sibling=St,bt=St,F=mt}if(ot===k.length)return s(D,F),gt&&xn(D,ot),P;if(F===null){for(;ot<k.length;ot++)F=V(D,k[ot],U),F!==null&&(O=p(F,O,ot),bt===null?P=F:bt.sibling=F,bt=F);return gt&&xn(D,ot),P}for(F=u(F);ot<k.length;ot++)mt=R(F,D,ot,k[ot],U),mt!==null&&(e&&mt.alternate!==null&&F.delete(mt.key===null?ot:mt.key),O=p(mt,O,ot),bt===null?P=mt:bt.sibling=mt,bt=mt);return e&&F.forEach(function(di){return i(D,di)}),gt&&xn(D,ot),P}function et(D,O,k,U){if(k==null)throw Error(r(151));for(var P=null,bt=null,F=O,ot=O=0,mt=null,St=k.next();F!==null&&!St.done;ot++,St=k.next()){F.index>ot?(mt=F,F=null):mt=F.sibling;var di=w(D,F,St.value,U);if(di===null){F===null&&(F=mt);break}e&&F&&di.alternate===null&&i(D,F),O=p(di,O,ot),bt===null?P=di:bt.sibling=di,bt=di,F=mt}if(St.done)return s(D,F),gt&&xn(D,ot),P;if(F===null){for(;!St.done;ot++,St=k.next())St=V(D,St.value,U),St!==null&&(O=p(St,O,ot),bt===null?P=St:bt.sibling=St,bt=St);return gt&&xn(D,ot),P}for(F=u(F);!St.done;ot++,St=k.next())St=R(F,D,ot,St.value,U),St!==null&&(e&&St.alternate!==null&&F.delete(St.key===null?ot:St.key),O=p(St,O,ot),bt===null?P=St:bt.sibling=St,bt=St);return e&&F.forEach(function(Ov){return i(D,Ov)}),gt&&xn(D,ot),P}function Nt(D,O,k,U){if(typeof k=="object"&&k!==null&&k.type===M&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case v:t:{for(var P=k.key;O!==null;){if(O.key===P){if(P=k.type,P===M){if(O.tag===7){s(D,O.sibling),U=h(O,k.props.children),U.return=D,D=U;break t}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===W&&Hi(P)===O.type){s(D,O.sibling),U=h(O,k.props),Cr(U,k),U.return=D,D=U;break t}s(D,O);break}else i(D,O);O=O.sibling}k.type===M?(U=_i(k.props.children,D.mode,U,k.key),U.return=D,D=U):(U=Js(k.type,k.key,k.props,null,D.mode,U),Cr(U,k),U.return=D,D=U)}return b(D);case E:t:{for(P=k.key;O!==null;){if(O.key===P)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){s(D,O.sibling),U=h(O,k.children||[]),U.return=D,D=U;break t}else{s(D,O);break}else i(D,O);O=O.sibling}U=cu(k,D.mode,U),U.return=D,D=U}return b(D);case W:return k=Hi(k),Nt(D,O,k,U)}if(qt(k))return Z(D,O,k,U);if(Ut(k)){if(P=Ut(k),typeof P!="function")throw Error(r(150));return k=P.call(k),et(D,O,k,U)}if(typeof k.then=="function")return Nt(D,O,Ws(k),U);if(k.$$typeof===Y)return Nt(D,O,Zs(D,k),U);Ps(D,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(s(D,O.sibling),U=h(O,k),U.return=D,D=U):(s(D,O),U=uu(k,D.mode,U),U.return=D,D=U),b(D)):s(D,O)}return function(D,O,k,U){try{Tr=0;var P=Nt(D,O,k,U);return Dl=null,P}catch(F){if(F===Nl||F===Is)throw F;var bt=_e(29,F,null,D.mode);return bt.lanes=U,bt.return=D,bt}}}var Yi=Dh(!0),kh=Dh(!1),$n=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mu(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,i,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(vt&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=Xs(e),hh(e,null,s),i}return Gs(e,u,i,s),Xs(e)}function Or(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=e.pendingLanes,s|=u,i.lanes=s,Ed(e,s)}}function Tu(e,i){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?h=p=b:p=p.next=b,s=s.next}while(s!==null);p===null?h=p=i:p=p.next=i}else h=p=i;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var Cu=!1;function Ar(){if(Cu){var e=Al;if(e!==null)throw e}}function Nr(e,i,s,u){Cu=!1;var h=e.updateQueue;$n=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var C=x,z=C.next;C.next=null,b===null?p=z:b.next=z,b=C;var B=e.alternate;B!==null&&(B=B.updateQueue,x=B.lastBaseUpdate,x!==b&&(x===null?B.firstBaseUpdate=z:x.next=z,B.lastBaseUpdate=C))}if(p!==null){var V=h.baseState;b=0,B=z=C=null,x=p;do{var w=x.lane&-536870913,R=w!==x.lane;if(R?(pt&w)===w:(u&w)===w){w!==0&&w===Ol&&(Cu=!0),B!==null&&(B=B.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Z=e,et=x;w=i;var Nt=s;switch(et.tag){case 1:if(Z=et.payload,typeof Z=="function"){V=Z.call(Nt,V,w);break t}V=Z;break t;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=et.payload,w=typeof Z=="function"?Z.call(Nt,V,w):Z,w==null)break t;V=y({},V,w);break t;case 2:$n=!0}}w=x.callback,w!==null&&(e.flags|=64,R&&(e.flags|=8192),R=h.callbacks,R===null?h.callbacks=[w]:R.push(w))}else R={lane:w,tag:x.tag,payload:x.payload,callback:x.callback,next:null},B===null?(z=B=R,C=V):B=B.next=R,b|=w;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;R=x,x=R.next,R.next=null,h.lastBaseUpdate=R,h.shared.pending=null}}while(!0);B===null&&(C=V),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=B,p===null&&(h.shared.lanes=0),ni|=b,e.lanes=b,e.memoizedState=V}}function zh(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function wh(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zh(s[e],i)}var kl=A(null),ta=A(0);function Rh(e,i){e=Rn,J(ta,e),J(kl,i),Rn=e|i.baseLanes}function Ou(){J(ta,Rn),J(kl,kl.current)}function Au(){Rn=ta.current,j(kl),j(ta)}var Ue=A(null),Ie=null;function Wn(e){var i=e.alternate;J(Lt,Lt.current&1),J(Ue,e),Ie===null&&(i===null||kl.current!==null||i.memoizedState!==null)&&(Ie=e)}function Nu(e){J(Lt,Lt.current),J(Ue,e),Ie===null&&(Ie=e)}function Bh(e){e.tag===22?(J(Lt,Lt.current),J(Ue,e),Ie===null&&(Ie=e)):Pn()}function Pn(){J(Lt,Lt.current),J(Ue,Ue.current)}function Ve(e){j(Ue),Ie===e&&(Ie=null),j(Lt)}var Lt=A(0);function ea(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Bc(s)||_c(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cn=0,at=null,Ot=null,Xt=null,na=!1,zl=!1,Gi=!1,ia=0,Dr=0,wl=null,gS=0;function Vt(){throw Error(r(321))}function Du(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!Be(e[s],i[s]))return!1;return!0}function ku(e,i,s,u,h,p){return Cn=p,at=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,_.H=e===null||e.memoizedState===null?yp:Ju,Gi=!1,p=s(u,h),Gi=!1,zl&&(p=Uh(i,s,u,h)),_h(e),p}function _h(e){_.H=wr;var i=Ot!==null&&Ot.next!==null;if(Cn=0,Xt=Ot=at=null,na=!1,Dr=0,wl=null,i)throw Error(r(300));e===null||Jt||(e=e.dependencies,e!==null&&Qs(e)&&(Jt=!0))}function Uh(e,i,s,u){at=e;var h=0;do{if(zl&&(wl=null),Dr=0,zl=!1,25<=h)throw Error(r(301));if(h+=1,Xt=Ot=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}_.H=bp,p=i(s,u)}while(zl);return p}function yS(){var e=_.H,i=e.useState()[0];return i=typeof i.then=="function"?kr(i):i,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(at.flags|=1024),i}function zu(){var e=ia!==0;return ia=0,e}function wu(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Ru(e){if(na){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}na=!1}Cn=0,Xt=Ot=at=null,zl=!1,Dr=ia=0,wl=null}function be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?at.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function Yt(){if(Ot===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var i=Xt===null?at.memoizedState:Xt.next;if(i!==null)Xt=i,Ot=e;else{if(e===null)throw at.alternate===null?Error(r(467)):Error(r(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Xt===null?at.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function la(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kr(e){var i=Dr;return Dr+=1,wl===null&&(wl=[]),e=Oh(wl,e,i),i=at,(Xt===null?i.memoizedState:Xt.next)===null&&(i=i.alternate,_.H=i===null||i.memoizedState===null?yp:Ju),e}function ra(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kr(e);if(e.$$typeof===Y)return se(e)}throw Error(r(438,String(e)))}function Bu(e){var i=null,s=at.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=at.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=la(),at.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),u=0;u<e;u++)s[u]=$t;return i.index++,s}function On(e,i){return typeof i=="function"?i(e):i}function sa(e){var i=Yt();return _u(i,Ot,e)}function _u(e,i,s){var u=e.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=e.baseQueue,p=u.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}i.baseQueue=h=p,u.pending=null}if(p=e.baseState,h===null)e.memoizedState=p;else{i=h.next;var x=b=null,C=null,z=i,B=!1;do{var V=z.lane&-536870913;if(V!==z.lane?(pt&V)===V:(Cn&V)===V){var w=z.revertLane;if(w===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),V===Ol&&(B=!0);else if((Cn&w)===w){z=z.next,w===Ol&&(B=!0);continue}else V={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(x=C=V,b=p):C=C.next=V,at.lanes|=w,ni|=w;V=z.action,Gi&&s(p,V),p=z.hasEagerState?z.eagerState:s(p,V)}else w={lane:V,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(x=C=w,b=p):C=C.next=w,at.lanes|=V,ni|=V;z=z.next}while(z!==null&&z!==i);if(C===null?b=p:C.next=x,!Be(p,e.memoizedState)&&(Jt=!0,B&&(s=Al,s!==null)))throw s;e.memoizedState=p,e.baseState=b,e.baseQueue=C,u.lastRenderedState=p}return h===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Uu(e){var i=Yt(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=s.dispatch,h=s.pending,p=i.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do p=e(p,b.action),b=b.next;while(b!==h);Be(p,i.memoizedState)||(Jt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,u]}function Vh(e,i,s){var u=at,h=Yt(),p=gt;if(p){if(s===void 0)throw Error(r(407));s=s()}else s=i();var b=!Be((Ot||h).memoizedState,s);if(b&&(h.memoizedState=s,Jt=!0),h=h.queue,qu(Hh.bind(null,u,h,e),[e]),h.getSnapshot!==i||b||Xt!==null&&Xt.memoizedState.tag&1){if(u.flags|=2048,Rl(9,{destroy:void 0},qh.bind(null,u,h,s,i),null),kt===null)throw Error(r(349));p||(Cn&127)!==0||jh(u,i,s)}return s}function jh(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=at.updateQueue,i===null?(i=la(),at.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function qh(e,i,s,u){i.value=s,i.getSnapshot=u,Lh(i)&&Yh(e)}function Hh(e,i,s){return s(function(){Lh(i)&&Yh(e)})}function Lh(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!Be(e,s)}catch{return!0}}function Yh(e){var i=Bi(e,2);i!==null&&Ae(i,e,2)}function Vu(e){var i=be();if(typeof e=="function"){var s=e;if(e=s(),Gi){Yn(!0);try{s()}finally{Yn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:e},i}function Gh(e,i,s,u){return e.baseState=s,_u(e,Ot,typeof u=="function"?u:On)}function bS(e,i,s,u,h){if(ua(e))throw Error(r(485));if(e=i.action,e!==null){var p={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};_.T!==null?s(!0):p.isTransition=!1,u(p),s=i.pending,s===null?(p.next=i.pending=p,Xh(i,p)):(p.next=s.next,i.pending=s.next=p)}}function Xh(e,i){var s=i.action,u=i.payload,h=e.state;if(i.isTransition){var p=_.T,b={};_.T=b;try{var x=s(h,u),C=_.S;C!==null&&C(b,x),Jh(e,i,x)}catch(z){ju(e,i,z)}finally{p!==null&&b.types!==null&&(p.types=b.types),_.T=p}}else try{p=s(h,u),Jh(e,i,p)}catch(z){ju(e,i,z)}}function Jh(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Kh(e,i,u)},function(u){return ju(e,i,u)}):Kh(e,i,s)}function Kh(e,i,s){i.status="fulfilled",i.value=s,Qh(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Xh(e,s)))}function ju(e,i,s){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,Qh(i),i=i.next;while(i!==u)}e.action=null}function Qh(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Zh(e,i){return i}function $h(e,i){if(gt){var s=kt.formState;if(s!==null){t:{var u=at;if(gt){if(wt){e:{for(var h=wt,p=$e;h.nodeType!==8;){if(!p){h=null;break e}if(h=Fe(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){wt=Fe(h.nextSibling),u=h.data==="F!";break t}}Qn(u)}u=!1}u&&(i=s[0])}}return s=be(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zh,lastRenderedState:i},s.queue=u,s=pp.bind(null,at,u),u.dispatch=s,u=Vu(!1),p=Xu.bind(null,at,!1,u.queue),u=be(),h={state:i,dispatch:null,action:e,pending:null},u.queue=h,s=bS.bind(null,at,h,p,s),h.dispatch=s,u.memoizedState=e,[i,s,!1]}function Ih(e){var i=Yt();return Fh(i,Ot,e)}function Fh(e,i,s){if(i=_u(e,i,Zh)[0],e=sa(On)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=kr(i)}catch(b){throw b===Nl?Is:b}else u=i;i=Yt();var h=i.queue,p=h.dispatch;return s!==i.memoizedState&&(at.flags|=2048,Rl(9,{destroy:void 0},SS.bind(null,h,s),null)),[u,p,e]}function SS(e,i){e.action=i}function Wh(e){var i=Yt(),s=Ot;if(s!==null)return Fh(i,s,e);Yt(),i=i.memoizedState,s=Yt();var u=s.queue.dispatch;return s.memoizedState=e,[i,u,!1]}function Rl(e,i,s,u){return e={tag:e,create:s,deps:u,inst:i,next:null},i=at.updateQueue,i===null&&(i=la(),at.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,i.lastEffect=e),e}function Ph(){return Yt().memoizedState}function aa(e,i,s,u){var h=be();at.flags|=e,h.memoizedState=Rl(1|i,{destroy:void 0},s,u===void 0?null:u)}function oa(e,i,s,u){var h=Yt();u=u===void 0?null:u;var p=h.memoizedState.inst;Ot!==null&&u!==null&&Du(u,Ot.memoizedState.deps)?h.memoizedState=Rl(i,p,s,u):(at.flags|=e,h.memoizedState=Rl(1|i,p,s,u))}function tp(e,i){aa(8390656,8,e,i)}function qu(e,i){oa(2048,8,e,i)}function vS(e){at.flags|=4;var i=at.updateQueue;if(i===null)i=la(),at.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function ep(e){var i=Yt().memoizedState;return vS({ref:i,nextImpl:e}),function(){if((vt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function np(e,i){return oa(4,2,e,i)}function ip(e,i){return oa(4,4,e,i)}function lp(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function rp(e,i,s){s=s!=null?s.concat([e]):null,oa(4,4,lp.bind(null,i,e),s)}function Hu(){}function sp(e,i){var s=Yt();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Du(i,u[1])?u[0]:(s.memoizedState=[e,i],e)}function ap(e,i){var s=Yt();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Du(i,u[1]))return u[0];if(u=e(),Gi){Yn(!0);try{e()}finally{Yn(!1)}}return s.memoizedState=[u,i],u}function Lu(e,i,s){return s===void 0||(Cn&1073741824)!==0&&(pt&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=om(),at.lanes|=e,ni|=e,s)}function op(e,i,s,u){return Be(s,i)?s:kl.current!==null?(e=Lu(e,s,u),Be(e,i)||(Jt=!0),e):(Cn&42)===0||(Cn&1073741824)!==0&&(pt&261930)===0?(Jt=!0,e.memoizedState=s):(e=om(),at.lanes|=e,ni|=e,i)}function up(e,i,s,u,h){var p=X.p;X.p=p!==0&&8>p?p:8;var b=_.T,x={};_.T=x,Xu(e,!1,i,s);try{var C=h(),z=_.S;if(z!==null&&z(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var B=mS(C,u);zr(e,i,B,He(e))}else zr(e,i,u,He(e))}catch(V){zr(e,i,{then:function(){},status:"rejected",reason:V},He())}finally{X.p=p,b!==null&&x.types!==null&&(b.types=x.types),_.T=b}}function ES(){}function Yu(e,i,s,u){if(e.tag!==5)throw Error(r(476));var h=cp(e).queue;up(e,h,i,it,s===null?ES:function(){return fp(e),s(u)})}function cp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:it},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function fp(e){var i=cp(e);i.next===null&&(i=e.alternate.memoizedState),zr(e,i.next.queue,{},He())}function Gu(){return se(Zr)}function dp(){return Yt().memoizedState}function hp(){return Yt().memoizedState}function xS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=He();e=In(s);var u=Fn(i,e,s);u!==null&&(Ae(u,i,s),Or(u,i,s)),i={cache:bu()},e.payload=i;return}i=i.return}}function MS(e,i,s){var u=He();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ua(e)?mp(i,s):(s=au(e,i,s,u),s!==null&&(Ae(s,e,u),gp(s,i,u)))}function pp(e,i,s){var u=He();zr(e,i,s,u)}function zr(e,i,s,u){var h={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ua(e))mp(i,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var b=i.lastRenderedState,x=p(b,s);if(h.hasEagerState=!0,h.eagerState=x,Be(x,b))return Gs(e,i,h,0),kt===null&&Ys(),!1}catch{}if(s=au(e,i,h,u),s!==null)return Ae(s,e,u),gp(s,i,u),!0}return!1}function Xu(e,i,s,u){if(u={lane:2,revertLane:xc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ua(e)){if(i)throw Error(r(479))}else i=au(e,s,u,2),i!==null&&Ae(i,e,2)}function ua(e){var i=e.alternate;return e===at||i!==null&&i===at}function mp(e,i){zl=na=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function gp(e,i,s){if((s&4194048)!==0){var u=i.lanes;u&=e.pendingLanes,s|=u,i.lanes=s,Ed(e,s)}}var wr={readContext:se,use:ra,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};wr.useEffectEvent=Vt;var yp={readContext:se,use:ra,useCallback:function(e,i){return be().memoizedState=[e,i===void 0?null:i],e},useContext:se,useEffect:tp,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,aa(4194308,4,lp.bind(null,i,e),s)},useLayoutEffect:function(e,i){return aa(4194308,4,e,i)},useInsertionEffect:function(e,i){aa(4,2,e,i)},useMemo:function(e,i){var s=be();i=i===void 0?null:i;var u=e();if(Gi){Yn(!0);try{e()}finally{Yn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(e,i,s){var u=be();if(s!==void 0){var h=s(i);if(Gi){Yn(!0);try{s(i)}finally{Yn(!1)}}}else h=i;return u.memoizedState=u.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},u.queue=e,e=e.dispatch=MS.bind(null,at,e),[u.memoizedState,e]},useRef:function(e){var i=be();return e={current:e},i.memoizedState=e},useState:function(e){e=Vu(e);var i=e.queue,s=pp.bind(null,at,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Hu,useDeferredValue:function(e,i){var s=be();return Lu(s,e,i)},useTransition:function(){var e=Vu(!1);return e=up.bind(null,at,e.queue,!0,!1),be().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var u=at,h=be();if(gt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),kt===null)throw Error(r(349));(pt&127)!==0||jh(u,i,s)}h.memoizedState=s;var p={value:s,getSnapshot:i};return h.queue=p,tp(Hh.bind(null,u,p,e),[e]),u.flags|=2048,Rl(9,{destroy:void 0},qh.bind(null,u,p,s,i),null),s},useId:function(){var e=be(),i=kt.identifierPrefix;if(gt){var s=dn,u=fn;s=(u&~(1<<32-Re(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=ia++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=gS++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Gu,useFormState:$h,useActionState:$h,useOptimistic:function(e){var i=be();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Xu.bind(null,at,!0,s),s.dispatch=i,[e,i]},useMemoCache:Bu,useCacheRefresh:function(){return be().memoizedState=xS.bind(null,at)},useEffectEvent:function(e){var i=be(),s={impl:e};return i.memoizedState=s,function(){if((vt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Ju={readContext:se,use:ra,useCallback:sp,useContext:se,useEffect:qu,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:ap,useReducer:sa,useRef:Ph,useState:function(){return sa(On)},useDebugValue:Hu,useDeferredValue:function(e,i){var s=Yt();return op(s,Ot.memoizedState,e,i)},useTransition:function(){var e=sa(On)[0],i=Yt().memoizedState;return[typeof e=="boolean"?e:kr(e),i]},useSyncExternalStore:Vh,useId:dp,useHostTransitionStatus:Gu,useFormState:Ih,useActionState:Ih,useOptimistic:function(e,i){var s=Yt();return Gh(s,Ot,e,i)},useMemoCache:Bu,useCacheRefresh:hp};Ju.useEffectEvent=ep;var bp={readContext:se,use:ra,useCallback:sp,useContext:se,useEffect:qu,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:ap,useReducer:Uu,useRef:Ph,useState:function(){return Uu(On)},useDebugValue:Hu,useDeferredValue:function(e,i){var s=Yt();return Ot===null?Lu(s,e,i):op(s,Ot.memoizedState,e,i)},useTransition:function(){var e=Uu(On)[0],i=Yt().memoizedState;return[typeof e=="boolean"?e:kr(e),i]},useSyncExternalStore:Vh,useId:dp,useHostTransitionStatus:Gu,useFormState:Wh,useActionState:Wh,useOptimistic:function(e,i){var s=Yt();return Ot!==null?Gh(s,Ot,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Bu,useCacheRefresh:hp};bp.useEffectEvent=ep;function Ku(e,i,s,u){i=e.memoizedState,s=s(u,i),s=s==null?i:y({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Qu={enqueueSetState:function(e,i,s){e=e._reactInternals;var u=He(),h=In(u);h.payload=i,s!=null&&(h.callback=s),i=Fn(e,h,u),i!==null&&(Ae(i,e,u),Or(i,e,u))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var u=He(),h=In(u);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Fn(e,h,u),i!==null&&(Ae(i,e,u),Or(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=He(),u=In(s);u.tag=2,i!=null&&(u.callback=i),i=Fn(e,u,s),i!==null&&(Ae(i,e,s),Or(i,e,s))}};function Sp(e,i,s,u,h,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,b):i.prototype&&i.prototype.isPureReactComponent?!br(s,u)||!br(h,p):!0}function vp(e,i,s,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==e&&Qu.enqueueReplaceState(i,i.state,null)}function Xi(e,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(e=e.defaultProps){s===i&&(s=y({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Ep(e){Ls(e)}function xp(e){console.error(e)}function Mp(e){Ls(e)}function ca(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Tp(e,i,s){try{var u=e.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zu(e,i,s){return s=In(s),s.tag=3,s.payload={element:null},s.callback=function(){ca(e,i)},s}function Cp(e){return e=In(e),e.tag=3,e}function Op(e,i,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;e.payload=function(){return h(p)},e.callback=function(){Tp(i,s,u)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Tp(i,s,u),typeof h!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function TS(e,i,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&Cl(i,s,h,!0),s=Ue.current,s!==null){switch(s.tag){case 31:case 13:return Ie===null?xa():s.alternate===null&&jt===0&&(jt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===Fs?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),Sc(e,u,h)),!1;case 22:return s.flags|=65536,u===Fs?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),Sc(e,u,h)),!1}throw Error(r(435,s.tag))}return Sc(e,u,h),xa(),!1}if(gt)return i=Ue.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==hu&&(e=Error(r(422),{cause:u}),Er(Ke(e,s)))):(u!==hu&&(i=Error(r(423),{cause:u}),Er(Ke(i,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,u=Ke(u,s),h=Zu(e.stateNode,u,h),Tu(e,h),jt!==4&&(jt=2)),!1;var p=Error(r(520),{cause:u});if(p=Ke(p,s),Hr===null?Hr=[p]:Hr.push(p),jt!==4&&(jt=2),i===null)return!0;u=Ke(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Zu(s.stateNode,u,e),Tu(s,e),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ii===null||!ii.has(p))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Cp(h),Op(h,e,s,u),Tu(s,h),!1}s=s.return}while(s!==null);return!1}var $u=Error(r(461)),Jt=!1;function ae(e,i,s,u){i.child=e===null?kh(i,null,s,u):Yi(i,e.child,s,u)}function Ap(e,i,s,u,h){s=s.render;var p=i.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return ji(i),u=ku(e,i,s,b,p,h),x=zu(),e!==null&&!Jt?(wu(e,i,h),An(e,i,h)):(gt&&x&&fu(i),i.flags|=1,ae(e,i,u,h),i.child)}function Np(e,i,s,u,h){if(e===null){var p=s.type;return typeof p=="function"&&!ou(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,Dp(e,i,p,u,h)):(e=Js(s.type,null,u,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(p=e.child,!ic(e,h)){var b=p.memoizedProps;if(s=s.compare,s=s!==null?s:br,s(b,u)&&e.ref===i.ref)return An(e,i,h)}return i.flags|=1,e=En(p,u),e.ref=i.ref,e.return=i,i.child=e}function Dp(e,i,s,u,h){if(e!==null){var p=e.memoizedProps;if(br(p,u)&&e.ref===i.ref)if(Jt=!1,i.pendingProps=u=p,ic(e,h))(e.flags&131072)!==0&&(Jt=!0);else return i.lanes=e.lanes,An(e,i,h)}return Iu(e,i,s,u,h)}function kp(e,i,s,u){var h=u.children,p=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,e!==null){for(u=i.child=e.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~p}else u=0,i.child=null;return zp(e,i,p,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&$s(i,p!==null?p.cachePool:null),p!==null?Rh(i,p):Ou(),Bh(i);else return u=i.lanes=536870912,zp(e,i,p!==null?p.baseLanes|s:s,s,u)}else p!==null?($s(i,p.cachePool),Rh(i,p),Pn(),i.memoizedState=null):(e!==null&&$s(i,null),Ou(),Pn());return ae(e,i,h,s),i.child}function Rr(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zp(e,i,s,u,h){var p=vu();return p=p===null?null:{parent:Gt._currentValue,pool:p},i.memoizedState={baseLanes:s,cachePool:p},e!==null&&$s(i,null),Ou(),Bh(i),e!==null&&Cl(e,i,u,!0),i.childLanes=h,null}function fa(e,i){return i=ha({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function wp(e,i,s){return Yi(i,e.child,null,s),e=fa(i,i.pendingProps),e.flags|=2,Ve(i),i.memoizedState=null,e}function CS(e,i,s){var u=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(gt){if(u.mode==="hidden")return e=fa(i,u),i.lanes=536870912,Rr(null,e);if(Nu(i),(e=wt)?(e=Xm(e,$e),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},s=mh(e),s.return=i,i.child=s,re=i,wt=null)):e=null,e===null)throw Qn(i);return i.lanes=536870912,null}return fa(i,u)}var p=e.memoizedState;if(p!==null){var b=p.dehydrated;if(Nu(i),h)if(i.flags&256)i.flags&=-257,i=wp(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Jt||Cl(e,i,s,!1),h=(s&e.childLanes)!==0,Jt||h){if(u=kt,u!==null&&(b=xd(u,s),b!==0&&b!==p.retryLane))throw p.retryLane=b,Bi(e,b),Ae(u,e,b),$u;xa(),i=wp(e,i,s)}else e=p.treeContext,wt=Fe(b.nextSibling),re=i,gt=!0,Kn=null,$e=!1,e!==null&&bh(i,e),i=fa(i,u),i.flags|=4096;return i}return e=En(e.child,{mode:u.mode,children:u.children}),e.ref=i.ref,i.child=e,e.return=i,e}function da(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function Iu(e,i,s,u,h){return ji(i),s=ku(e,i,s,u,void 0,h),u=zu(),e!==null&&!Jt?(wu(e,i,h),An(e,i,h)):(gt&&u&&fu(i),i.flags|=1,ae(e,i,s,h),i.child)}function Rp(e,i,s,u,h,p){return ji(i),i.updateQueue=null,s=Uh(i,u,s,h),_h(e),u=zu(),e!==null&&!Jt?(wu(e,i,p),An(e,i,p)):(gt&&u&&fu(i),i.flags|=1,ae(e,i,s,p),i.child)}function Bp(e,i,s,u,h){if(ji(i),i.stateNode===null){var p=El,b=s.contextType;typeof b=="object"&&b!==null&&(p=se(b)),p=new s(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Qu,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},xu(i),b=s.contextType,p.context=typeof b=="object"&&b!==null?se(b):El,p.state=i.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Ku(i,s,b,u),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Qu.enqueueReplaceState(p,p.state,null),Nr(i,u,p,h),Ar(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){p=i.stateNode;var x=i.memoizedProps,C=Xi(s,x);p.props=C;var z=p.context,B=s.contextType;b=El,typeof B=="object"&&B!==null&&(b=se(B));var V=s.getDerivedStateFromProps;B=typeof V=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,B||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||z!==b)&&vp(i,p,u,b),$n=!1;var w=i.memoizedState;p.state=w,Nr(i,u,p,h),Ar(),z=i.memoizedState,x||w!==z||$n?(typeof V=="function"&&(Ku(i,s,V,u),z=i.memoizedState),(C=$n||Sp(i,s,C,u,w,z,b))?(B||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=z),p.props=u,p.state=z,p.context=b,u=C):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Mu(e,i),b=i.memoizedProps,B=Xi(s,b),p.props=B,V=i.pendingProps,w=p.context,z=s.contextType,C=El,typeof z=="object"&&z!==null&&(C=se(z)),x=s.getDerivedStateFromProps,(z=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==V||w!==C)&&vp(i,p,u,C),$n=!1,w=i.memoizedState,p.state=w,Nr(i,u,p,h),Ar();var R=i.memoizedState;b!==V||w!==R||$n||e!==null&&e.dependencies!==null&&Qs(e.dependencies)?(typeof x=="function"&&(Ku(i,s,x,u),R=i.memoizedState),(B=$n||Sp(i,s,B,u,w,R,C)||e!==null&&e.dependencies!==null&&Qs(e.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,R,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,R,C)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&w===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&w===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=R),p.props=u,p.state=R,p.context=C,u=B):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&w===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&w===e.memoizedState||(i.flags|=1024),u=!1)}return p=u,da(e,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,e!==null&&u?(i.child=Yi(i,e.child,null,h),i.child=Yi(i,null,s,h)):ae(e,i,s,h),i.memoizedState=p.state,e=i.child):e=An(e,i,h),e}function _p(e,i,s,u){return Ui(),i.flags|=256,ae(e,i,s,u),i.child}var Fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wu(e){return{baseLanes:e,cachePool:Th()}}function Pu(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=qe),e}function Up(e,i,s){var u=i.pendingProps,h=!1,p=(i.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,e===null){if(gt){if(h?Wn(i):Pn(),(e=wt)?(e=Xm(e,$e),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},s=mh(e),s.return=i,i.child=s,re=i,wt=null)):e=null,e===null)throw Qn(i);return _c(e)?i.lanes=32:i.lanes=536870912,null}var x=u.children;return u=u.fallback,h?(Pn(),h=i.mode,x=ha({mode:"hidden",children:x},h),u=_i(u,h,s,null),x.return=i,u.return=i,x.sibling=u,i.child=x,u=i.child,u.memoizedState=Wu(s),u.childLanes=Pu(e,b,s),i.memoizedState=Fu,Rr(null,u)):(Wn(i),tc(i,x))}var C=e.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(p)i.flags&256?(Wn(i),i.flags&=-257,i=ec(e,i,s)):i.memoizedState!==null?(Pn(),i.child=e.child,i.flags|=128,i=null):(Pn(),x=u.fallback,h=i.mode,u=ha({mode:"visible",children:u.children},h),x=_i(x,h,s,null),x.flags|=2,u.return=i,x.return=i,u.sibling=x,i.child=u,Yi(i,e.child,null,s),u=i.child,u.memoizedState=Wu(s),u.childLanes=Pu(e,b,s),i.memoizedState=Fu,i=Rr(null,u));else if(Wn(i),_c(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var z=b.dgst;b=z,u=Error(r(419)),u.stack="",u.digest=b,Er({value:u,source:null,stack:null}),i=ec(e,i,s)}else if(Jt||Cl(e,i,s,!1),b=(s&e.childLanes)!==0,Jt||b){if(b=kt,b!==null&&(u=xd(b,s),u!==0&&u!==C.retryLane))throw C.retryLane=u,Bi(e,u),Ae(b,e,u),$u;Bc(x)||xa(),i=ec(e,i,s)}else Bc(x)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,wt=Fe(x.nextSibling),re=i,gt=!0,Kn=null,$e=!1,e!==null&&bh(i,e),i=tc(i,u.children),i.flags|=4096);return i}return h?(Pn(),x=u.fallback,h=i.mode,C=e.child,z=C.sibling,u=En(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,z!==null?x=En(z,x):(x=_i(x,h,s,null),x.flags|=2),x.return=i,u.return=i,u.sibling=x,i.child=u,Rr(null,u),u=i.child,x=e.child.memoizedState,x===null?x=Wu(s):(h=x.cachePool,h!==null?(C=Gt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Th(),x={baseLanes:x.baseLanes|s,cachePool:h}),u.memoizedState=x,u.childLanes=Pu(e,b,s),i.memoizedState=Fu,Rr(e.child,u)):(Wn(i),s=e.child,e=s.sibling,s=En(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,e!==null&&(b=i.deletions,b===null?(i.deletions=[e],i.flags|=16):b.push(e)),i.child=s,i.memoizedState=null,s)}function tc(e,i){return i=ha({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ha(e,i){return e=_e(22,e,null,i),e.lanes=0,e}function ec(e,i,s){return Yi(i,e.child,null,s),e=tc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Vp(e,i,s){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),gu(e.return,i,s)}function nc(e,i,s,u,h,p){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h,treeForkCount:p}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=s,b.tailMode=h,b.treeForkCount=p)}function jp(e,i,s){var u=i.pendingProps,h=u.revealOrder,p=u.tail;u=u.children;var b=Lt.current,x=(b&2)!==0;if(x?(b=b&1|2,i.flags|=128):b&=1,J(Lt,b),ae(e,i,u,s),u=gt?vr:0,!x&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,s,i);else if(e.tag===19)Vp(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)e=s.alternate,e!==null&&ea(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),nc(i,!1,h,s,p,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ea(e)===null){i.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}nc(i,!0,s,null,p,u);break;case"together":nc(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function An(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),ni|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(Cl(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=En(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=En(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function ic(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Qs(e)))}function OS(e,i,s){switch(i.tag){case 3:ye(i,i.stateNode.containerInfo),Zn(i,Gt,e.memoizedState.cache),Ui();break;case 27:case 5:rr(i);break;case 4:ye(i,i.stateNode.containerInfo);break;case 10:Zn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nu(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Wn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Up(e,i,s):(Wn(i),e=An(e,i,s),e!==null?e.sibling:null);Wn(i);break;case 19:var h=(e.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(Cl(e,i,s,!1),u=(s&i.childLanes)!==0),h){if(u)return jp(e,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Lt,Lt.current),u)break;return null;case 22:return i.lanes=0,kp(e,i,s,i.pendingProps);case 24:Zn(i,Gt,e.memoizedState.cache)}return An(e,i,s)}function qp(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Jt=!0;else{if(!ic(e,s)&&(i.flags&128)===0)return Jt=!1,OS(e,i,s);Jt=(e.flags&131072)!==0}else Jt=!1,gt&&(i.flags&1048576)!==0&&yh(i,vr,i.index);switch(i.lanes=0,i.tag){case 16:t:{var u=i.pendingProps;if(e=Hi(i.elementType),i.type=e,typeof e=="function")ou(e)?(u=Xi(e,u),i.tag=1,i=Bp(null,i,e,u,s)):(i.tag=0,i=Iu(null,i,e,u,s));else{if(e!=null){var h=e.$$typeof;if(h===K){i.tag=11,i=Ap(null,i,e,u,s);break t}else if(h===q){i.tag=14,i=Np(null,i,e,u,s);break t}}throw i=It(e)||e,Error(r(306,i,""))}}return i;case 0:return Iu(e,i,i.type,i.pendingProps,s);case 1:return u=i.type,h=Xi(u,i.pendingProps),Bp(e,i,u,h,s);case 3:t:{if(ye(i,i.stateNode.containerInfo),e===null)throw Error(r(387));u=i.pendingProps;var p=i.memoizedState;h=p.element,Mu(e,i),Nr(i,u,null,s);var b=i.memoizedState;if(u=b.cache,Zn(i,Gt,u),u!==p.cache&&yu(i,[Gt],s,!0),Ar(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=_p(e,i,u,s);break t}else if(u!==h){h=Ke(Error(r(424)),i),Er(h),i=_p(e,i,u,s);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,wt=Fe(e.firstChild),re=i,gt=!0,Kn=null,$e=!0,s=kh(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ui(),u===h){i=An(e,i,s);break t}ae(e,i,u,s)}i=i.child}return i;case 26:return da(e,i),e===null?(s=Im(i.type,null,i.pendingProps,null))?i.memoizedState=s:gt||(s=i.type,e=i.pendingProps,u=Da(ft.current).createElement(s),u[le]=i,u[Ee]=e,oe(u,s,e),Ft(u),i.stateNode=u):i.memoizedState=Im(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return rr(i),e===null&&gt&&(u=i.stateNode=Qm(i.type,i.pendingProps,ft.current),re=i,$e=!0,h=wt,ai(i.type)?(Uc=h,wt=Fe(u.firstChild)):wt=h),ae(e,i,i.pendingProps.children,s),da(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&gt&&((h=u=wt)&&(u=nv(u,i.type,i.pendingProps,$e),u!==null?(i.stateNode=u,re=i,wt=Fe(u.firstChild),$e=!1,h=!0):h=!1),h||Qn(i)),rr(i),h=i.type,p=i.pendingProps,b=e!==null?e.memoizedProps:null,u=p.children,zc(h,p)?u=null:b!==null&&zc(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=ku(e,i,yS,null,null,s),Zr._currentValue=h),da(e,i),ae(e,i,u,s),i.child;case 6:return e===null&&gt&&((e=s=wt)&&(s=iv(s,i.pendingProps,$e),s!==null?(i.stateNode=s,re=i,wt=null,e=!0):e=!1),e||Qn(i)),null;case 13:return Up(e,i,s);case 4:return ye(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=Yi(i,null,u,s):ae(e,i,u,s),i.child;case 11:return Ap(e,i,i.type,i.pendingProps,s);case 7:return ae(e,i,i.pendingProps,s),i.child;case 8:return ae(e,i,i.pendingProps.children,s),i.child;case 12:return ae(e,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,Zn(i,i.type,u.value),ae(e,i,u.children,s),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,ji(i),h=se(h),u=u(h),i.flags|=1,ae(e,i,u,s),i.child;case 14:return Np(e,i,i.type,i.pendingProps,s);case 15:return Dp(e,i,i.type,i.pendingProps,s);case 19:return jp(e,i,s);case 31:return CS(e,i,s);case 22:return kp(e,i,s,i.pendingProps);case 24:return ji(i),u=se(Gt),e===null?(h=vu(),h===null&&(h=kt,p=bu(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=s),h=p),i.memoizedState={parent:u,cache:h},xu(i),Zn(i,Gt,h)):((e.lanes&s)!==0&&(Mu(e,i),Nr(i,null,null,s),Ar()),h=e.memoizedState,p=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zn(i,Gt,u)):(u=p.cache,Zn(i,Gt,u),u!==h.cache&&yu(i,[Gt],s,!0))),ae(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Nn(e){e.flags|=4}function lc(e,i,s,u,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(dm())e.flags|=8192;else throw Li=Fs,Eu}else e.flags&=-16777217}function Hp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!eg(i))if(dm())e.flags|=8192;else throw Li=Fs,Eu}function pa(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Sd():536870912,e.lanes|=i,Vl|=i)}function Br(e,i){if(!gt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Rt(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(i)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=s,i}function AS(e,i,s){var u=i.pendingProps;switch(du(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Rt(i),null;case 3:return s=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Tn(Gt),Ht(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Tl(i)?Nn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pu())),Rt(i),null;case 26:var h=i.type,p=i.memoizedState;return e===null?(Nn(i),p!==null?(Rt(i),Hp(i,p)):(Rt(i),lc(i,h,null,u,s))):p?p!==e.memoizedState?(Nn(i),Rt(i),Hp(i,p)):(Rt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==u&&Nn(i),Rt(i),lc(i,h,e,u,s)),null;case 27:if(Cs(i),s=ft.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&Nn(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Rt(i),null}e=I.current,Tl(i)?Sh(i):(e=Qm(h,u,s),i.stateNode=e,Nn(i))}return Rt(i),null;case 5:if(Cs(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&Nn(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Rt(i),null}if(p=I.current,Tl(i))Sh(i);else{var b=Da(ft.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(h,{is:u.is}):b.createElement(h)}}p[le]=i,p[Ee]=u;t:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break t;for(;b.sibling===null;){if(b.return===null||b.return===i)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=p;t:switch(oe(p,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Nn(i)}}return Rt(i),lc(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&Nn(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(e=ft.current,Tl(i)){if(e=i.stateNode,s=i.memoizedProps,u=null,h=re,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}e[le]=i,e=!!(e.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Um(e.nodeValue,s)),e||Qn(i,!0)}else e=Da(e).createTextNode(u),e[le]=i,i.stateNode=e}return Rt(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(u=Tl(i),s!==null){if(e===null){if(!u)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[le]=i}else Ui(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),e=!1}else s=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(Ve(i),i):(Ve(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Rt(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Tl(i),u!==null&&u.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[le]=i}else Ui(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),h=!1}else h=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ve(i),i):(Ve(i),null)}return Ve(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,e=e!==null&&e.memoizedState!==null,s&&(u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),pa(i,i.updateQueue),Rt(i),null);case 4:return Ht(),e===null&&Oc(i.stateNode.containerInfo),Rt(i),null;case 10:return Tn(i.type),Rt(i),null;case 19:if(j(Lt),u=i.memoizedState,u===null)return Rt(i),null;if(h=(i.flags&128)!==0,p=u.rendering,p===null)if(h)Br(u,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(p=ea(e),p!==null){for(i.flags|=128,Br(u,!1),e=p.updateQueue,i.updateQueue=e,pa(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)ph(s,e),s=s.sibling;return J(Lt,Lt.current&1|2),gt&&xn(i,u.treeForkCount),i.child}e=e.sibling}u.tail!==null&&ze()>Sa&&(i.flags|=128,h=!0,Br(u,!1),i.lanes=4194304)}else{if(!h)if(e=ea(p),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,pa(i,e),Br(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!gt)return Rt(i),null}else 2*ze()-u.renderingStartTime>Sa&&s!==536870912&&(i.flags|=128,h=!0,Br(u,!1),i.lanes=4194304);u.isBackwards?(p.sibling=i.child,i.child=p):(e=u.last,e!==null?e.sibling=p:i.child=p,u.last=p)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=ze(),e.sibling=null,s=Lt.current,J(Lt,h?s&1|2:s&1),gt&&xn(i,u.treeForkCount),e):(Rt(i),null);case 22:case 23:return Ve(i),Au(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),s=i.updateQueue,s!==null&&pa(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),e!==null&&j(qi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Tn(Gt),Rt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function NS(e,i){switch(du(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Tn(Gt),Ht(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Cs(i),null;case 31:if(i.memoizedState!==null){if(Ve(i),i.alternate===null)throw Error(r(340));Ui()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Ve(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ui()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return j(Lt),null;case 4:return Ht(),null;case 10:return Tn(i.type),null;case 22:case 23:return Ve(i),Au(),e!==null&&j(qi),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Tn(Gt),null;case 25:return null;default:return null}}function Lp(e,i){switch(du(i),i.tag){case 3:Tn(Gt),Ht();break;case 26:case 27:case 5:Cs(i);break;case 4:Ht();break;case 31:i.memoizedState!==null&&Ve(i);break;case 13:Ve(i);break;case 19:j(Lt);break;case 10:Tn(i.type);break;case 22:case 23:Ve(i),Au(),e!==null&&j(qi);break;case 24:Tn(Gt)}}function _r(e,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&e)===e){u=void 0;var p=s.create,b=s.inst;u=p(),b.destroy=u}s=s.next}while(s!==h)}}catch(x){Mt(i,i.return,x)}}function ti(e,i,s){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&e)===e){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,h=i;var C=s,z=x;try{z()}catch(B){Mt(h,C,B)}}}u=u.next}while(u!==p)}}catch(B){Mt(i,i.return,B)}}function Yp(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{wh(i,s)}catch(u){Mt(e,e.return,u)}}}function Gp(e,i,s){s.props=Xi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(u){Mt(e,i,u)}}function Ur(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof s=="function"?e.refCleanup=s(u):s.current=u}}catch(h){Mt(e,i,h)}}function hn(e,i){var s=e.ref,u=e.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){Mt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Mt(e,i,h)}else s.current=null}function Xp(e){var i=e.type,s=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break t;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){Mt(e,e.return,h)}}function rc(e,i,s){try{var u=e.stateNode;IS(u,e.type,s,i),u[Ee]=i}catch(h){Mt(e,e.return,h)}}function Jp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ai(e.type)||e.tag===4}function sc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ac(e,i,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Sn));else if(u!==4&&(u===27&&ai(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(ac(e,i,s),e=e.sibling;e!==null;)ac(e,i,s),e=e.sibling}function ma(e,i,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(u!==4&&(u===27&&ai(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ma(e,i,s),e=e.sibling;e!==null;)ma(e,i,s),e=e.sibling}function Kp(e){var i=e.stateNode,s=e.memoizedProps;try{for(var u=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);oe(i,u,s),i[le]=e,i[Ee]=s}catch(p){Mt(e,e.return,p)}}var Dn=!1,Kt=!1,oc=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function DS(e,i){if(e=e.containerInfo,Dc=Ua,e=rh(e),eu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break t}var b=0,x=-1,C=-1,z=0,B=0,V=e,w=null;e:for(;;){for(var R;V!==s||h!==0&&V.nodeType!==3||(x=b+h),V!==p||u!==0&&V.nodeType!==3||(C=b+u),V.nodeType===3&&(b+=V.nodeValue.length),(R=V.firstChild)!==null;)w=V,V=R;for(;;){if(V===e)break e;if(w===s&&++z===h&&(x=b),w===p&&++B===u&&(C=b),(R=V.nextSibling)!==null)break;V=w,w=V.parentNode}V=R}s=x===-1||C===-1?null:{start:x,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(kc={focusedElem:e,selectionRange:s},Ua=!1,Wt=i;Wt!==null;)if(i=Wt,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Wt=e;else for(;Wt!==null;){switch(i=Wt,p=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,s=i,h=p.memoizedProps,p=p.memoizedState,u=s.stateNode;try{var Z=Xi(s.type,h);e=u.getSnapshotBeforeUpdate(Z,p),u.__reactInternalSnapshotBeforeUpdate=e}catch(et){Mt(s,s.return,et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Rc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Wt=e;break}Wt=i.return}}function Zp(e,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:zn(e,s),u&4&&_r(5,s);break;case 1:if(zn(e,s),u&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(b){Mt(s,s.return,b)}else{var h=Xi(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Mt(s,s.return,b)}}u&64&&Yp(s),u&512&&Ur(s,s.return);break;case 3:if(zn(e,s),u&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{wh(e,i)}catch(b){Mt(s,s.return,b)}}break;case 27:i===null&&u&4&&Kp(s);case 26:case 5:zn(e,s),i===null&&u&4&&Xp(s),u&512&&Ur(s,s.return);break;case 12:zn(e,s);break;case 31:zn(e,s),u&4&&Fp(e,s);break;case 13:zn(e,s),u&4&&Wp(e,s),u&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=jS.bind(null,s),lv(e,s))));break;case 22:if(u=s.memoizedState!==null||Dn,!u){i=i!==null&&i.memoizedState!==null||Kt,h=Dn;var p=Kt;Dn=u,(Kt=i)&&!p?wn(e,s,(s.subtreeFlags&8772)!==0):zn(e,s),Dn=h,Kt=p}break;case 30:break;default:zn(e,s)}}function $p(e){var i=e.alternate;i!==null&&(e.alternate=null,$p(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&jo(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Bt=null,Me=!1;function kn(e,i,s){for(s=s.child;s!==null;)Ip(e,i,s),s=s.sibling}function Ip(e,i,s){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(sr,s)}catch{}switch(s.tag){case 26:Kt||hn(s,i),kn(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Kt||hn(s,i);var u=Bt,h=Me;ai(s.type)&&(Bt=s.stateNode,Me=!1),kn(e,i,s),Jr(s.stateNode),Bt=u,Me=h;break;case 5:Kt||hn(s,i);case 6:if(u=Bt,h=Me,Bt=null,kn(e,i,s),Bt=u,Me=h,Bt!==null)if(Me)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(s.stateNode)}catch(p){Mt(s,i,p)}else try{Bt.removeChild(s.stateNode)}catch(p){Mt(s,i,p)}break;case 18:Bt!==null&&(Me?(e=Bt,Ym(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Jl(e)):Ym(Bt,s.stateNode));break;case 4:u=Bt,h=Me,Bt=s.stateNode.containerInfo,Me=!0,kn(e,i,s),Bt=u,Me=h;break;case 0:case 11:case 14:case 15:ti(2,s,i),Kt||ti(4,s,i),kn(e,i,s);break;case 1:Kt||(hn(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&Gp(s,i,u)),kn(e,i,s);break;case 21:kn(e,i,s);break;case 22:Kt=(u=Kt)||s.memoizedState!==null,kn(e,i,s),Kt=u;break;default:kn(e,i,s)}}function Fp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jl(e)}catch(s){Mt(i,i.return,s)}}}function Wp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(s){Mt(i,i.return,s)}}function kS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Qp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Qp),i;default:throw Error(r(435,e.tag))}}function ga(e,i){var s=kS(e);i.forEach(function(u){if(!s.has(u)){s.add(u);var h=qS.bind(null,e,u);u.then(h,h)}})}function Te(e,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],p=e,b=i,x=b;t:for(;x!==null;){switch(x.tag){case 27:if(ai(x.type)){Bt=x.stateNode,Me=!1;break t}break;case 5:Bt=x.stateNode,Me=!1;break t;case 3:case 4:Bt=x.stateNode.containerInfo,Me=!0;break t}x=x.return}if(Bt===null)throw Error(r(160));Ip(p,b,h),Bt=null,Me=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Pp(i,e),i=i.sibling}var rn=null;function Pp(e,i){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Te(i,e),Ce(e),u&4&&(ti(3,e,e.return),_r(3,e),ti(5,e,e.return));break;case 1:Te(i,e),Ce(e),u&512&&(Kt||s===null||hn(s,s.return)),u&64&&Dn&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=rn;if(Te(i,e),Ce(e),u&512&&(Kt||s===null||hn(s,s.return)),u&4){var p=s!==null?s.memoizedState:null;if(u=e.memoizedState,s===null)if(u===null)if(e.stateNode===null){t:{u=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[ur]||p[le]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),oe(p,u,s),p[le]=e,Ft(p),u=p;break t;case"link":var b=Pm("link","href",h).get(u+(s.href||""));if(b){for(var x=0;x<b.length;x++)if(p=b[x],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(x,1);break e}}p=h.createElement(u),oe(p,u,s),h.head.appendChild(p);break;case"meta":if(b=Pm("meta","content",h).get(u+(s.content||""))){for(x=0;x<b.length;x++)if(p=b[x],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(x,1);break e}}p=h.createElement(u),oe(p,u,s),h.head.appendChild(p);break;default:throw Error(r(468,u))}p[le]=e,Ft(p),u=p}e.stateNode=u}else tg(h,e.type,e.stateNode);else e.stateNode=Wm(h,u,e.memoizedProps);else p!==u?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,u===null?tg(h,e.type,e.stateNode):Wm(h,u,e.memoizedProps)):u===null&&e.stateNode!==null&&rc(e,e.memoizedProps,s.memoizedProps)}break;case 27:Te(i,e),Ce(e),u&512&&(Kt||s===null||hn(s,s.return)),s!==null&&u&4&&rc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Te(i,e),Ce(e),u&512&&(Kt||s===null||hn(s,s.return)),e.flags&32){h=e.stateNode;try{pl(h,"")}catch(Z){Mt(e,e.return,Z)}}u&4&&e.stateNode!=null&&(h=e.memoizedProps,rc(e,h,s!==null?s.memoizedProps:h)),u&1024&&(oc=!0);break;case 6:if(Te(i,e),Ce(e),u&4){if(e.stateNode===null)throw Error(r(162));u=e.memoizedProps,s=e.stateNode;try{s.nodeValue=u}catch(Z){Mt(e,e.return,Z)}}break;case 3:if(wa=null,h=rn,rn=ka(i.containerInfo),Te(i,e),rn=h,Ce(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Jl(i.containerInfo)}catch(Z){Mt(e,e.return,Z)}oc&&(oc=!1,tm(e));break;case 4:u=rn,rn=ka(e.stateNode.containerInfo),Te(i,e),Ce(e),rn=u;break;case 12:Te(i,e),Ce(e);break;case 31:Te(i,e),Ce(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,ga(e,u)));break;case 13:Te(i,e),Ce(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ba=ze()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,ga(e,u)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Dn,B=Kt;if(Dn=z||h,Kt=B||C,Te(i,e),Kt=B,Dn=z,Ce(e),u&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||Dn||Kt||Ji(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(p=C.stateNode,h)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=C.stateNode;var V=C.memoizedProps.style,w=V!=null&&V.hasOwnProperty("display")?V.display:null;x.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(Z){Mt(C,C.return,Z)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(Z){Mt(C,C.return,Z)}}}else if(i.tag===18){if(s===null){C=i;try{var R=C.stateNode;h?Gm(R,!0):Gm(C.stateNode,!1)}catch(Z){Mt(C,C.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,ga(e,s))));break;case 19:Te(i,e),Ce(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,ga(e,u)));break;case 30:break;case 21:break;default:Te(i,e),Ce(e)}}function Ce(e){var i=e.flags;if(i&2){try{for(var s,u=e.return;u!==null;){if(Jp(u)){s=u;break}u=u.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,p=sc(e);ma(e,p,h);break;case 5:var b=s.stateNode;s.flags&32&&(pl(b,""),s.flags&=-33);var x=sc(e);ma(e,x,b);break;case 3:case 4:var C=s.stateNode.containerInfo,z=sc(e);ac(e,z,C);break;default:throw Error(r(161))}}catch(B){Mt(e,e.return,B)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function tm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;tm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function zn(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zp(e,i.alternate,i),i=i.sibling}function Ji(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ti(4,i,i.return),Ji(i);break;case 1:hn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Gp(i,i.return,s),Ji(i);break;case 27:Jr(i.stateNode);case 26:case 5:hn(i,i.return),Ji(i);break;case 22:i.memoizedState===null&&Ji(i);break;case 30:Ji(i);break;default:Ji(i)}e=e.sibling}}function wn(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=e,p=i,b=p.flags;switch(p.tag){case 0:case 11:case 15:wn(h,p,s),_r(4,p);break;case 1:if(wn(h,p,s),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Mt(u,u.return,z)}if(u=p,h=u.updateQueue,h!==null){var x=u.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)zh(C[h],x)}catch(z){Mt(u,u.return,z)}}s&&b&64&&Yp(p),Ur(p,p.return);break;case 27:Kp(p);case 26:case 5:wn(h,p,s),s&&u===null&&b&4&&Xp(p),Ur(p,p.return);break;case 12:wn(h,p,s);break;case 31:wn(h,p,s),s&&b&4&&Fp(h,p);break;case 13:wn(h,p,s),s&&b&4&&Wp(h,p);break;case 22:p.memoizedState===null&&wn(h,p,s),Ur(p,p.return);break;case 30:break;default:wn(h,p,s)}i=i.sibling}}function uc(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&xr(s))}function cc(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xr(e))}function sn(e,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)em(e,i,s,u),i=i.sibling}function em(e,i,s,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:sn(e,i,s,u),h&2048&&_r(9,i);break;case 1:sn(e,i,s,u);break;case 3:sn(e,i,s,u),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xr(e)));break;case 12:if(h&2048){sn(e,i,s,u),e=i.stateNode;try{var p=i.memoizedProps,b=p.id,x=p.onPostCommit;typeof x=="function"&&x(b,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Mt(i,i.return,C)}}else sn(e,i,s,u);break;case 31:sn(e,i,s,u);break;case 13:sn(e,i,s,u);break;case 23:break;case 22:p=i.stateNode,b=i.alternate,i.memoizedState!==null?p._visibility&2?sn(e,i,s,u):Vr(e,i):p._visibility&2?sn(e,i,s,u):(p._visibility|=2,Bl(e,i,s,u,(i.subtreeFlags&10256)!==0||!1)),h&2048&&uc(b,i);break;case 24:sn(e,i,s,u),h&2048&&cc(i.alternate,i);break;default:sn(e,i,s,u)}}function Bl(e,i,s,u,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=e,b=i,x=s,C=u,z=b.flags;switch(b.tag){case 0:case 11:case 15:Bl(p,b,x,C,h),_r(8,b);break;case 23:break;case 22:var B=b.stateNode;b.memoizedState!==null?B._visibility&2?Bl(p,b,x,C,h):Vr(p,b):(B._visibility|=2,Bl(p,b,x,C,h)),h&&z&2048&&uc(b.alternate,b);break;case 24:Bl(p,b,x,C,h),h&&z&2048&&cc(b.alternate,b);break;default:Bl(p,b,x,C,h)}i=i.sibling}}function Vr(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,u=i,h=u.flags;switch(u.tag){case 22:Vr(s,u),h&2048&&uc(u.alternate,u);break;case 24:Vr(s,u),h&2048&&cc(u.alternate,u);break;default:Vr(s,u)}i=i.sibling}}var jr=8192;function _l(e,i,s){if(e.subtreeFlags&jr)for(e=e.child;e!==null;)nm(e,i,s),e=e.sibling}function nm(e,i,s){switch(e.tag){case 26:_l(e,i,s),e.flags&jr&&e.memoizedState!==null&&gv(s,rn,e.memoizedState,e.memoizedProps);break;case 5:_l(e,i,s);break;case 3:case 4:var u=rn;rn=ka(e.stateNode.containerInfo),_l(e,i,s),rn=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=jr,jr=16777216,_l(e,i,s),jr=u):_l(e,i,s));break;default:_l(e,i,s)}}function im(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function qr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Wt=u,rm(u,e)}im(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lm(e),e=e.sibling}function lm(e){switch(e.tag){case 0:case 11:case 15:qr(e),e.flags&2048&&ti(9,e,e.return);break;case 3:qr(e);break;case 12:qr(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ya(e)):qr(e);break;default:qr(e)}}function ya(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Wt=u,rm(u,e)}im(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ti(8,i,i.return),ya(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,ya(i));break;default:ya(i)}e=e.sibling}}function rm(e,i){for(;Wt!==null;){var s=Wt;switch(s.tag){case 0:case 11:case 15:ti(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xr(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Wt=u;else t:for(s=e;Wt!==null;){u=Wt;var h=u.sibling,p=u.return;if($p(u),u===s){Wt=null;break t}if(h!==null){h.return=p,Wt=h;break t}Wt=p}}}var zS={getCacheForType:function(e){var i=se(Gt),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return se(Gt).controller.signal}},wS=typeof WeakMap=="function"?WeakMap:Map,vt=0,kt=null,dt=null,pt=0,xt=0,je=null,ei=!1,Ul=!1,fc=!1,Rn=0,jt=0,ni=0,Ki=0,dc=0,qe=0,Vl=0,Hr=null,Oe=null,hc=!1,ba=0,sm=0,Sa=1/0,va=null,ii=null,Zt=0,li=null,jl=null,Bn=0,pc=0,mc=null,am=null,Lr=0,gc=null;function He(){return(vt&2)!==0&&pt!==0?pt&-pt:_.T!==null?xc():Md()}function om(){if(qe===0)if((pt&536870912)===0||gt){var e=Ns;Ns<<=1,(Ns&3932160)===0&&(Ns=262144),qe=e}else qe=536870912;return e=Ue.current,e!==null&&(e.flags|=32),qe}function Ae(e,i,s){(e===kt&&(xt===2||xt===9)||e.cancelPendingCommit!==null)&&(ql(e,0),ri(e,pt,qe,!1)),or(e,s),((vt&2)===0||e!==kt)&&(e===kt&&((vt&2)===0&&(Ki|=s),jt===4&&ri(e,pt,qe,!1)),pn(e))}function um(e,i,s){if((vt&6)!==0)throw Error(r(327));var u=!s&&(i&127)===0&&(i&e.expiredLanes)===0||ar(e,i),h=u?_S(e,i):bc(e,i,!0),p=u;do{if(h===0){Ul&&!u&&ri(e,i,0,!1);break}else{if(s=e.current.alternate,p&&!RS(s)){h=bc(e,i,!1),p=!1;continue}if(h===2){if(p=i,e.errorRecoveryDisabledLanes&p)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;t:{var x=e;h=Hr;var C=x.current.memoizedState.isDehydrated;if(C&&(ql(x,b).flags|=256),b=bc(x,b,!1),b!==2){if(fc&&!C){x.errorRecoveryDisabledLanes|=p,Ki|=p,h=4;break t}p=Oe,Oe=h,p!==null&&(Oe===null?Oe=p:Oe.push.apply(Oe,p))}h=b}if(p=!1,h!==2)continue}}if(h===1){ql(e,0),ri(e,i,0,!0);break}t:{switch(u=e,p=h,p){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ri(u,i,qe,!ei);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=ba+300-ze(),10<h)){if(ri(u,i,qe,!ei),ks(u,0,!0)!==0)break t;Bn=i,u.timeoutHandle=Hm(cm.bind(null,u,s,Oe,va,hc,i,qe,Ki,Vl,ei,p,"Throttled",-0,0),h);break t}cm(u,s,Oe,va,hc,i,qe,Ki,Vl,ei,p,null,-0,0)}}break}while(!0);pn(e)}function cm(e,i,s,u,h,p,b,x,C,z,B,V,w,R){if(e.timeoutHandle=-1,V=i.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},nm(i,p,V);var Z=(p&62914560)===p?ba-ze():(p&4194048)===p?sm-ze():0;if(Z=yv(V,Z),Z!==null){Bn=p,e.cancelPendingCommit=Z(bm.bind(null,e,i,p,s,u,h,b,x,C,B,V,null,w,R)),ri(e,p,b,!z);return}}bm(e,i,p,s,u,h,b,x,C)}function RS(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],p=h.getSnapshot;h=h.value;try{if(!Be(p(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(e,i,s,u){i&=~dc,i&=~Ki,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var h=i;0<h;){var p=31-Re(h),b=1<<p;u[p]=-1,h&=~b}s!==0&&vd(e,s,i)}function Ea(){return(vt&6)===0?(Yr(0),!1):!0}function yc(){if(dt!==null){if(xt===0)var e=dt.return;else e=dt,Mn=Vi=null,Ru(e),Dl=null,Tr=0,e=dt;for(;e!==null;)Lp(e.alternate,e),e=e.return;dt=null}}function ql(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,PS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Bn=0,yc(),kt=e,dt=s=En(e.current,null),pt=i,xt=0,je=null,ei=!1,Ul=ar(e,i),fc=!1,Vl=qe=dc=Ki=ni=jt=0,Oe=Hr=null,hc=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var h=31-Re(u),p=1<<h;i|=e[h],u&=~p}return Rn=i,Ys(),s}function fm(e,i){at=null,_.H=wr,i===Nl||i===Is?(i=Ah(),xt=3):i===Eu?(i=Ah(),xt=4):xt=i===$u?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,je=i,dt===null&&(jt=1,ca(e,Ke(i,e.current)))}function dm(){var e=Ue.current;return e===null?!0:(pt&4194048)===pt?Ie===null:(pt&62914560)===pt||(pt&536870912)!==0?e===Ie:!1}function hm(){var e=_.H;return _.H=wr,e===null?wr:e}function pm(){var e=_.A;return _.A=zS,e}function xa(){jt=4,ei||(pt&4194048)!==pt&&Ue.current!==null||(Ul=!0),(ni&134217727)===0&&(Ki&134217727)===0||kt===null||ri(kt,pt,qe,!1)}function bc(e,i,s){var u=vt;vt|=2;var h=hm(),p=pm();(kt!==e||pt!==i)&&(va=null,ql(e,i)),i=!1;var b=jt;t:do try{if(xt!==0&&dt!==null){var x=dt,C=je;switch(xt){case 8:yc(),b=6;break t;case 3:case 2:case 9:case 6:Ue.current===null&&(i=!0);var z=xt;if(xt=0,je=null,Hl(e,x,C,z),s&&Ul){b=0;break t}break;default:z=xt,xt=0,je=null,Hl(e,x,C,z)}}BS(),b=jt;break}catch(B){fm(e,B)}while(!0);return i&&e.shellSuspendCounter++,Mn=Vi=null,vt=u,_.H=h,_.A=p,dt===null&&(kt=null,pt=0,Ys()),b}function BS(){for(;dt!==null;)mm(dt)}function _S(e,i){var s=vt;vt|=2;var u=hm(),h=pm();kt!==e||pt!==i?(va=null,Sa=ze()+500,ql(e,i)):Ul=ar(e,i);t:do try{if(xt!==0&&dt!==null){i=dt;var p=je;e:switch(xt){case 1:xt=0,je=null,Hl(e,i,p,1);break;case 2:case 9:if(Ch(p)){xt=0,je=null,gm(i);break}i=function(){xt!==2&&xt!==9||kt!==e||(xt=7),pn(e)},p.then(i,i);break t;case 3:xt=7;break t;case 4:xt=5;break t;case 7:Ch(p)?(xt=0,je=null,gm(i)):(xt=0,je=null,Hl(e,i,p,7));break;case 5:var b=null;switch(dt.tag){case 26:b=dt.memoizedState;case 5:case 27:var x=dt;if(b?eg(b):x.stateNode.complete){xt=0,je=null;var C=x.sibling;if(C!==null)dt=C;else{var z=x.return;z!==null?(dt=z,Ma(z)):dt=null}break e}}xt=0,je=null,Hl(e,i,p,5);break;case 6:xt=0,je=null,Hl(e,i,p,6);break;case 8:yc(),jt=6;break t;default:throw Error(r(462))}}US();break}catch(B){fm(e,B)}while(!0);return Mn=Vi=null,_.H=u,_.A=h,vt=s,dt!==null?0:(kt=null,pt=0,Ys(),jt)}function US(){for(;dt!==null&&!rb();)mm(dt)}function mm(e){var i=qp(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,i===null?Ma(e):dt=i}function gm(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Rp(s,i,i.pendingProps,i.type,void 0,pt);break;case 11:i=Rp(s,i,i.pendingProps,i.type.render,i.ref,pt);break;case 5:Ru(i);default:Lp(s,i),i=dt=ph(i,Rn),i=qp(s,i,Rn)}e.memoizedProps=e.pendingProps,i===null?Ma(e):dt=i}function Hl(e,i,s,u){Mn=Vi=null,Ru(i),Dl=null,Tr=0;var h=i.return;try{if(TS(e,h,i,s,pt)){jt=1,ca(e,Ke(s,e.current)),dt=null;return}}catch(p){if(h!==null)throw dt=h,p;jt=1,ca(e,Ke(s,e.current)),dt=null;return}i.flags&32768?(gt||u===1?e=!0:Ul||(pt&536870912)!==0?e=!1:(ei=e=!0,(u===2||u===9||u===3||u===6)&&(u=Ue.current,u!==null&&u.tag===13&&(u.flags|=16384))),ym(i,e)):Ma(i)}function Ma(e){var i=e;do{if((i.flags&32768)!==0){ym(i,ei);return}e=i.return;var s=AS(i.alternate,i,Rn);if(s!==null){dt=s;return}if(i=i.sibling,i!==null){dt=i;return}dt=i=e}while(i!==null);jt===0&&(jt=5)}function ym(e,i){do{var s=NS(e.alternate,e);if(s!==null){s.flags&=32767,dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){dt=e;return}dt=e=s}while(e!==null);jt=6,dt=null}function bm(e,i,s,u,h,p,b,x,C){e.cancelPendingCommit=null;do Ta();while(Zt!==0);if((vt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(p=i.lanes|i.childLanes,p|=su,mb(e,s,p,b,x,C),e===kt&&(dt=kt=null,pt=0),jl=i,li=e,Bn=s,pc=p,mc=h,am=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,HS(Os,function(){return Mm(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=_.T,_.T=null,h=X.p,X.p=2,b=vt,vt|=4;try{DS(e,i,s)}finally{vt=b,X.p=h,_.T=u}}Zt=1,Sm(),vm(),Em()}}function Sm(){if(Zt===1){Zt=0;var e=li,i=jl,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=_.T,_.T=null;var u=X.p;X.p=2;var h=vt;vt|=4;try{Pp(i,e);var p=kc,b=rh(e.containerInfo),x=p.focusedElem,C=p.selectionRange;if(b!==x&&x&&x.ownerDocument&&lh(x.ownerDocument.documentElement,x)){if(C!==null&&eu(x)){var z=C.start,B=C.end;if(B===void 0&&(B=z),"selectionStart"in x)x.selectionStart=z,x.selectionEnd=Math.min(B,x.value.length);else{var V=x.ownerDocument||document,w=V&&V.defaultView||window;if(w.getSelection){var R=w.getSelection(),Z=x.textContent.length,et=Math.min(C.start,Z),Nt=C.end===void 0?et:Math.min(C.end,Z);!R.extend&&et>Nt&&(b=Nt,Nt=et,et=b);var D=ih(x,et),O=ih(x,Nt);if(D&&O&&(R.rangeCount!==1||R.anchorNode!==D.node||R.anchorOffset!==D.offset||R.focusNode!==O.node||R.focusOffset!==O.offset)){var k=V.createRange();k.setStart(D.node,D.offset),R.removeAllRanges(),et>Nt?(R.addRange(k),R.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),R.addRange(k))}}}}for(V=[],R=x;R=R.parentNode;)R.nodeType===1&&V.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<V.length;x++){var U=V[x];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Ua=!!Dc,kc=Dc=null}finally{vt=h,X.p=u,_.T=s}}e.current=i,Zt=2}}function vm(){if(Zt===2){Zt=0;var e=li,i=jl,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=_.T,_.T=null;var u=X.p;X.p=2;var h=vt;vt|=4;try{Zp(e,i.alternate,i)}finally{vt=h,X.p=u,_.T=s}}Zt=3}}function Em(){if(Zt===4||Zt===3){Zt=0,sb();var e=li,i=jl,s=Bn,u=am;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Zt=5:(Zt=0,jl=li=null,xm(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ii=null),Uo(s),i=i.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(sr,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=_.T,h=X.p,X.p=2,_.T=null;try{for(var p=e.onRecoverableError,b=0;b<u.length;b++){var x=u[b];p(x.value,{componentStack:x.stack})}}finally{_.T=i,X.p=h}}(Bn&3)!==0&&Ta(),pn(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===gc?Lr++:(Lr=0,gc=e):Lr=0,Yr(0)}}function xm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,xr(i)))}function Ta(){return Sm(),vm(),Em(),Mm()}function Mm(){if(Zt!==5)return!1;var e=li,i=pc;pc=0;var s=Uo(Bn),u=_.T,h=X.p;try{X.p=32>s?32:s,_.T=null,s=mc,mc=null;var p=li,b=Bn;if(Zt=0,jl=li=null,Bn=0,(vt&6)!==0)throw Error(r(331));var x=vt;if(vt|=4,lm(p.current),em(p,p.current,b,s),vt=x,Yr(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(sr,p)}catch{}return!0}finally{X.p=h,_.T=u,xm(e,i)}}function Tm(e,i,s){i=Ke(s,i),i=Zu(e.stateNode,i,2),e=Fn(e,i,2),e!==null&&(or(e,2),pn(e))}function Mt(e,i,s){if(e.tag===3)Tm(e,e,s);else for(;i!==null;){if(i.tag===3){Tm(i,e,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ii===null||!ii.has(u))){e=Ke(s,e),s=Cp(2),u=Fn(i,s,2),u!==null&&(Op(s,u,i,e),or(u,2),pn(u));break}}i=i.return}}function Sc(e,i,s){var u=e.pingCache;if(u===null){u=e.pingCache=new wS;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(s)||(fc=!0,h.add(s),e=VS.bind(null,e,i,s),i.then(e,e))}function VS(e,i,s){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,kt===e&&(pt&s)===s&&(jt===4||jt===3&&(pt&62914560)===pt&&300>ze()-ba?(vt&2)===0&&ql(e,0):dc|=s,Vl===pt&&(Vl=0)),pn(e)}function Cm(e,i){i===0&&(i=Sd()),e=Bi(e,i),e!==null&&(or(e,i),pn(e))}function jS(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Cm(e,s)}function qS(e,i){var s=0;switch(e.tag){case 31:case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),Cm(e,s)}function HS(e,i){return wo(e,i)}var Ca=null,Ll=null,vc=!1,Oa=!1,Ec=!1,si=0;function pn(e){e!==Ll&&e.next===null&&(Ll===null?Ca=Ll=e:Ll=Ll.next=e),Oa=!0,vc||(vc=!0,YS())}function Yr(e,i){if(!Ec&&Oa){Ec=!0;do for(var s=!1,u=Ca;u!==null;){if(e!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var b=u.suspendedLanes,x=u.pingedLanes;p=(1<<31-Re(42|e)+1)-1,p&=h&~(b&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,Dm(u,p))}else p=pt,p=ks(u,u===kt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ar(u,p)||(s=!0,Dm(u,p));u=u.next}while(s);Ec=!1}}function LS(){Om()}function Om(){Oa=vc=!1;var e=0;si!==0&&WS()&&(e=si);for(var i=ze(),s=null,u=Ca;u!==null;){var h=u.next,p=Am(u,i);p===0?(u.next=null,s===null?Ca=h:s.next=h,h===null&&(Ll=s)):(s=u,(e!==0||(p&3)!==0)&&(Oa=!0)),u=h}Zt!==0&&Zt!==5||Yr(e),si!==0&&(si=0)}function Am(e,i){for(var s=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var b=31-Re(p),x=1<<b,C=h[b];C===-1?((x&s)===0||(x&u)!==0)&&(h[b]=pb(x,i)):C<=i&&(e.expiredLanes|=x),p&=~x}if(i=kt,s=pt,s=ks(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,s===0||e===i&&(xt===2||xt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Ro(u),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ar(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(u!==null&&Ro(u),Uo(s)){case 2:case 8:s=yd;break;case 32:s=Os;break;case 268435456:s=bd;break;default:s=Os}return u=Nm.bind(null,e),s=wo(s,u),e.callbackPriority=i,e.callbackNode=s,i}return u!==null&&u!==null&&Ro(u),e.callbackPriority=2,e.callbackNode=null,2}function Nm(e,i){if(Zt!==0&&Zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ta()&&e.callbackNode!==s)return null;var u=pt;return u=ks(e,e===kt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(um(e,u,i),Am(e,ze()),e.callbackNode!=null&&e.callbackNode===s?Nm.bind(null,e):null)}function Dm(e,i){if(Ta())return null;um(e,i,!0)}function YS(){tv(function(){(vt&6)!==0?wo(gd,LS):Om()})}function xc(){if(si===0){var e=Ol;e===0&&(e=As,As<<=1,(As&261888)===0&&(As=256)),si=e}return si}function km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bs(""+e)}function zm(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function GS(e,i,s,u,h){if(i==="submit"&&s&&s.stateNode===h){var p=km((h[Ee]||null).action),b=u.submitter;b&&(i=(i=b[Ee]||null)?km(i.formAction):b.getAttribute("formAction"),i!==null&&(p=i,b=null));var x=new js("action","action",null,u,h);e.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(si!==0){var C=b?zm(h,b):new FormData(h);Yu(s,{pending:!0,data:C,method:h.method,action:p},null,C)}}else typeof p=="function"&&(x.preventDefault(),C=b?zm(h,b):new FormData(h),Yu(s,{pending:!0,data:C,method:h.method,action:p},p,C))},currentTarget:h}]})}}for(var Mc=0;Mc<ru.length;Mc++){var Tc=ru[Mc],XS=Tc.toLowerCase(),JS=Tc[0].toUpperCase()+Tc.slice(1);ln(XS,"on"+JS)}ln(oh,"onAnimationEnd"),ln(uh,"onAnimationIteration"),ln(ch,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(aS,"onTransitionRun"),ln(oS,"onTransitionStart"),ln(uS,"onTransitionCancel"),ln(fh,"onTransitionEnd"),dl("onMouseEnter",["mouseout","mouseover"]),dl("onMouseLeave",["mouseout","mouseover"]),dl("onPointerEnter",["pointerout","pointerover"]),dl("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gr));function wm(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],h=u.event;u=u.listeners;t:{var p=void 0;if(i)for(var b=u.length-1;0<=b;b--){var x=u[b],C=x.instance,z=x.currentTarget;if(x=x.listener,C!==p&&h.isPropagationStopped())break t;p=x,h.currentTarget=z;try{p(h)}catch(B){Ls(B)}h.currentTarget=null,p=C}else for(b=0;b<u.length;b++){if(x=u[b],C=x.instance,z=x.currentTarget,x=x.listener,C!==p&&h.isPropagationStopped())break t;p=x,h.currentTarget=z;try{p(h)}catch(B){Ls(B)}h.currentTarget=null,p=C}}}}function ht(e,i){var s=i[Vo];s===void 0&&(s=i[Vo]=new Set);var u=e+"__bubble";s.has(u)||(Rm(i,e,2,!1),s.add(u))}function Cc(e,i,s){var u=0;i&&(u|=4),Rm(s,e,u,i)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[Aa]){e[Aa]=!0,Od.forEach(function(s){s!=="selectionchange"&&(KS.has(s)||Cc(s,!1,e),Cc(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Aa]||(i[Aa]=!0,Cc("selectionchange",!1,i))}}function Rm(e,i,s,u){switch(og(i)){case 2:var h=vv;break;case 8:h=Ev;break;default:h=Lc}s=h.bind(null,i,s,e),h=void 0,!Ko||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(i,s,{capture:!0,passive:h}):e.addEventListener(i,s,!0):h!==void 0?e.addEventListener(i,s,{passive:h}):e.addEventListener(i,s,!1)}function Ac(e,i,s,u,h){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===h)break;if(b===4)for(b=u.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;x!==null;){if(b=ul(x),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){u=p=b;continue t}x=x.parentNode}}u=u.return}jd(function(){var z=p,B=Xo(s),V=[];t:{var w=dh.get(e);if(w!==void 0){var R=js,Z=e;switch(e){case"keypress":if(Us(s)===0)break t;case"keydown":case"keyup":R=qb;break;case"focusin":Z="focus",R=Io;break;case"focusout":Z="blur",R=Io;break;case"beforeblur":case"afterblur":R=Io;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Yb;break;case oh:case uh:case ch:R=kb;break;case fh:R=Xb;break;case"scroll":case"scrollend":R=Cb;break;case"wheel":R=Kb;break;case"copy":case"cut":case"paste":R=wb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Gd;break;case"toggle":case"beforetoggle":R=Zb}var et=(i&4)!==0,Nt=!et&&(e==="scroll"||e==="scrollend"),D=et?w!==null?w+"Capture":null:w;et=[];for(var O=z,k;O!==null;){var U=O;if(k=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||k===null||D===null||(U=fr(O,D),U!=null&&et.push(Xr(O,U,k))),Nt)break;O=O.return}0<et.length&&(w=new R(w,Z,null,s,B),V.push({event:w,listeners:et}))}}if((i&7)===0){t:{if(w=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",w&&s!==Go&&(Z=s.relatedTarget||s.fromElement)&&(ul(Z)||Z[ol]))break t;if((R||w)&&(w=B.window===B?B:(w=B.ownerDocument)?w.defaultView||w.parentWindow:window,R?(Z=s.relatedTarget||s.toElement,R=z,Z=Z?ul(Z):null,Z!==null&&(Nt=o(Z),et=Z.tag,Z!==Nt||et!==5&&et!==27&&et!==6)&&(Z=null)):(R=null,Z=z),R!==Z)){if(et=Ld,U="onMouseLeave",D="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(et=Gd,U="onPointerLeave",D="onPointerEnter",O="pointer"),Nt=R==null?w:cr(R),k=Z==null?w:cr(Z),w=new et(U,O+"leave",R,s,B),w.target=Nt,w.relatedTarget=k,U=null,ul(B)===z&&(et=new et(D,O+"enter",Z,s,B),et.target=k,et.relatedTarget=Nt,U=et),Nt=U,R&&Z)e:{for(et=QS,D=R,O=Z,k=0,U=D;U;U=et(U))k++;U=0;for(var P=O;P;P=et(P))U++;for(;0<k-U;)D=et(D),k--;for(;0<U-k;)O=et(O),U--;for(;k--;){if(D===O||O!==null&&D===O.alternate){et=D;break e}D=et(D),O=et(O)}et=null}else et=null;R!==null&&Bm(V,w,R,et,!1),Z!==null&&Nt!==null&&Bm(V,Nt,Z,et,!0)}}t:{if(w=z?cr(z):window,R=w.nodeName&&w.nodeName.toLowerCase(),R==="select"||R==="input"&&w.type==="file")var bt=Fd;else if($d(w))if(Wd)bt=lS;else{bt=nS;var F=eS}else R=w.nodeName,!R||R.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?z&&Yo(z.elementType)&&(bt=Fd):bt=iS;if(bt&&(bt=bt(e,z))){Id(V,bt,s,B);break t}F&&F(e,w,z),e==="focusout"&&z&&w.type==="number"&&z.memoizedProps.value!=null&&Lo(w,"number",w.value)}switch(F=z?cr(z):window,e){case"focusin":($d(F)||F.contentEditable==="true")&&(bl=F,nu=z,Sr=null);break;case"focusout":Sr=nu=bl=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,sh(V,s,B);break;case"selectionchange":if(sS)break;case"keydown":case"keyup":sh(V,s,B)}var ot;if(Wo)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else yl?Qd(e,s)&&(mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(mt="onCompositionStart");mt&&(Xd&&s.locale!=="ko"&&(yl||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&yl&&(ot=qd()):(Xn=B,Qo="value"in Xn?Xn.value:Xn.textContent,yl=!0)),F=Na(z,mt),0<F.length&&(mt=new Yd(mt,e,null,s,B),V.push({event:mt,listeners:F}),ot?mt.data=ot:(ot=Zd(s),ot!==null&&(mt.data=ot)))),(ot=Ib?Fb(e,s):Wb(e,s))&&(mt=Na(z,"onBeforeInput"),0<mt.length&&(F=new Yd("onBeforeInput","beforeinput",null,s,B),V.push({event:F,listeners:mt}),F.data=ot)),GS(V,e,z,s,B)}wm(V,i)})}function Xr(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Na(e,i){for(var s=i+"Capture",u=[];e!==null;){var h=e,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=fr(e,s),h!=null&&u.unshift(Xr(e,h,p)),h=fr(e,i),h!=null&&u.push(Xr(e,h,p))),e.tag===3)return u;e=e.return}return[]}function QS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bm(e,i,s,u,h){for(var p=i._reactName,b=[];s!==null&&s!==u;){var x=s,C=x.alternate,z=x.stateNode;if(x=x.tag,C!==null&&C===u)break;x!==5&&x!==26&&x!==27||z===null||(C=z,h?(z=fr(s,p),z!=null&&b.unshift(Xr(s,z,C))):h||(z=fr(s,p),z!=null&&b.push(Xr(s,z,C)))),s=s.return}b.length!==0&&e.push({event:i,listeners:b})}var ZS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function _m(e){return(typeof e=="string"?e:""+e).replace(ZS,`
`).replace($S,"")}function Um(e,i){return i=_m(i),_m(e)===i}function At(e,i,s,u,h,p){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||pl(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&pl(e,""+u);break;case"className":ws(e,"class",u);break;case"tabIndex":ws(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(e,s,u);break;case"style":Ud(e,u,p);break;case"data":if(i!=="object"){ws(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=Bs(""+u),e.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&At(e,i,"name",h.name,h,null),At(e,i,"formEncType",h.formEncType,h,null),At(e,i,"formMethod",h.formMethod,h,null),At(e,i,"formTarget",h.formTarget,h,null)):(At(e,i,"encType",h.encType,h,null),At(e,i,"method",h.method,h,null),At(e,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=Bs(""+u),e.setAttribute(s,u);break;case"onClick":u!=null&&(e.onclick=Sn);break;case"onScroll":u!=null&&ht("scroll",e);break;case"onScrollEnd":u!=null&&ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}s=Bs(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""+u):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":u===!0?e.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,u):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(s,u):e.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(s):e.setAttribute(s,u);break;case"popover":ht("beforetoggle",e),ht("toggle",e),zs(e,"popover",u);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zs(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mb.get(s)||s,zs(e,s,u))}}function Nc(e,i,s,u,h,p){switch(s){case"style":Ud(e,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof u=="string"?pl(e,u):(typeof u=="number"||typeof u=="bigint")&&pl(e,""+u);break;case"onScroll":u!=null&&ht("scroll",e);break;case"onScrollEnd":u!=null&&ht("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ad.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),p=e[Ee]||null,p=p!=null?p[s]:null,typeof p=="function"&&e.removeEventListener(i,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,u,h);break t}s in e?e[s]=u:u===!0?e.setAttribute(s,""):zs(e,s,u)}}}function oe(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",e),ht("load",e);var u=!1,h=!1,p;for(p in s)if(s.hasOwnProperty(p)){var b=s[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:At(e,i,p,b,s,null)}}h&&At(e,i,"srcSet",s.srcSet,s,null),u&&At(e,i,"src",s.src,s,null);return;case"input":ht("invalid",e);var x=p=b=h=null,C=null,z=null;for(u in s)if(s.hasOwnProperty(u)){var B=s[u];if(B!=null)switch(u){case"name":h=B;break;case"type":b=B;break;case"checked":C=B;break;case"defaultChecked":z=B;break;case"value":p=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:At(e,i,u,B,s,null)}}wd(e,p,x,C,z,b,h,!1);return;case"select":ht("invalid",e),u=b=p=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":p=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:At(e,i,h,x,s,null)}i=p,s=b,e.multiple=!!u,i!=null?hl(e,!!u,i,!1):s!=null&&hl(e,!!u,s,!0);return;case"textarea":ht("invalid",e),p=h=u=null;for(b in s)if(s.hasOwnProperty(b)&&(x=s[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":h=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:At(e,i,b,x,s,null)}Bd(e,u,h,p);return;case"option":for(C in s)s.hasOwnProperty(C)&&(u=s[C],u!=null)&&(C==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":At(e,i,C,u,s,null));return;case"dialog":ht("beforetoggle",e),ht("toggle",e),ht("cancel",e),ht("close",e);break;case"iframe":case"object":ht("load",e);break;case"video":case"audio":for(u=0;u<Gr.length;u++)ht(Gr[u],e);break;case"image":ht("error",e),ht("load",e);break;case"details":ht("toggle",e);break;case"embed":case"source":case"link":ht("error",e),ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(u=s[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:At(e,i,z,u,s,null)}return;default:if(Yo(i)){for(B in s)s.hasOwnProperty(B)&&(u=s[B],u!==void 0&&Nc(e,i,B,u,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(u=s[x],u!=null&&At(e,i,x,u,s,null))}function IS(e,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,b=null,x=null,C=null,z=null,B=null;for(R in s){var V=s[R];if(s.hasOwnProperty(R)&&V!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":C=V;default:u.hasOwnProperty(R)||At(e,i,R,null,u,V)}}for(var w in u){var R=u[w];if(V=s[w],u.hasOwnProperty(w)&&(R!=null||V!=null))switch(w){case"type":p=R;break;case"name":h=R;break;case"checked":z=R;break;case"defaultChecked":B=R;break;case"value":b=R;break;case"defaultValue":x=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,i));break;default:R!==V&&At(e,i,w,R,u,V)}}Ho(e,b,x,C,z,B,p,h);return;case"select":R=b=x=w=null;for(p in s)if(C=s[p],s.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":R=C;default:u.hasOwnProperty(p)||At(e,i,p,null,u,C)}for(h in u)if(p=u[h],C=s[h],u.hasOwnProperty(h)&&(p!=null||C!=null))switch(h){case"value":w=p;break;case"defaultValue":x=p;break;case"multiple":b=p;default:p!==C&&At(e,i,h,p,u,C)}i=x,s=b,u=R,w!=null?hl(e,!!s,w,!1):!!u!=!!s&&(i!=null?hl(e,!!s,i,!0):hl(e,!!s,s?[]:"",!1));return;case"textarea":R=w=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:At(e,i,x,null,u,h)}for(b in u)if(h=u[b],p=s[b],u.hasOwnProperty(b)&&(h!=null||p!=null))switch(b){case"value":w=h;break;case"defaultValue":R=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==p&&At(e,i,b,h,u,p)}Rd(e,w,R);return;case"option":for(var Z in s)w=s[Z],s.hasOwnProperty(Z)&&w!=null&&!u.hasOwnProperty(Z)&&(Z==="selected"?e.selected=!1:At(e,i,Z,null,u,w));for(C in u)w=u[C],R=s[C],u.hasOwnProperty(C)&&w!==R&&(w!=null||R!=null)&&(C==="selected"?e.selected=w&&typeof w!="function"&&typeof w!="symbol":At(e,i,C,w,u,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in s)w=s[et],s.hasOwnProperty(et)&&w!=null&&!u.hasOwnProperty(et)&&At(e,i,et,null,u,w);for(z in u)if(w=u[z],R=s[z],u.hasOwnProperty(z)&&w!==R&&(w!=null||R!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(137,i));break;default:At(e,i,z,w,u,R)}return;default:if(Yo(i)){for(var Nt in s)w=s[Nt],s.hasOwnProperty(Nt)&&w!==void 0&&!u.hasOwnProperty(Nt)&&Nc(e,i,Nt,void 0,u,w);for(B in u)w=u[B],R=s[B],!u.hasOwnProperty(B)||w===R||w===void 0&&R===void 0||Nc(e,i,B,w,u,R);return}}for(var D in s)w=s[D],s.hasOwnProperty(D)&&w!=null&&!u.hasOwnProperty(D)&&At(e,i,D,null,u,w);for(V in u)w=u[V],R=s[V],!u.hasOwnProperty(V)||w===R||w==null&&R==null||At(e,i,V,w,u,R)}function Vm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var h=s[u],p=h.transferSize,b=h.initiatorType,x=h.duration;if(p&&x&&Vm(b)){for(b=0,x=h.responseEnd,u+=1;u<s.length;u++){var C=s[u],z=C.startTime;if(z>x)break;var B=C.transferSize,V=C.initiatorType;B&&Vm(V)&&(C=C.responseEnd,b+=B*(C<x?1:(x-z)/(C-z)))}if(--u,i+=8*(p+b)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dc=null,kc=null;function Da(e){return e.nodeType===9?e:e.ownerDocument}function jm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function zc(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wc=null;function WS(){var e=window.event;return e&&e.type==="popstate"?e===wc?!1:(wc=e,!0):(wc=null,!1)}var Hm=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(e){return Lm.resolve(null).then(e).catch(ev)}:Hm;function ev(e){setTimeout(function(){throw e})}function ai(e){return e==="head"}function Ym(e,i){var s=i,u=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(u===0){e.removeChild(h),Jl(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Jr(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Jr(s);for(var p=s.firstChild;p;){var b=p.nextSibling,x=p.nodeName;p[ur]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=b}}else s==="body"&&Jr(e.ownerDocument.body);s=h}while(s);Jl(i)}function Gm(e,i){var s=e;e=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=u}while(s)}function Rc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rc(s),jo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function nv(e,i,s,u){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[ur])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Fe(e.nextSibling),e===null)break}return null}function iv(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Fe(e.nextSibling),e===null))return null;return e}function Xm(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Fe(e.nextSibling),e===null))return null;return e}function Bc(e){return e.data==="$?"||e.data==="$~"}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lv(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Fe(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Uc=null;function Jm(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return Fe(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function Km(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function Qm(e,i,s){switch(i=Da(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Jr(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);jo(e)}var We=new Map,Zm=new Set;function ka(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _n=X.d;X.d={f:rv,r:sv,D:av,C:ov,L:uv,m:cv,X:dv,S:fv,M:hv};function rv(){var e=_n.f(),i=Ea();return e||i}function sv(e){var i=cl(e);i!==null&&i.tag===5&&i.type==="form"?fp(i):_n.r(e)}var Yl=typeof document>"u"?null:document;function $m(e,i,s){var u=Yl;if(u&&typeof i=="string"&&i){var h=Xe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Zm.has(h)||(Zm.add(h),e={rel:e,crossOrigin:s,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),oe(i,"link",e),Ft(i),u.head.appendChild(i)))}}function av(e){_n.D(e),$m("dns-prefetch",e,null)}function ov(e,i){_n.C(e,i),$m("preconnect",e,i)}function uv(e,i,s){_n.L(e,i,s);var u=Yl;if(u&&e&&i){var h='link[rel="preload"][as="'+Xe(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Xe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Xe(s.imageSizes)+'"]')):h+='[href="'+Xe(e)+'"]';var p=h;switch(i){case"style":p=Gl(e);break;case"script":p=Xl(e)}We.has(p)||(e=y({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),We.set(p,e),u.querySelector(h)!==null||i==="style"&&u.querySelector(Kr(p))||i==="script"&&u.querySelector(Qr(p))||(i=u.createElement("link"),oe(i,"link",e),Ft(i),u.head.appendChild(i)))}}function cv(e,i){_n.m(e,i);var s=Yl;if(s&&e){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Xe(u)+'"][href="'+Xe(e)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Xl(e)}if(!We.has(p)&&(e=y({rel:"modulepreload",href:e},i),We.set(p,e),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Qr(p)))return}u=s.createElement("link"),oe(u,"link",e),Ft(u),s.head.appendChild(u)}}}function fv(e,i,s){_n.S(e,i,s);var u=Yl;if(u&&e){var h=fl(u).hoistableStyles,p=Gl(e);i=i||"default";var b=h.get(p);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(Kr(p)))x.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":i},s),(s=We.get(p))&&Vc(e,s);var C=b=u.createElement("link");Ft(C),oe(C,"link",e),C._p=new Promise(function(z,B){C.onload=z,C.onerror=B}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,za(b,i,u)}b={type:"stylesheet",instance:b,count:1,state:x},h.set(p,b)}}}function dv(e,i){_n.X(e,i);var s=Yl;if(s&&e){var u=fl(s).hoistableScripts,h=Xl(e),p=u.get(h);p||(p=s.querySelector(Qr(h)),p||(e=y({src:e,async:!0},i),(i=We.get(h))&&jc(e,i),p=s.createElement("script"),Ft(p),oe(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function hv(e,i){_n.M(e,i);var s=Yl;if(s&&e){var u=fl(s).hoistableScripts,h=Xl(e),p=u.get(h);p||(p=s.querySelector(Qr(h)),p||(e=y({src:e,async:!0,type:"module"},i),(i=We.get(h))&&jc(e,i),p=s.createElement("script"),Ft(p),oe(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function Im(e,i,s,u){var h=(h=ft.current)?ka(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Gl(s.href),s=fl(h).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Gl(s.href);var p=fl(h).hoistableStyles,b=p.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,b),(p=h.querySelector(Kr(e)))&&!p._p&&(b.instance=p,b.state.loading=5),We.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},We.set(e,s),p||pv(h,e,s,b.state))),i&&u===null)throw Error(r(528,""));return b}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xl(s),s=fl(h).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Gl(e){return'href="'+Xe(e)+'"'}function Kr(e){return'link[rel="stylesheet"]['+e+"]"}function Fm(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function pv(e,i,s,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),oe(i,"link",s),Ft(i),e.head.appendChild(i))}function Xl(e){return'[src="'+Xe(e)+'"]'}function Qr(e){return"script[async]"+e}function Wm(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+Xe(s.href)+'"]');if(u)return i.instance=u,Ft(u),u;var h=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Ft(u),oe(u,"style",h),za(u,s.precedence,e),i.instance=u;case"stylesheet":h=Gl(s.href);var p=e.querySelector(Kr(h));if(p)return i.state.loading|=4,i.instance=p,Ft(p),p;u=Fm(s),(h=We.get(h))&&Vc(u,h),p=(e.ownerDocument||e).createElement("link"),Ft(p);var b=p;return b._p=new Promise(function(x,C){b.onload=x,b.onerror=C}),oe(p,"link",u),i.state.loading|=4,za(p,s.precedence,e),i.instance=p;case"script":return p=Xl(s.src),(h=e.querySelector(Qr(p)))?(i.instance=h,Ft(h),h):(u=s,(h=We.get(p))&&(u=y({},s),jc(u,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ft(h),oe(h,"link",u),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,za(u,s.precedence,e));return i.instance}function za(e,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===i)p=x;else if(p!==h)break}p?p.parentNode.insertBefore(e,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Vc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function jc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var wa=null;function Pm(e,i,s){if(wa===null){var u=new Map,h=wa=new Map;h.set(s,u)}else h=wa,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(e))return u;for(u.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var p=s[h];if(!(p[ur]||p[le]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(i)||"";b=e+b;var x=u.get(b);x?x.push(p):u.set(b,[p])}}return u}function tg(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function mv(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function eg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gv(e,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Gl(u.href),p=i.querySelector(Kr(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ra.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=p,Ft(p);return}p=i.ownerDocument||i,u=Fm(u),(h=We.get(h))&&Vc(u,h),p=p.createElement("link"),Ft(p);var b=p;b._p=new Promise(function(x,C){b.onload=x,b.onerror=C}),oe(p,"link",u),s.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ra.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var qc=0;function yv(e,i){return e.stylesheets&&e.count===0&&_a(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var u=setTimeout(function(){if(e.stylesheets&&_a(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+i);0<e.imgBytes&&qc===0&&(qc=62500*FS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_a(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>qc?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Ra(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_a(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ba=null;function _a(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ba=new Map,i.forEach(bv,e),Ba=null,Ra.call(e))}function bv(e,i){if(!(i.state.loading&4)){var s=Ba.get(e);if(s)var u=s.get(null);else{s=new Map,Ba.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var b=h[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),u=b)}u&&s.set(null,u)}h=i.instance,b=h.getAttribute("data-precedence"),p=s.get(b)||u,p===u&&s.set(null,h),s.set(b,h),this.count++,u=Ra.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Zr={$$typeof:Y,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function Sv(e,i,s,u,h,p,b,x,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.hiddenUpdates=Bo(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ng(e,i,s,u,h,p,b,x,C,z,B,V){return e=new Sv(e,i,s,b,C,z,B,V,x),i=1,p===!0&&(i|=24),p=_e(3,null,null,i),e.current=p,p.stateNode=e,i=bu(),i.refCount++,e.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:s,cache:i},xu(p),e}function ig(e){return e?(e=El,e):El}function lg(e,i,s,u,h,p){h=ig(h),u.context===null?u.context=h:u.pendingContext=h,u=In(i),u.payload={element:s},p=p===void 0?null:p,p!==null&&(u.callback=p),s=Fn(e,u,i),s!==null&&(Ae(s,e,i),Or(s,e,i))}function rg(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Hc(e,i){rg(e,i),(e=e.alternate)&&rg(e,i)}function sg(e){if(e.tag===13||e.tag===31){var i=Bi(e,67108864);i!==null&&Ae(i,e,67108864),Hc(e,67108864)}}function ag(e){if(e.tag===13||e.tag===31){var i=He();i=_o(i);var s=Bi(e,i);s!==null&&Ae(s,e,i),Hc(e,i)}}var Ua=!0;function vv(e,i,s,u){var h=_.T;_.T=null;var p=X.p;try{X.p=2,Lc(e,i,s,u)}finally{X.p=p,_.T=h}}function Ev(e,i,s,u){var h=_.T;_.T=null;var p=X.p;try{X.p=8,Lc(e,i,s,u)}finally{X.p=p,_.T=h}}function Lc(e,i,s,u){if(Ua){var h=Yc(u);if(h===null)Ac(e,i,u,Va,s),ug(e,u);else if(Mv(h,e,i,s,u))u.stopPropagation();else if(ug(e,u),i&4&&-1<xv.indexOf(e)){for(;h!==null;){var p=cl(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Di(p.pendingLanes);if(b!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var C=1<<31-Re(b);x.entanglements[1]|=C,b&=~C}pn(p),(vt&6)===0&&(Sa=ze()+500,Yr(0))}}break;case 31:case 13:x=Bi(p,2),x!==null&&Ae(x,p,2),Ea(),Hc(p,2)}if(p=Yc(u),p===null&&Ac(e,i,u,Va,s),p===h)break;h=p}h!==null&&u.stopPropagation()}else Ac(e,i,u,null,s)}}function Yc(e){return e=Xo(e),Gc(e)}var Va=null;function Gc(e){if(Va=null,e=ul(e),e!==null){var i=o(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=c(i),e!==null)return e;e=null}else if(s===31){if(e=f(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Va=e,null}function og(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ab()){case gd:return 2;case yd:return 8;case Os:case ob:return 32;case bd:return 268435456;default:return 32}default:return 32}}var Xc=!1,oi=null,ui=null,ci=null,$r=new Map,Ir=new Map,fi=[],xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ug(e,i){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":$r.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(i.pointerId)}}function Fr(e,i,s,u,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},i!==null&&(i=cl(i),i!==null&&sg(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Mv(e,i,s,u,h){switch(i){case"focusin":return oi=Fr(oi,e,i,s,u,h),!0;case"dragenter":return ui=Fr(ui,e,i,s,u,h),!0;case"mouseover":return ci=Fr(ci,e,i,s,u,h),!0;case"pointerover":var p=h.pointerId;return $r.set(p,Fr($r.get(p)||null,e,i,s,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Ir.set(p,Fr(Ir.get(p)||null,e,i,s,u,h)),!0}return!1}function cg(e){var i=ul(e.target);if(i!==null){var s=o(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){e.blockedOn=i,Td(e.priority,function(){ag(s)});return}}else if(i===31){if(i=f(s),i!==null){e.blockedOn=i,Td(e.priority,function(){ag(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ja(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Go=u,s.target.dispatchEvent(u),Go=null}else return i=cl(s),i!==null&&sg(i),e.blockedOn=s,!1;i.shift()}return!0}function fg(e,i,s){ja(e)&&s.delete(i)}function Tv(){Xc=!1,oi!==null&&ja(oi)&&(oi=null),ui!==null&&ja(ui)&&(ui=null),ci!==null&&ja(ci)&&(ci=null),$r.forEach(fg),Ir.forEach(fg)}function qa(e,i){e.blockedOn===i&&(e.blockedOn=null,Xc||(Xc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Tv)))}var Ha=null;function dg(e){Ha!==e&&(Ha=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ha===e&&(Ha=null);for(var i=0;i<e.length;i+=3){var s=e[i],u=e[i+1],h=e[i+2];if(typeof u!="function"){if(Gc(u||s)===null)continue;break}var p=cl(s);p!==null&&(e.splice(i,3),i-=3,Yu(p,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function Jl(e){function i(C){return qa(C,e)}oi!==null&&qa(oi,e),ui!==null&&qa(ui,e),ci!==null&&qa(ci,e),$r.forEach(i),Ir.forEach(i);for(var s=0;s<fi.length;s++){var u=fi[s];u.blockedOn===e&&(u.blockedOn=null)}for(;0<fi.length&&(s=fi[0],s.blockedOn===null);)cg(s),s.blockedOn===null&&fi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],p=s[u+1],b=h[Ee]||null;if(typeof p=="function")b||dg(s);else if(b){var x=null;if(p&&p.hasAttribute("formAction")){if(h=p,b=p[Ee]||null)x=b.formAction;else if(Gc(h)!==null)continue}else x=b.action;typeof x=="function"?s[u+1]=x:(s.splice(u,3),u-=3),dg(s)}}}function hg(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Jc(e){this._internalRoot=e}La.prototype.render=Jc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,u=He();lg(s,u,e,i,null,null)},La.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;lg(e.current,2,null,e,null,null),Ea(),i[ol]=null}};function La(e){this._internalRoot=e}La.prototype.unstable_scheduleHydration=function(e){if(e){var i=Md();e={blockedOn:null,target:e,priority:i};for(var s=0;s<fi.length&&i!==0&&i<fi[s].priority;s++);fi.splice(s,0,e),s===0&&cg(e)}};var pg=t.version;if(pg!=="19.2.4")throw Error(r(527,pg,"19.2.4"));X.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Cv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{sr=Ya.inject(Cv),we=Ya}catch{}}return Pr.createRoot=function(e,i){if(!a(e))throw Error(r(299));var s=!1,u="",h=Ep,p=xp,b=Mp;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=ng(e,1,!1,null,null,s,u,null,h,p,b,hg),e[ol]=i.current,Oc(e),new Jc(i)},Pr.hydrateRoot=function(e,i,s){if(!a(e))throw Error(r(299));var u=!1,h="",p=Ep,b=xp,x=Mp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),i=ng(e,1,!0,i,s??null,u,h,C,p,b,x,hg),i.context=ig(null),s=i.current,u=He(),u=_o(u),h=In(u),h.callback=null,Fn(s,h,u),s=u,i.current.lanes=s,or(i,s),pn(i),e[ol]=i.current,Oc(e),new La(i)},Pr.version="19.2.4",Pr}var Tg;function Bv(){if(Tg)return Qc.exports;Tg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Qc.exports=Rv(),Qc.exports}var _v=Bv();function Mi(){for(var l,t=0,n="",r=arguments.length;t<r;t++)(l=arguments[t])&&typeof l=="string"&&(n+=(n&&" ")+l);return n}var Tt=Es();const Ne=Xy(Tt);var Ky=Jy();const Uv=Xy(Ky);var Wc={exports:{}},Pc={};var Cg;function Vv(){if(Cg)return Pc;Cg=1;var l=Es();function t(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var n=typeof Object.is=="function"?Object.is:t,r=l.useState,a=l.useEffect,o=l.useLayoutEffect,c=l.useDebugValue;function f(y,S){var v=S(),E=r({inst:{value:v,getSnapshot:S}}),M=E[0].inst,T=E[1];return o(function(){M.value=v,M.getSnapshot=S,d(M)&&T({inst:M})},[y,v,S]),a(function(){return d(M)&&T({inst:M}),y(function(){d(M)&&T({inst:M})})},[y]),c(v),v}function d(y){var S=y.getSnapshot;y=y.value;try{var v=S();return!n(y,v)}catch{return!0}}function m(y,S){return S()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return Pc.useSyncExternalStore=l.useSyncExternalStore!==void 0?l.useSyncExternalStore:g,Pc}var Og;function Qy(){return Og||(Og=1,Wc.exports=Vv()),Wc.exports}var Zy=Qy();function ue(l){this.content=l}ue.prototype={constructor:ue,find:function(l){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===l)return t;return-1},get:function(l){var t=this.find(l);return t==-1?void 0:this.content[t+1]},update:function(l,t,n){var r=n&&n!=l?this.remove(n):this,a=r.find(l),o=r.content.slice();return a==-1?o.push(n||l,t):(o[a+1]=t,n&&(o[a]=n)),new ue(o)},remove:function(l){var t=this.find(l);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new ue(n)},addToStart:function(l,t){return new ue([l,t].concat(this.remove(l).content))},addToEnd:function(l,t){var n=this.remove(l).content.slice();return n.push(l,t),new ue(n)},addBefore:function(l,t,n){var r=this.remove(t),a=r.content.slice(),o=r.find(l);return a.splice(o==-1?a.length:o,0,t,n),new ue(a)},forEach:function(l){for(var t=0;t<this.content.length;t+=2)l(this.content[t],this.content[t+1])},prepend:function(l){return l=ue.from(l),l.size?new ue(l.content.concat(this.subtract(l).content)):this},append:function(l){return l=ue.from(l),l.size?new ue(this.subtract(l).content.concat(l.content)):this},subtract:function(l){var t=this;l=ue.from(l);for(var n=0;n<l.content.length;n+=2)t=t.remove(l.content[n]);return t},toObject:function(){var l={};return this.forEach(function(t,n){l[t]=n}),l},get size(){return this.content.length>>1}};ue.from=function(l){if(l instanceof ue)return l;var t=[];if(l)for(var n in l)t.push(n,l[n]);return new ue(t)};function $y(l,t,n){for(let r=0;;r++){if(r==l.childCount||r==t.childCount)return l.childCount==t.childCount?null:n;let a=l.child(r),o=t.child(r);if(a==o){n+=a.nodeSize;continue}if(!a.sameMarkup(o))return n;if(a.isText&&a.text!=o.text){for(let c=0;a.text[c]==o.text[c];c++)n++;return n}if(a.content.size||o.content.size){let c=$y(a.content,o.content,n+1);if(c!=null)return c}n+=a.nodeSize}}function Iy(l,t,n,r){for(let a=l.childCount,o=t.childCount;;){if(a==0||o==0)return a==o?null:{a:n,b:r};let c=l.child(--a),f=t.child(--o),d=c.nodeSize;if(c==f){n-=d,r-=d;continue}if(!c.sameMarkup(f))return{a:n,b:r};if(c.isText&&c.text!=f.text){let m=0,g=Math.min(c.text.length,f.text.length);for(;m<g&&c.text[c.text.length-m-1]==f.text[f.text.length-m-1];)m++,n--,r--;return{a:n,b:r}}if(c.content.size||f.content.size){let m=Iy(c.content,f.content,n-1,r-1);if(m)return m}n-=d,r-=d}}class L{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,a=0,o){for(let c=0,f=0;f<n;c++){let d=this.content[c],m=f+d.nodeSize;if(m>t&&r(d,a+f,o||null,c)!==!1&&d.content.size){let g=f+1;d.nodesBetween(Math.max(0,t-g),Math.min(d.content.size,n-g),r,a+g)}f=m}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,a){let o="",c=!0;return this.nodesBetween(t,n,(f,d)=>{let m=f.isText?f.text.slice(Math.max(t,d)-d,n-d):f.isLeaf?a?typeof a=="function"?a(f):a:f.type.spec.leafText?f.type.spec.leafText(f):"":"";f.isBlock&&(f.isLeaf&&m||f.isTextblock)&&r&&(c?c=!1:o+=r),o+=m},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,a=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(a[a.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)a.push(t.content[o]);return new L(a,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],a=0;if(n>t)for(let o=0,c=0;c<n;o++){let f=this.content[o],d=c+f.nodeSize;d>t&&((c<t||d>n)&&(f.isText?f=f.cut(Math.max(0,t-c),Math.min(f.text.length,n-c)):f=f.cut(Math.max(0,t-c-1),Math.min(f.content.size,n-c-1))),r.push(f),a+=f.nodeSize),c=d}return new L(r,a)}cutByIndex(t,n){return t==n?L.empty:t==0&&n==this.content.length?this:new L(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let a=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return a[t]=n,new L(a,o)}addToStart(t){return new L([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new L(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let a=this.content[n];t(a,r,n),r+=a.nodeSize}}findDiffStart(t,n=0){return $y(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return Iy(this,t,n,r)}findIndex(t){if(t==0)return Ga(0,t);if(t==this.size)return Ga(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let a=this.child(n),o=r+a.nodeSize;if(o>=t)return o==t?Ga(n+1,o):Ga(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return L.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new L(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return L.empty;let n,r=0;for(let a=0;a<t.length;a++){let o=t[a];r+=o.nodeSize,a&&o.isText&&t[a-1].sameMarkup(o)?(n||(n=t.slice(0,a)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new L(n||t,r)}static from(t){if(!t)return L.empty;if(t instanceof L)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new L([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}L.empty=new L([],0);const tf={index:0,offset:0};function Ga(l,t){return tf.index=l,tf.offset=t,tf}function eo(l,t){if(l===t)return!0;if(!(l&&typeof l=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(l);if(Array.isArray(t)!=n)return!1;if(n){if(l.length!=t.length)return!1;for(let r=0;r<l.length;r++)if(!eo(l[r],t[r]))return!1}else{for(let r in l)if(!(r in t)||!eo(l[r],t[r]))return!1;for(let r in t)if(!(r in l))return!1}return!0}let zt=class Ef{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let a=0;a<t.length;a++){let o=t[a];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,a));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,a)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&eo(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let a=r.create(n.attrs);return r.checkAttrs(a.attrs),a}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Ef.none;if(t instanceof Ef)return[t];let n=t.slice();return n.sort((r,a)=>r.type.rank-a.type.rank),n}};zt.none=[];class no extends Error{}class Q{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=Wy(this.content,t+this.openStart,n);return r&&new Q(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Q(Fy(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Q.empty;let r=n.openStart||0,a=n.openEnd||0;if(typeof r!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Q(L.fromJSON(t,n.content),r,a)}static maxOpen(t,n=!0){let r=0,a=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)a++;return new Q(t,r,a)}}Q.empty=new Q(L.empty,0,0);function Fy(l,t,n){let{index:r,offset:a}=l.findIndex(t),o=l.maybeChild(r),{index:c,offset:f}=l.findIndex(n);if(a==t||o.isText){if(f!=n&&!l.child(c).isText)throw new RangeError("Removing non-flat range");return l.cut(0,t).append(l.cut(n))}if(r!=c)throw new RangeError("Removing non-flat range");return l.replaceChild(r,o.copy(Fy(o.content,t-a-1,n-a-1)))}function Wy(l,t,n,r){let{index:a,offset:o}=l.findIndex(t),c=l.maybeChild(a);if(o==t||c.isText)return r&&!r.canReplace(a,a,n)?null:l.cut(0,t).append(n).append(l.cut(t));let f=Wy(c.content,t-o-1,n,c);return f&&l.replaceChild(a,c.copy(f))}function jv(l,t,n){if(n.openStart>l.depth)throw new no("Inserted content deeper than insertion position");if(l.depth-n.openStart!=t.depth-n.openEnd)throw new no("Inconsistent open depths");return Py(l,t,n,0)}function Py(l,t,n,r){let a=l.index(r),o=l.node(r);if(a==t.index(r)&&r<l.depth-n.openStart){let c=Py(l,t,n,r+1);return o.copy(o.content.replaceChild(a,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&l.depth==r&&t.depth==r){let c=l.parent,f=c.content;return Wi(c,f.cut(0,l.parentOffset).append(n.content).append(f.cut(t.parentOffset)))}else{let{start:c,end:f}=qv(n,l);return Wi(o,e0(l,c,f,t,r))}else return Wi(o,io(l,t,r))}function t0(l,t){if(!t.type.compatibleContent(l.type))throw new no("Cannot join "+t.type.name+" onto "+l.type.name)}function xf(l,t,n){let r=l.node(n);return t0(r,t.node(n)),r}function Fi(l,t){let n=t.length-1;n>=0&&l.isText&&l.sameMarkup(t[n])?t[n]=l.withText(t[n].text+l.text):t.push(l)}function ss(l,t,n,r){let a=(t||l).node(n),o=0,c=t?t.index(n):a.childCount;l&&(o=l.index(n),l.depth>n?o++:l.textOffset&&(Fi(l.nodeAfter,r),o++));for(let f=o;f<c;f++)Fi(a.child(f),r);t&&t.depth==n&&t.textOffset&&Fi(t.nodeBefore,r)}function Wi(l,t){return l.type.checkContent(t),l.copy(t)}function e0(l,t,n,r,a){let o=l.depth>a&&xf(l,t,a+1),c=r.depth>a&&xf(n,r,a+1),f=[];return ss(null,l,a,f),o&&c&&t.index(a)==n.index(a)?(t0(o,c),Fi(Wi(o,e0(l,t,n,r,a+1)),f)):(o&&Fi(Wi(o,io(l,t,a+1)),f),ss(t,n,a,f),c&&Fi(Wi(c,io(n,r,a+1)),f)),ss(r,null,a,f),new L(f)}function io(l,t,n){let r=[];if(ss(null,l,n,r),l.depth>n){let a=xf(l,t,n+1);Fi(Wi(a,io(l,t,n+1)),r)}return ss(t,null,n,r),new L(r)}function qv(l,t){let n=t.depth-l.openStart,a=t.node(n).copy(l.content);for(let o=n-1;o>=0;o--)a=t.node(o).copy(L.from(a));return{start:a.resolveNoCache(l.openStart+n),end:a.resolveNoCache(a.content.size-l.openEnd-n)}}class fs{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],a=t.child(n);return r?t.child(n).cut(r):a}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],a=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)a+=r.child(o).nodeSize;return a}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return zt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),a=t.maybeChild(n);if(!r){let f=r;r=a,a=f}let o=r.marks;for(var c=0;c<o.length;c++)o[c].type.spec.inclusive===!1&&(!a||!o[c].isInSet(a.marks))&&(o=o[c--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,a=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!a||!r[o].isInSet(a.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new lo(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],a=0,o=n;for(let c=t;;){let{index:f,offset:d}=c.content.findIndex(o),m=o-d;if(r.push(c,f,a+d),!m||(c=c.child(f),c.isText))break;o=m-1,a+=d+1}return new fs(n,r,o)}static resolveCached(t,n){let r=Ag.get(t);if(r)for(let o=0;o<r.elts.length;o++){let c=r.elts[o];if(c.pos==n)return c}else Ag.set(t,r=new Hv);let a=r.elts[r.i]=fs.resolve(t,n);return r.i=(r.i+1)%Lv,a}}class Hv{constructor(){this.elts=[],this.i=0}}const Lv=12,Ag=new WeakMap;class lo{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Yv=Object.create(null);class un{constructor(t,n,r,a=zt.none){this.type=t,this.attrs=n,this.marks=a,this.content=r||L.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,a=0){this.content.nodesBetween(t,n,r,a,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,a){return this.content.textBetween(t,n,r,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&eo(this.attrs,n||t.defaultAttrs||Yv)&&zt.sameSet(this.marks,r||zt.none)}copy(t=null){return t==this.content?this:new un(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new un(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Q.empty;let a=this.resolve(t),o=this.resolve(n),c=r?0:a.sharedDepth(n),f=a.start(c),m=a.node(c).content.cut(a.pos-f,o.pos-f);return new Q(m,a.depth-c,o.depth-c)}replace(t,n,r){return jv(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:a}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(a==t||n.isText)return n;t-=a+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let a=this.content.child(n-1);return{node:a,index:n-1,offset:r-a.nodeSize}}resolve(t){return fs.resolveCached(this,t)}resolveNoCache(t){return fs.resolve(this,t)}rangeHasMark(t,n,r){let a=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),n0(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=L.empty,a=0,o=r.childCount){let c=this.contentMatchAt(t).matchFragment(r,a,o),f=c&&c.matchFragment(this.content,n);if(!f||!f.validEnd)return!1;for(let d=a;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(t,n,r,a){if(a&&!this.type.allowsMarks(a))return!1;let o=this.contentMatchAt(t).matchType(r),c=o&&o.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=zt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!zt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let a=L.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,a,r);return o.type.checkAttrs(o.attrs),o}}un.prototype.text=void 0;class ro extends un{constructor(t,n,r,a){if(super(t,n,null,a),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):n0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new ro(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new ro(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function n0(l,t){for(let n=l.length-1;n>=0;n--)t=l[n].type.name+"("+t+")";return t}class el{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Gv(t,n);if(r.next==null)return el.empty;let a=i0(r);r.next&&r.err("Unexpected trailing text");let o=Iv($v(a));return Fv(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let a=this;for(let o=n;a&&o<r;o++)a=a.matchType(t.child(o).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let a=[this];function o(c,f){let d=c.matchFragment(t,r);if(d&&(!n||d.validEnd))return L.from(f.map(m=>m.createAndFill()));for(let m=0;m<c.next.length;m++){let{type:g,next:y}=c.next[m];if(!(g.isText||g.hasRequiredAttrs())&&a.indexOf(y)==-1){a.push(y);let S=o(y,f.concat(g));if(S)return S}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let a=r.shift(),o=a.match;if(o.matchType(t)){let c=[];for(let f=a;f.type;f=f.via)c.push(f.type);return c.reverse()}for(let c=0;c<o.next.length;c++){let{type:f,next:d}=o.next[c];!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in n)&&(!a.type||d.validEnd)&&(r.push({match:f.contentMatch,type:f,via:a}),n[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let a=0;a<r.next.length;a++)t.indexOf(r.next[a].next)==-1&&n(r.next[a].next)}return n(this),t.map((r,a)=>{let o=a+(r.validEnd?"*":" ")+" ";for(let c=0;c<r.next.length;c++)o+=(c?", ":"")+r.next[c].type.name+"->"+t.indexOf(r.next[c].next);return o}).join(`
`)}}el.empty=new el(!0);class Gv{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function i0(l){let t=[];do t.push(Xv(l));while(l.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Xv(l){let t=[];do t.push(Jv(l));while(l.next&&l.next!=")"&&l.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Jv(l){let t=Zv(l);for(;;)if(l.eat("+"))t={type:"plus",expr:t};else if(l.eat("*"))t={type:"star",expr:t};else if(l.eat("?"))t={type:"opt",expr:t};else if(l.eat("{"))t=Kv(l,t);else break;return t}function Ng(l){/\D/.test(l.next)&&l.err("Expected number, got '"+l.next+"'");let t=Number(l.next);return l.pos++,t}function Kv(l,t){let n=Ng(l),r=n;return l.eat(",")&&(l.next!="}"?r=Ng(l):r=-1),l.eat("}")||l.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Qv(l,t){let n=l.nodeTypes,r=n[t];if(r)return[r];let a=[];for(let o in n){let c=n[o];c.isInGroup(t)&&a.push(c)}return a.length==0&&l.err("No node type or group '"+t+"' found"),a}function Zv(l){if(l.eat("(")){let t=i0(l);return l.eat(")")||l.err("Missing closing paren"),t}else if(/\W/.test(l.next))l.err("Unexpected token '"+l.next+"'");else{let t=Qv(l,l.next).map(n=>(l.inline==null?l.inline=n.isInline:l.inline!=n.isInline&&l.err("Mixing inline and block content"),{type:"name",value:n}));return l.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function $v(l){let t=[[]];return a(o(l,0),n()),t;function n(){return t.push([])-1}function r(c,f,d){let m={term:d,to:f};return t[c].push(m),m}function a(c,f){c.forEach(d=>d.to=f)}function o(c,f){if(c.type=="choice")return c.exprs.reduce((d,m)=>d.concat(o(m,f)),[]);if(c.type=="seq")for(let d=0;;d++){let m=o(c.exprs[d],f);if(d==c.exprs.length-1)return m;a(m,f=n())}else if(c.type=="star"){let d=n();return r(f,d),a(o(c.expr,d),d),[r(d)]}else if(c.type=="plus"){let d=n();return a(o(c.expr,f),d),a(o(c.expr,d),d),[r(d)]}else{if(c.type=="opt")return[r(f)].concat(o(c.expr,f));if(c.type=="range"){let d=f;for(let m=0;m<c.min;m++){let g=n();a(o(c.expr,d),g),d=g}if(c.max==-1)a(o(c.expr,d),d);else for(let m=c.min;m<c.max;m++){let g=n();r(d,g),a(o(c.expr,d),g),d=g}return[r(d)]}else{if(c.type=="name")return[r(f,void 0,c.value)];throw new Error("Unknown expr type")}}}}function l0(l,t){return t-l}function Dg(l,t){let n=[];return r(t),n.sort(l0);function r(a){let o=l[a];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(a);for(let c=0;c<o.length;c++){let{term:f,to:d}=o[c];!f&&n.indexOf(d)==-1&&r(d)}}}function Iv(l){let t=Object.create(null);return n(Dg(l,0));function n(r){let a=[];r.forEach(c=>{l[c].forEach(({term:f,to:d})=>{if(!f)return;let m;for(let g=0;g<a.length;g++)a[g][0]==f&&(m=a[g][1]);Dg(l,d).forEach(g=>{m||a.push([f,m=[]]),m.indexOf(g)==-1&&m.push(g)})})});let o=t[r.join(",")]=new el(r.indexOf(l.length-1)>-1);for(let c=0;c<a.length;c++){let f=a[c][1].sort(l0);o.next.push({type:a[c][0],next:t[f.join(",")]||n(f)})}return o}}function Fv(l,t){for(let n=0,r=[l];n<r.length;n++){let a=r[n],o=!a.validEnd,c=[];for(let f=0;f<a.next.length;f++){let{type:d,next:m}=a.next[f];c.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(m)==-1&&r.push(m)}o&&t.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function r0(l){let t=Object.create(null);for(let n in l){let r=l[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function s0(l,t){let n=Object.create(null);for(let r in l){let a=t&&t[r];if(a===void 0){let o=l[r];if(o.hasDefault)a=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=a}return n}function a0(l,t,n,r){for(let a in t)if(!(a in l))throw new RangeError(`Unsupported attribute ${a} for ${n} of type ${a}`);for(let a in l){let o=l[a];o.validate&&o.validate(t[a])}}function o0(l,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Pv(l,r,t[r]);return n}let kg=class u0{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=o0(t,r.attrs),this.defaultAttrs=r0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==el.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:s0(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new un(this,this.computeAttrs(t),L.from(n),zt.setFrom(r))}createChecked(t=null,n,r){return n=L.from(n),this.checkContent(n),new un(this,this.computeAttrs(t),n,zt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=L.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let a=this.contentMatch.matchFragment(n),o=a&&a.fillBefore(L.empty,!0);return o?new un(this,t,n.append(o),zt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){a0(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:zt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,c)=>r[o]=new u0(o,n,c));let a=n.spec.topNode||"doc";if(!r[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Wv(l,t,n){let r=n.split("|");return a=>{let o=a===null?"null":typeof a;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${l}, got ${o}`)}}class Pv{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Wv(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class yo{constructor(t,n,r,a){this.name=t,this.rank=n,this.schema=r,this.spec=a,this.attrs=o0(t,a.attrs),this.excluded=null;let o=r0(this.attrs);this.instance=o?new zt(this,o):null}create(t=null){return!t&&this.instance?this.instance:new zt(this,s0(this.attrs,t))}static compile(t,n){let r=Object.create(null),a=0;return t.forEach((o,c)=>r[o]=new yo(o,a++,n,c)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){a0(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class c0{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let a in t)n[a]=t[a];n.nodes=ue.from(t.nodes),n.marks=ue.from(t.marks||{}),this.nodes=kg.compile(this.spec.nodes,this),this.marks=yo.compile(this.spec.marks,this);let r=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let o=this.nodes[a],c=o.spec.content||"",f=o.spec.marks;if(o.contentMatch=r[c]||(r[c]=el.parse(c,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=f=="_"?null:f?zg(this,f.split(" ")):f==""||!o.inlineContent?[]:null}for(let a in this.marks){let o=this.marks[a],c=o.spec.excludes;o.excluded=c==null?[o]:c==""?[]:zg(this,c.split(" "))}this.nodeFromJSON=a=>un.fromJSON(this,a),this.markFromJSON=a=>zt.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,a){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof kg){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,a)}text(t,n){let r=this.nodes.text;return new ro(r,r.defaultAttrs,t,zt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function zg(l,t){let n=[];for(let r=0;r<t.length;r++){let a=t[r],o=l.marks[a],c=o;if(o)n.push(o);else for(let f in l.marks){let d=l.marks[f];(a=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(a)>-1)&&n.push(c=d)}if(!c)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function tE(l){return l.tag!=null}function eE(l){return l.style!=null}class Si{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(a=>{if(tE(a))this.tags.push(a);else if(eE(a)){let o=/[^=]*/.exec(a.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let o=t.nodes[a.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new Rg(this,n,!1);return r.addAll(t,zt.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new Rg(this,n,!0);return r.addAll(t,zt.none,n.from,n.to),Q.maxOpen(r.finish())}matchTag(t,n,r){for(let a=r?this.tags.indexOf(r)+1:0;a<this.tags.length;a++){let o=this.tags[a];if(lE(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let c=o.getAttrs(t);if(c===!1)continue;o.attrs=c||void 0}return o}}}matchStyle(t,n,r,a){for(let o=a?this.styles.indexOf(a)+1:0;o<this.styles.length;o++){let c=this.styles[o],f=c.style;if(!(f.indexOf(t)!=0||c.context&&!r.matchesContext(c.context)||f.length>t.length&&(f.charCodeAt(t.length)!=61||f.slice(t.length+1)!=n))){if(c.getAttrs){let d=c.getAttrs(n);if(d===!1)continue;c.attrs=d||void 0}return c}}}static schemaRules(t){let n=[];function r(a){let o=a.priority==null?50:a.priority,c=0;for(;c<n.length;c++){let f=n[c];if((f.priority==null?50:f.priority)<o)break}n.splice(c,0,a)}for(let a in t.marks){let o=t.marks[a].spec.parseDOM;o&&o.forEach(c=>{r(c=Bg(c)),c.mark||c.ignore||c.clearMark||(c.mark=a)})}for(let a in t.nodes){let o=t.nodes[a].spec.parseDOM;o&&o.forEach(c=>{r(c=Bg(c)),c.node||c.ignore||c.mark||(c.node=a)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Si(t,Si.schemaRules(t)))}}const f0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nE={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},d0={ol:!0,ul:!0},ds=1,Mf=2,as=4;function wg(l,t,n){return t!=null?(t?ds:0)|(t==="full"?Mf:0):l&&l.whitespace=="pre"?ds|Mf:n&~as}class Xa{constructor(t,n,r,a,o,c){this.type=t,this.attrs=n,this.marks=r,this.solid=a,this.options=c,this.content=[],this.activeMarks=zt.none,this.match=o||(c&as?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(L.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,a;return(a=r.findWrapping(t.type))?(this.match=r,a):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&ds)){let r=this.content[this.content.length-1],a;if(r&&r.isText&&(a=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-a[0].length))}}let n=L.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(L.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!f0.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class Rg{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let a=n.topNode,o,c=wg(null,n.preserveWhitespace,0)|(r?as:0);a?o=new Xa(a.type,a.attrs,zt.none,!0,n.topMatch||a.type.contentMatch,c):r?o=new Xa(null,null,zt.none,!0,null,c):o=new Xa(t.schema.topNodeType,null,zt.none,!0,null,c),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,a=this.top,o=a.options&Mf?"full":this.localPreserveWS||(a.options&ds)>0,{schema:c}=this.parser;if(o==="full"||a.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(c.linebreakReplacement.create())){let f=r.split(/\r?\n|\r/);for(let d=0;d<f.length;d++)d&&this.insertNode(c.linebreakReplacement.create(),n,!0),f[d]&&this.insertNode(c.text(f[d]),n,!/\S/.test(f[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let f=a.content[a.content.length-1],d=t.previousSibling;(!f||d&&d.nodeName=="BR"||f.isText&&/[ \t\r\n\u000c]$/.test(f.text))&&(r=r.slice(1))}r&&this.insertNode(c.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let a=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let c=t.nodeName.toLowerCase(),f;d0.hasOwnProperty(c)&&this.parser.normalizeLists&&iE(t);let d=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(f=this.parser.matchTag(t,this,r));t:if(d?d.ignore:nE.hasOwnProperty(c))this.findInside(t),this.ignoreFallback(t,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(t=d.skip);let m,g=this.needsBlock;if(f0.hasOwnProperty(c))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),m=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break t}let y=d&&d.skip?n:this.readStyles(t,n);y&&this.addAll(t,y),m&&this.sync(o),this.needsBlock=g}else{let m=this.readStyles(t,n);m&&this.addElementByRule(t,d,m,d.consuming===!1?f:void 0)}this.localPreserveWS=a}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let o=this.parser.matchedStyles[a],c=r.getPropertyValue(o);if(c)for(let f=void 0;;){let d=this.parser.matchStyle(o,c,this,f);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(m=>!d.clearMark(m)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)f=d;else break}}return n}addElementByRule(t,n,r,a){let o,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let d=this.enter(c,n.attrs||null,r,n.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let f=this.top;if(c&&c.isLeaf)this.findInside(t);else if(a)this.addElement(t,r,a);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=t;typeof n.contentElement=="string"?d=t.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(t):n.contentElement&&(d=n.contentElement),this.findAround(t,d,!0),this.addAll(d,r),this.findAround(t,d,!1)}o&&this.sync(f)&&this.open--}addAll(t,n,r,a){let o=r||0;for(let c=r?t.childNodes[r]:t.firstChild,f=a==null?null:t.childNodes[a];c!=f;c=c.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(c,n);this.findAtPoint(t,o)}findPlace(t,n,r){let a,o;for(let c=this.open,f=0;c>=0;c--){let d=this.nodes[c],m=d.findWrapping(t);if(m&&(!a||a.length>m.length+f)&&(a=m,o=d,!m.length))break;if(d.solid){if(r)break;f+=2}}if(!a)return null;this.sync(o);for(let c=0;c<a.length;c++)n=this.enterInner(a[c],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let a=this.findPlace(t,n,r);if(a){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let c=zt.none;for(let f of a.concat(t.marks))(o.type?o.type.allowsMarkType(f.type):_g(f.type,t.type))&&(c=f.addToSet(c));return o.content.push(t.mark(c)),!0}return!1}enter(t,n,r,a){let o=this.findPlace(t.create(n),r,!1);return o&&(o=this.enterInner(t,n,r,!0,a)),o}enterInner(t,n,r,a=!1,o){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(t);let f=wg(t,o,c.options);c.options&as&&c.content.length==0&&(f|=as);let d=zt.none;return r=r.filter(m=>(c.type?c.type.allowsMarkType(m.type):_g(m.type,t))?(d=m.addToSet(d),!1):!0),this.nodes.push(new Xa(t,n,d,a,null,f)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ds)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let a=r.length-1;a>=0;a--)t+=r[a].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&t.nodeType==1&&t.contains(this.find[a].node)&&n.compareDocumentPosition(this.find[a].node)&(r?2:4)&&(this.find[a].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,a=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(a?0:1),c=(f,d)=>{for(;f>=0;f--){let m=n[f];if(m==""){if(f==n.length-1||f==0)continue;for(;d>=o;d--)if(c(f-1,d))return!0;return!1}else{let g=d>0||d==0&&a?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!g||g.name!=m&&!g.isInGroup(m))return!1;d--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function iE(l){for(let t=l.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&d0.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function lE(l,t){return(l.matches||l.msMatchesSelector||l.webkitMatchesSelector||l.mozMatchesSelector).call(l,t)}function Bg(l){let t={};for(let n in l)t[n]=l[n];return t}function _g(l,t){let n=t.schema.nodes;for(let r in n){let a=n[r];if(!a.allowsMarkType(l))continue;let o=[],c=f=>{o.push(f);for(let d=0;d<f.edgeCount;d++){let{type:m,next:g}=f.edge(d);if(m==t||o.indexOf(g)<0&&c(g))return!0}};if(c(a.contentMatch))return!0}}class rl{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=ef(n).createDocumentFragment());let a=r,o=[];return t.forEach(c=>{if(o.length||c.marks.length){let f=0,d=0;for(;f<o.length&&d<c.marks.length;){let m=c.marks[d];if(!this.marks[m.type.name]){d++;continue}if(!m.eq(o[f][0])||m.type.spec.spanning===!1)break;f++,d++}for(;f<o.length;)a=o.pop()[1];for(;d<c.marks.length;){let m=c.marks[d++],g=this.serializeMark(m,c.isInline,n);g&&(o.push([m,a]),a.appendChild(g.dom),a=g.contentDOM||g.dom)}}a.appendChild(this.serializeNodeInner(c,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:a}=Wa(ef(n),this.nodes[t.type.name](t),null,t.attrs);if(a){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,a)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let a=t.marks.length-1;a>=0;a--){let o=this.serializeMark(t.marks[a],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let a=this.marks[t.type.name];return a&&Wa(ef(r),a(t,n),null,t.attrs)}static renderSpec(t,n,r=null,a){return Wa(t,n,r,a)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new rl(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=Ug(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return Ug(t.marks)}}function Ug(l){let t={};for(let n in l){let r=l[n].spec.toDOM;r&&(t[n]=r)}return t}function ef(l){return l.document||window.document}const Vg=new WeakMap;function rE(l){let t=Vg.get(l);return t===void 0&&Vg.set(l,t=sE(l)),t}function sE(l){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let a=0;a<r.length;a++)n(r[a]);else for(let a in r)n(r[a])}return n(l),t}function Wa(l,t,n,r){if(typeof t=="string")return{dom:l.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let a=t[0],o;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=rE(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=a.indexOf(" ");c>0&&(n=a.slice(0,c),a=a.slice(c+1));let f,d=n?l.createElementNS(n,a):l.createElement(a),m=t[1],g=1;if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){g=2;for(let y in m)if(m[y]!=null){let S=y.indexOf(" ");S>0?d.setAttributeNS(y.slice(0,S),y.slice(S+1),m[y]):y=="style"&&d.style?d.style.cssText=m[y]:d.setAttribute(y,m[y])}}for(let y=g;y<t.length;y++){let S=t[y];if(S===0){if(y<t.length-1||y>g)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:E}=Wa(l,S,n,r);if(d.appendChild(v),E){if(f)throw new RangeError("Multiple content holes");f=E}}}return{dom:d,contentDOM:f}}const h0=65535,p0=Math.pow(2,16);function aE(l,t){return l+t*p0}function jg(l){return l&h0}function oE(l){return(l-(l&h0))/p0}const m0=1,g0=2,Pa=4,y0=8;class Tf{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&y0)>0}get deletedBefore(){return(this.delInfo&(m0|Pa))>0}get deletedAfter(){return(this.delInfo&(g0|Pa))>0}get deletedAcross(){return(this.delInfo&Pa)>0}}class Le{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Le.empty)return Le.empty}recover(t){let n=0,r=jg(t);if(!this.inverted)for(let a=0;a<r;a++)n+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[r*3]+n+oE(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let a=0,o=this.inverted?2:1,c=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?a:0);if(d>t)break;let m=this.ranges[f+o],g=this.ranges[f+c],y=d+m;if(t<=y){let S=m?t==d?-1:t==y?1:n:n,v=d+a+(S<0?0:g);if(r)return v;let E=t==(n<0?d:y)?null:aE(f/3,t-d),M=t==d?g0:t==y?m0:Pa;return(n<0?t!=d:t!=y)&&(M|=y0),new Tf(v,M,E)}a+=g-m}return r?t+a:new Tf(t+a,0,null)}touches(t,n){let r=0,a=jg(n),o=this.inverted?2:1,c=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?r:0);if(d>t)break;let m=this.ranges[f+o],g=d+m;if(t<=g&&f==a*3)return!0;r+=this.ranges[f+c]-m}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let a=0,o=0;a<this.ranges.length;a+=3){let c=this.ranges[a],f=c-(this.inverted?o:0),d=c+(this.inverted?0:o),m=this.ranges[a+n],g=this.ranges[a+r];t(f,f+m,d,d+g),o+=g-m}}invert(){return new Le(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Le.empty:new Le(t<0?[0,-t,0]:[0,0,t])}}Le.empty=new Le([]);class so{constructor(t,n,r=0,a=t?t.length:0){this.mirror=n,this.from=r,this.to=a,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new so(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let a=t.getMirror(n);this.appendMap(t._maps[n],a!=null&&a<n?r+a:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let a=t.getMirror(n);this.appendMap(t._maps[n].invert(),a!=null&&a>n?r-a-1:void 0)}}invert(){let t=new so;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let a=0;for(let o=this.from;o<this.to;o++){let c=this._maps[o],f=c.mapResult(t,n);if(f.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,t=this._maps[d].recover(f.recover);continue}}a|=f.delInfo,t=f.pos}return r?t:new Tf(t,a,null)}}const nf=Object.create(null);class ge{getMap(){return Le.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=nf[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in nf)throw new RangeError("Duplicate use of step JSON ID "+t);return nf[t]=n,n.prototype.jsonID=t,n}}class Qt{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Qt(t,null)}static fail(t){return new Qt(null,t)}static fromReplace(t,n,r,a){try{return Qt.ok(t.replace(n,r,a))}catch(o){if(o instanceof no)return Qt.fail(o.message);throw o}}}function Lf(l,t,n){let r=[];for(let a=0;a<l.childCount;a++){let o=l.child(a);o.content.size&&(o=o.copy(Lf(o.content,t,o))),o.isInline&&(o=t(o,n,a)),r.push(o)}return L.fromArray(r)}class gi extends ge{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),a=r.node(r.sharedDepth(this.to)),o=new Q(Lf(n.content,(c,f)=>!c.isAtom||!f.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),a),n.openStart,n.openEnd);return Qt.fromReplace(t,this.from,this.to,o)}invert(){return new an(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new gi(n.pos,r.pos,this.mark)}merge(t){return t instanceof gi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new gi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new gi(n.from,n.to,t.markFromJSON(n.mark))}}ge.jsonID("addMark",gi);class an extends ge{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Q(Lf(n.content,a=>a.mark(this.mark.removeFromSet(a.marks)),t),n.openStart,n.openEnd);return Qt.fromReplace(t,this.from,this.to,r)}invert(){return new gi(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new an(n.pos,r.pos,this.mark)}merge(t){return t instanceof an&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new an(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new an(n.from,n.to,t.markFromJSON(n.mark))}}ge.jsonID("removeMark",an);class yi extends ge{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Qt.fromReplace(t,this.pos,this.pos+1,new Q(L.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let a=0;a<n.marks.length;a++)if(!n.marks[a].isInSet(r))return new yi(this.pos,n.marks[a]);return new yi(this.pos,this.mark)}}return new nl(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new yi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new yi(n.pos,t.markFromJSON(n.mark))}}ge.jsonID("addNodeMark",yi);class nl extends ge{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Qt.fromReplace(t,this.pos,this.pos+1,new Q(L.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new yi(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new nl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new nl(n.pos,t.markFromJSON(n.mark))}}ge.jsonID("removeNodeMark",nl);class te extends ge{constructor(t,n,r,a=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=a}apply(t){return this.structure&&Cf(t,this.from,this.to)?Qt.fail("Structure replace would overwrite content"):Qt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Le([this.from,this.to-this.from,this.slice.size])}invert(t){return new te(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new te(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof te)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Q.empty:new Q(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new te(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Q.empty:new Q(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new te(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new te(n.from,n.to,Q.fromJSON(t,n.slice),!!n.structure)}}ge.jsonID("replace",te);class ne extends ge{constructor(t,n,r,a,o,c,f=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=a,this.slice=o,this.insert=c,this.structure=f}apply(t){if(this.structure&&(Cf(t,this.from,this.gapFrom)||Cf(t,this.gapTo,this.to)))return Qt.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Qt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Qt.fromReplace(t,this.from,this.to,r):Qt.fail("Content does not fit in gap")}getMap(){return new Le([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new ne(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),a=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||a<n.pos||o>r.pos?null:new ne(n.pos,r.pos,a,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ne(n.from,n.to,n.gapFrom,n.gapTo,Q.fromJSON(t,n.slice),n.insert,!!n.structure)}}ge.jsonID("replaceAround",ne);function Cf(l,t,n){let r=l.resolve(t),a=n-t,o=r.depth;for(;a>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,a--;if(a>0){let c=r.node(o).maybeChild(r.indexAfter(o));for(;a>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,a--}}return!1}function uE(l,t,n,r){let a=[],o=[],c,f;l.doc.nodesBetween(t,n,(d,m,g)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&g.type.allowsMarkType(r.type)){let S=Math.max(m,t),v=Math.min(m+d.nodeSize,n),E=r.addToSet(y);for(let M=0;M<y.length;M++)y[M].isInSet(E)||(c&&c.to==S&&c.mark.eq(y[M])?c.to=v:a.push(c=new an(S,v,y[M])));f&&f.to==S?f.to=v:o.push(f=new gi(S,v,r))}}),a.forEach(d=>l.step(d)),o.forEach(d=>l.step(d))}function cE(l,t,n,r){let a=[],o=0;l.doc.nodesBetween(t,n,(c,f)=>{if(!c.isInline)return;o++;let d=null;if(r instanceof yo){let m=c.marks,g;for(;g=r.isInSet(m);)(d||(d=[])).push(g),m=g.removeFromSet(m)}else r?r.isInSet(c.marks)&&(d=[r]):d=c.marks;if(d&&d.length){let m=Math.min(f+c.nodeSize,n);for(let g=0;g<d.length;g++){let y=d[g],S;for(let v=0;v<a.length;v++){let E=a[v];E.step==o-1&&y.eq(a[v].style)&&(S=E)}S?(S.to=m,S.step=o):a.push({style:y,from:Math.max(f,t),to:m,step:o})}}}),a.forEach(c=>l.step(new an(c.from,c.to,c.style)))}function Yf(l,t,n,r=n.contentMatch,a=!0){let o=l.doc.nodeAt(t),c=[],f=t+1;for(let d=0;d<o.childCount;d++){let m=o.child(d),g=f+m.nodeSize,y=r.matchType(m.type);if(!y)c.push(new te(f,g,Q.empty));else{r=y;for(let S=0;S<m.marks.length;S++)n.allowsMarkType(m.marks[S].type)||l.step(new an(f,g,m.marks[S]));if(a&&m.isText&&n.whitespace!="pre"){let S,v=/\r?\n|\r/g,E;for(;S=v.exec(m.text);)E||(E=new Q(L.from(n.schema.text(" ",n.allowedMarks(m.marks))),0,0)),c.push(new te(f+S.index,f+S.index+S[0].length,E))}}f=g}if(!r.validEnd){let d=r.fillBefore(L.empty,!0);l.replace(f,f,new Q(d,0,0))}for(let d=c.length-1;d>=0;d--)l.step(c[d])}function fE(l,t,n){return(t==0||l.canReplace(t,l.childCount))&&(n==l.childCount||l.canReplace(0,n))}function lr(l){let n=l.parent.content.cutByIndex(l.startIndex,l.endIndex);for(let r=l.depth,a=0,o=0;;--r){let c=l.$from.node(r),f=l.$from.index(r)+a,d=l.$to.indexAfter(r)-o;if(r<l.depth&&c.canReplace(f,d,n))return r;if(r==0||c.type.spec.isolating||!fE(c,f,d))break;f&&(a=1),d<c.childCount&&(o=1)}return null}function dE(l,t,n){let{$from:r,$to:a,depth:o}=t,c=r.before(o+1),f=a.after(o+1),d=c,m=f,g=L.empty,y=0;for(let E=o,M=!1;E>n;E--)M||r.index(E)>0?(M=!0,g=L.from(r.node(E).copy(g)),y++):d--;let S=L.empty,v=0;for(let E=o,M=!1;E>n;E--)M||a.after(E+1)<a.end(E)?(M=!0,S=L.from(a.node(E).copy(S)),v++):m++;l.step(new ne(d,m,c,f,new Q(g.append(S),y,v),g.size-y,!0))}function b0(l,t,n=null,r=l){let a=hE(l,t),o=a&&pE(r,t);return o?a.map(qg).concat({type:t,attrs:n}).concat(o.map(qg)):null}function qg(l){return{type:l,attrs:null}}function hE(l,t){let{parent:n,startIndex:r,endIndex:a}=l,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let c=o.length?o[0]:t;return n.canReplaceWith(r,a,c)?o:null}function pE(l,t){let{parent:n,startIndex:r,endIndex:a}=l,o=n.child(r),c=t.contentMatch.findWrapping(o.type);if(!c)return null;let d=(c.length?c[c.length-1]:t).contentMatch;for(let m=r;d&&m<a;m++)d=d.matchType(n.child(m).type);return!d||!d.validEnd?null:c}function mE(l,t,n){let r=L.empty;for(let c=n.length-1;c>=0;c--){if(r.size){let f=n[c].type.contentMatch.matchFragment(r);if(!f||!f.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=L.from(n[c].type.create(n[c].attrs,r))}let a=t.start,o=t.end;l.step(new ne(a,o,a,o,new Q(r,0,0),n.length,!0))}function gE(l,t,n,r,a){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=l.steps.length;l.doc.nodesBetween(t,n,(c,f)=>{let d=typeof a=="function"?a(c):a;if(c.isTextblock&&!c.hasMarkup(r,d)&&yE(l.doc,l.mapping.slice(o).map(f),r)){let m=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",E=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!E?m=!1:!v&&E&&(m=!0)}m===!1&&v0(l,c,f,o),Yf(l,l.mapping.slice(o).map(f,1),r,void 0,m===null);let g=l.mapping.slice(o),y=g.map(f,1),S=g.map(f+c.nodeSize,1);return l.step(new ne(y,S,y+1,S-1,new Q(L.from(r.create(d,null,c.marks)),0,0),1,!0)),m===!0&&S0(l,c,f,o),!1}})}function S0(l,t,n,r){t.forEach((a,o)=>{if(a.isText){let c,f=/\r?\n|\r/g;for(;c=f.exec(a.text);){let d=l.mapping.slice(r).map(n+1+o+c.index);l.replaceWith(d,d+1,t.type.schema.linebreakReplacement.create())}}})}function v0(l,t,n,r){t.forEach((a,o)=>{if(a.type==a.type.schema.linebreakReplacement){let c=l.mapping.slice(r).map(n+1+o);l.replaceWith(c,c+1,t.type.schema.text(`
`))}})}function yE(l,t,n){let r=l.resolve(t),a=r.index();return r.parent.canReplaceWith(a,a+1,n)}function bE(l,t,n,r,a){let o=l.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let c=n.create(r,null,a||o.marks);if(o.isLeaf)return l.replaceWith(t,t+o.nodeSize,c);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);l.step(new ne(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new Q(L.from(c),0,0),1,!0))}function qn(l,t,n=1,r){let a=l.resolve(t),o=a.depth-n,c=r&&r[r.length-1]||a.parent;if(o<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!c.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let m=a.depth-1,g=n-2;m>o;m--,g--){let y=a.node(m),S=a.index(m);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(S,y.childCount),E=r&&r[g+1];E&&(v=v.replaceChild(0,E.type.create(E.attrs)));let M=r&&r[g]||y;if(!y.canReplace(S+1,y.childCount)||!M.type.validContent(v))return!1}let f=a.indexAfter(o),d=r&&r[0];return a.node(o).canReplaceWith(f,f,d?d.type:a.node(o+1).type)}function SE(l,t,n=1,r){let a=l.doc.resolve(t),o=L.empty,c=L.empty;for(let f=a.depth,d=a.depth-n,m=n-1;f>d;f--,m--){o=L.from(a.node(f).copy(o));let g=r&&r[m];c=L.from(g?g.type.create(g.attrs,c):a.node(f).copy(c))}l.step(new te(t,t,new Q(o.append(c),n,n),!0))}function sl(l,t){let n=l.resolve(t),r=n.index();return E0(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function vE(l,t){t.content.size||l.type.compatibleContent(t.type);let n=l.contentMatchAt(l.childCount),{linebreakReplacement:r}=l.type.schema;for(let a=0;a<t.childCount;a++){let o=t.child(a),c=o.type==r?l.type.schema.nodes.text:o.type;if(n=n.matchType(c),!n||!l.type.allowsMarks(o.marks))return!1}return n.validEnd}function E0(l,t){return!!(l&&t&&!l.isLeaf&&vE(l,t))}function bo(l,t,n=-1){let r=l.resolve(t);for(let a=r.depth;;a--){let o,c,f=r.index(a);if(a==r.depth?(o=r.nodeBefore,c=r.nodeAfter):n>0?(o=r.node(a+1),f++,c=r.node(a).maybeChild(f)):(o=r.node(a).maybeChild(f-1),c=r.node(a+1)),o&&!o.isTextblock&&E0(o,c)&&r.node(a).canReplace(f,f+1))return t;if(a==0)break;t=n<0?r.before(a):r.after(a)}}function EE(l,t,n){let r=null,{linebreakReplacement:a}=l.doc.type.schema,o=l.doc.resolve(t-n),c=o.node().type;if(a&&c.inlineContent){let g=c.whitespace=="pre",y=!!c.contentMatch.matchType(a);g&&!y?r=!1:!g&&y&&(r=!0)}let f=l.steps.length;if(r===!1){let g=l.doc.resolve(t+n);v0(l,g.node(),g.before(),f)}c.inlineContent&&Yf(l,t+n-1,c,o.node().contentMatchAt(o.index()),r==null);let d=l.mapping.slice(f),m=d.map(t-n);if(l.step(new te(m,d.map(t+n,-1),Q.empty,!0)),r===!0){let g=l.doc.resolve(m);S0(l,g.node(),g.before(),l.steps.length)}return l}function xE(l,t,n){let r=l.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let a=r.depth-1;a>=0;a--){let o=r.index(a);if(r.node(a).canReplaceWith(o,o,n))return r.before(a+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let a=r.depth-1;a>=0;a--){let o=r.indexAfter(a);if(r.node(a).canReplaceWith(o,o,n))return r.after(a+1);if(o<r.node(a).childCount)return null}return null}function ME(l,t,n){let r=l.resolve(t);if(!n.content.size)return t;let a=n.content;for(let o=0;o<n.openStart;o++)a=a.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let c=r.depth;c>=0;c--){let f=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,d=r.index(c)+(f>0?1:0),m=r.node(c),g=!1;if(o==1)g=m.canReplace(d,d,a);else{let y=m.contentMatchAt(d).findWrapping(a.firstChild.type);g=y&&m.canReplaceWith(d,d,y[0])}if(g)return f==0?r.pos:f<0?r.before(c+1):r.after(c+1)}return null}function So(l,t,n=t,r=Q.empty){if(t==n&&!r.size)return null;let a=l.resolve(t),o=l.resolve(n);return x0(a,o,r)?new te(t,n,r):new TE(a,o,r).fit()}function x0(l,t,n){return!n.openStart&&!n.openEnd&&l.start()==t.start()&&l.parent.canReplace(l.index(),t.index(),n.content)}class TE{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=L.empty;for(let a=0;a<=t.depth;a++){let o=t.node(a);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(a))})}for(let a=t.depth;a>0;a--)this.placed=L.from(t.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let m=this.findFittable();m?this.placeNodes(m):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,a=this.close(t<0?this.$to:r.doc.resolve(t));if(!a)return null;let o=this.placed,c=r.depth,f=a.depth;for(;c&&f&&o.childCount==1;)o=o.firstChild.content,c--,f--;let d=new Q(o,c,f);return t>-1?new ne(r.pos,t,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new te(r.pos,a.pos,d):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,a=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(a=0),o.type.spec.isolating&&a<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let a,o=null;r?(o=lf(this.unplaced.content,r-1).firstChild,a=o.content):a=this.unplaced.content;let c=a.firstChild;for(let f=this.depth;f>=0;f--){let{type:d,match:m}=this.frontier[f],g,y=null;if(n==1&&(c?m.matchType(c.type)||(y=m.fillBefore(L.from(c),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:f,parent:o,inject:y};if(n==2&&c&&(g=m.findWrapping(c.type)))return{sliceDepth:r,frontierDepth:f,parent:o,wrap:g};if(o&&m.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,a=lf(t,n);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new Q(t,n+1,Math.max(r,a.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,a=lf(t,n);if(a.childCount<=1&&n>0){let o=t.size-n<=n+a.size;this.unplaced=new Q(ns(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Q(ns(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:a,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let M=0;M<o.length;M++)this.openFrontierNode(o[M]);let c=this.unplaced,f=r?r.content:c.content,d=c.openStart-t,m=0,g=[],{match:y,type:S}=this.frontier[n];if(a){for(let M=0;M<a.childCount;M++)g.push(a.child(M));y=y.matchFragment(a)}let v=f.size+t-(c.content.size-c.openEnd);for(;m<f.childCount;){let M=f.child(m),T=y.matchType(M.type);if(!T)break;m++,(m>1||d==0||M.content.size)&&(y=T,g.push(M0(M.mark(S.allowedMarks(M.marks)),m==1?d:0,m==f.childCount?v:-1)))}let E=m==f.childCount;E||(v=-1),this.placed=is(this.placed,n,L.from(g)),this.frontier[n].match=y,E&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let M=0,T=f;M<v;M++){let N=T.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),T=N.content}this.unplaced=E?t==0?Q.empty:new Q(ns(c.content,t-1,1),t-1,v<0?c.openEnd:t-1):new Q(ns(c.content,t,m),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!rf(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,a=this.$to.after(r);for(;r>1&&a==this.$to.end(--r);)++a;return a}findCloseLevel(t){t:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:a}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),c=rf(t,n,a,r,o);if(c){for(let f=n-1;f>=0;f--){let{match:d,type:m}=this.frontier[f],g=rf(t,f,m,d,!0);if(!g||g.childCount)continue t}return{depth:n,fit:c,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=is(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let a=t.node(r),o=a.type.contentMatch.fillBefore(a.content,!0,t.index(r));this.openFrontierNode(a.type,a.attrs,o)}return t}openFrontierNode(t,n=null,r){let a=this.frontier[this.depth];a.match=a.match.matchType(t),this.placed=is(this.placed,this.depth,L.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(L.empty,!0);n.childCount&&(this.placed=is(this.placed,this.frontier.length,n))}}function ns(l,t,n){return t==0?l.cutByIndex(n,l.childCount):l.replaceChild(0,l.firstChild.copy(ns(l.firstChild.content,t-1,n)))}function is(l,t,n){return t==0?l.append(n):l.replaceChild(l.childCount-1,l.lastChild.copy(is(l.lastChild.content,t-1,n)))}function lf(l,t){for(let n=0;n<t;n++)l=l.firstChild.content;return l}function M0(l,t,n){if(t<=0)return l;let r=l.content;return t>1&&(r=r.replaceChild(0,M0(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=l.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(l.type.contentMatch.matchFragment(r).fillBefore(L.empty,!0)))),l.copy(r)}function rf(l,t,n,r,a){let o=l.node(t),c=a?l.indexAfter(t):l.index(t);if(c==o.childCount&&!n.compatibleContent(o.type))return null;let f=r.fillBefore(o.content,!0,c);return f&&!CE(n,o.content,c)?f:null}function CE(l,t,n){for(let r=n;r<t.childCount;r++)if(!l.allowsMarks(t.child(r).marks))return!0;return!1}function OE(l){return l.spec.defining||l.spec.definingForContent}function AE(l,t,n,r){if(!r.size)return l.deleteRange(t,n);let a=l.doc.resolve(t),o=l.doc.resolve(n);if(x0(a,o,r))return l.step(new te(t,n,r));let c=C0(a,o);c[c.length-1]==0&&c.pop();let f=-(a.depth+1);c.unshift(f);for(let S=a.depth,v=a.pos-1;S>0;S--,v--){let E=a.node(S).type.spec;if(E.defining||E.definingAsContext||E.isolating)break;c.indexOf(S)>-1?f=S:a.before(S)==v&&c.splice(1,0,-S)}let d=c.indexOf(f),m=[],g=r.openStart;for(let S=r.content,v=0;;v++){let E=S.firstChild;if(m.push(E),v==r.openStart)break;S=E.content}for(let S=g-1;S>=0;S--){let v=m[S],E=OE(v.type);if(E&&!v.sameMarkup(a.node(Math.abs(f)-1)))g=S;else if(E||!v.type.isTextblock)break}for(let S=r.openStart;S>=0;S--){let v=(S+g+1)%(r.openStart+1),E=m[v];if(E)for(let M=0;M<c.length;M++){let T=c[(M+d)%c.length],N=!0;T<0&&(N=!1,T=-T);let H=a.node(T-1),Y=a.index(T-1);if(H.canReplaceWith(Y,Y,E.type,E.marks))return l.replace(a.before(T),N?o.after(T):n,new Q(T0(r.content,0,r.openStart,v),v,r.openEnd))}}let y=l.steps.length;for(let S=c.length-1;S>=0&&(l.replace(t,n,r),!(l.steps.length>y));S--){let v=c[S];v<0||(t=a.before(v),n=o.after(v))}}function T0(l,t,n,r,a){if(t<n){let o=l.firstChild;l=l.replaceChild(0,o.copy(T0(o.content,t+1,n,r,o)))}if(t>r){let o=a.contentMatchAt(0),c=o.fillBefore(l).append(l);l=c.append(o.matchFragment(c).fillBefore(L.empty,!0))}return l}function NE(l,t,n,r){if(!r.isInline&&t==n&&l.doc.resolve(t).parent.content.size){let a=xE(l.doc,t,r.type);a!=null&&(t=n=a)}l.replaceRange(t,n,new Q(L.from(r),0,0))}function DE(l,t,n){let r=l.doc.resolve(t),a=l.doc.resolve(n),o=C0(r,a);for(let c=0;c<o.length;c++){let f=o[c],d=c==o.length-1;if(d&&f==0||r.node(f).type.contentMatch.validEnd)return l.delete(r.start(f),a.end(f));if(f>0&&(d||r.node(f-1).canReplace(r.index(f-1),a.indexAfter(f-1))))return l.delete(r.before(f),a.after(f))}for(let c=1;c<=r.depth&&c<=a.depth;c++)if(t-r.start(c)==r.depth-c&&n>r.end(c)&&a.end(c)-n!=a.depth-c&&r.start(c-1)==a.start(c-1)&&r.node(c-1).canReplace(r.index(c-1),a.index(c-1)))return l.delete(r.before(c),n);l.delete(t,n)}function C0(l,t){let n=[],r=Math.min(l.depth,t.depth);for(let a=r;a>=0;a--){let o=l.start(a);if(o<l.pos-(l.depth-a)||t.end(a)>t.pos+(t.depth-a)||l.node(a).type.spec.isolating||t.node(a).type.spec.isolating)break;(o==t.start(a)||a==l.depth&&a==t.depth&&l.parent.inlineContent&&t.parent.inlineContent&&a&&t.start(a-1)==o-1)&&n.push(a)}return n}class Fl extends ge{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Qt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let a=n.type.create(r,null,n.marks);return Qt.fromReplace(t,this.pos,this.pos+1,new Q(L.from(a),0,n.isLeaf?0:1))}getMap(){return Le.empty}invert(t){return new Fl(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Fl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Fl(n.pos,n.attr,n.value)}}ge.jsonID("attr",Fl);class hs extends ge{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Qt.ok(r)}getMap(){return Le.empty}invert(t){return new hs(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hs(n.attr,n.value)}}ge.jsonID("docAttr",hs);let Pl=class extends Error{};Pl=function l(t){let n=Error.call(this,t);return n.__proto__=l.prototype,n};Pl.prototype=Object.create(Error.prototype);Pl.prototype.constructor=Pl;Pl.prototype.name="TransformError";class O0{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new so}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Pl(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let t=1e9,n=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let a=this.mapping.maps[r];r&&(t=a.map(t,1),n=a.map(n,-1)),a.forEach((o,c,f,d)=>{t=Math.min(t,f),n=Math.max(n,d)})}return t==1e9?null:{from:t,to:n}}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Q.empty){let a=So(this.doc,t,n,r);return a&&this.step(a),this}replaceWith(t,n,r){return this.replace(t,n,new Q(L.from(r),0,0))}delete(t,n){return this.replace(t,n,Q.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return AE(this,t,n,r),this}replaceRangeWith(t,n,r){return NE(this,t,n,r),this}deleteRange(t,n){return DE(this,t,n),this}lift(t,n){return dE(this,t,n),this}join(t,n=1){return EE(this,t,n),this}wrap(t,n){return mE(this,t,n),this}setBlockType(t,n=t,r,a=null){return gE(this,t,n,r,a),this}setNodeMarkup(t,n,r=null,a){return bE(this,t,n,r,a),this}setNodeAttribute(t,n,r){return this.step(new Fl(t,n,r)),this}setDocAttribute(t,n){return this.step(new hs(t,n)),this}addNodeMark(t,n){return this.step(new yi(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof zt)n.isInSet(r.marks)&&this.step(new nl(t,n));else{let a=r.marks,o,c=[];for(;o=n.isInSet(a);)c.push(new nl(t,o)),a=o.removeFromSet(a);for(let f=c.length-1;f>=0;f--)this.step(c[f])}return this}split(t,n=1,r){return SE(this,t,n,r),this}addMark(t,n,r){return uE(this,t,n,r),this}removeMark(t,n,r){return cE(this,t,n,r),this}clearIncompatible(t,n,r){return Yf(this,t,n,r),this}}const sf=Object.create(null);class yt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new kE(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Q.empty){let r=n.content.lastChild,a=null;for(let f=0;f<n.openEnd;f++)a=r,r=r.lastChild;let o=t.steps.length,c=this.ranges;for(let f=0;f<c.length;f++){let{$from:d,$to:m}=c[f],g=t.mapping.slice(o);t.replaceRange(g.map(d.pos),g.map(m.pos),f?Q.empty:n),f==0&&Yg(t,o,(r?r.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:c,$to:f}=a[o],d=t.mapping.slice(r),m=d.map(c.pos),g=d.map(f.pos);o?t.deleteRange(m,g):(t.replaceRangeWith(m,g,n),Yg(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let a=t.parent.inlineContent?new ct(t):Zl(t.node(0),t.parent,t.pos,t.index(),n,r);if(a)return a;for(let o=t.depth-1;o>=0;o--){let c=n<0?Zl(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):Zl(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(c)return c}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Ye(t.node(0))}static atStart(t){return Zl(t,t,0,0,1)||new Ye(t)}static atEnd(t){return Zl(t,t,t.content.size,t.childCount,-1)||new Ye(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=sf[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in sf)throw new RangeError("Duplicate use of selection JSON ID "+t);return sf[t]=n,n.prototype.jsonID=t,n}getBookmark(){return ct.between(this.$anchor,this.$head).getBookmark()}}yt.prototype.visible=!0;class kE{constructor(t,n){this.$from=t,this.$to=n}}let Hg=!1;function Lg(l){!Hg&&!l.parent.inlineContent&&(Hg=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+l.parent.type.name+")"))}class ct extends yt{constructor(t,n=t){Lg(t),Lg(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return yt.near(r);let a=t.resolve(n.map(this.anchor));return new ct(a.parent.inlineContent?a:r,r)}replace(t,n=Q.empty){if(super.replace(t,n),n==Q.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof ct&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new vo(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ct(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let a=t.resolve(n);return new this(a,r==n?a:t.resolve(r))}static between(t,n,r){let a=t.pos-n.pos;if((!r||a)&&(r=a>=0?1:-1),!n.parent.inlineContent){let o=yt.findFrom(n,r,!0)||yt.findFrom(n,-r,!0);if(o)n=o.$head;else return yt.near(n,r)}return t.parent.inlineContent||(a==0?t=n:(t=(yt.findFrom(t,-r,!0)||yt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=a<0&&(t=n))),new ct(t,n)}}yt.jsonID("text",ct);class vo{constructor(t,n){this.anchor=t,this.head=n}map(t){return new vo(t.map(this.anchor),t.map(this.head))}resolve(t){return ct.between(t.resolve(this.anchor),t.resolve(this.head))}}class nt extends yt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:a}=n.mapResult(this.anchor),o=t.resolve(a);return r?yt.near(o):new nt(o)}content(){return new Q(L.from(this.node),0,0)}eq(t){return t instanceof nt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Gf(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new nt(t.resolve(n.anchor))}static create(t,n){return new nt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}nt.prototype.visible=!1;yt.jsonID("node",nt);class Gf{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new vo(r,r):new Gf(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&nt.isSelectable(r)?new nt(n):yt.near(n)}}class Ye extends yt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Q.empty){if(n==Q.empty){t.delete(0,t.doc.content.size);let r=yt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Ye(t)}map(t){return new Ye(t)}eq(t){return t instanceof Ye}getBookmark(){return zE}}yt.jsonID("all",Ye);const zE={map(){return this},resolve(l){return new Ye(l)}};function Zl(l,t,n,r,a,o=!1){if(t.inlineContent)return ct.create(l,n);for(let c=r-(a>0?0:1);a>0?c<t.childCount:c>=0;c+=a){let f=t.child(c);if(f.isAtom){if(!o&&nt.isSelectable(f))return nt.create(l,n-(a<0?f.nodeSize:0))}else{let d=Zl(l,f,n+a,a<0?f.childCount:0,a,o);if(d)return d}n+=f.nodeSize*a}return null}function Yg(l,t,n){let r=l.steps.length-1;if(r<t)return;let a=l.steps[r];if(!(a instanceof te||a instanceof ne))return;let o=l.mapping.maps[r],c;o.forEach((f,d,m,g)=>{c==null&&(c=g)}),l.setSelection(yt.near(l.doc.resolve(c),n))}const Gg=1,Ja=2,Xg=4;class wE extends O0{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Gg)&~Ja,this.storedMarks=null,this}get selectionSet(){return(this.updated&Gg)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Ja,this}ensureMarks(t){return zt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ja)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Ja,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||zt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let a=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(a.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let c=this.doc.resolve(n);o=r==n?c.marks():c.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,a.text(t,o)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(yt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Xg,this}get scrolledIntoView(){return(this.updated&Xg)>0}}function Jg(l,t){return!t||!l?l:l.bind(t)}class ls{constructor(t,n,r){this.name=t,this.init=Jg(n.init,r),this.apply=Jg(n.apply,r)}}const RE=[new ls("doc",{init(l){return l.doc||l.schema.topNodeType.createAndFill()},apply(l){return l.doc}}),new ls("selection",{init(l,t){return l.selection||yt.atStart(t.doc)},apply(l){return l.selection}}),new ls("storedMarks",{init(l){return l.storedMarks||null},apply(l,t,n,r){return r.selection.$cursor?l.storedMarks:null}}),new ls("scrollToSelection",{init(){return 0},apply(l,t){return l.scrolledIntoView?t+1:t}})];class af{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=RE.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ls(r.key,r.spec.state,r))})}}class Il{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let a=this.config.plugins[r];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),a=null;for(;;){let o=!1;for(let c=0;c<this.config.plugins.length;c++){let f=this.config.plugins[c];if(f.spec.appendTransaction){let d=a?a[c].n:0,m=a?a[c].state:this,g=d<n.length&&f.spec.appendTransaction.call(f,d?n.slice(d):n,m,r);if(g&&r.filterTransaction(g,c)){if(g.setMeta("appendedTransaction",t),!a){a=[];for(let y=0;y<this.config.plugins.length;y++)a.push(y<c?{state:r,n:n.length}:{state:this,n:0})}n.push(g),r=r.applyInner(g),o=!0}a&&(a[c]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Il(this.config),r=this.config.fields;for(let a=0;a<r.length;a++){let o=r[a];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new wE(this)}static create(t){let n=new af(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Il(n);for(let a=0;a<n.fields.length;a++)r[n.fields[a].name]=n.fields[a].init(t,r);return r}reconfigure(t){let n=new af(this.schema,t.plugins),r=n.fields,a=new Il(n);for(let o=0;o<r.length;o++){let c=r[o].name;a[c]=this.hasOwnProperty(c)?this[c]:r[o].init(t,a)}return a}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=t[r],o=a.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(a,this[a.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let a=new af(t.schema,t.plugins),o=new Il(a);return a.fields.forEach(c=>{if(c.name=="doc")o.doc=un.fromJSON(t.schema,n.doc);else if(c.name=="selection")o.selection=yt.fromJSON(o.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let f in r){let d=r[f],m=d.spec.state;if(d.key==c.name&&m&&m.fromJSON&&Object.prototype.hasOwnProperty.call(n,f)){o[c.name]=m.fromJSON.call(d,t,n[f],o);return}}o[c.name]=c.init(t,o)}}),o}}function A0(l,t,n){for(let r in l){let a=l[r];a instanceof Function?a=a.bind(t):r=="handleDOMEvents"&&(a=A0(a,t,{})),n[r]=a}return n}class cn{constructor(t){this.spec=t,this.props={},t.props&&A0(t.props,this,this.props),this.key=t.key?t.key.key:N0("plugin")}getState(t){return t[this.key]}}const of=Object.create(null);function N0(l){return l in of?l+"$"+ ++of[l]:(of[l]=0,l+"$")}class Ci{constructor(t="key"){this.key=N0(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Xf=(l,t)=>l.selection.empty?!1:(t&&t(l.tr.deleteSelection().scrollIntoView()),!0);function D0(l,t){let{$cursor:n}=l.selection;return!n||(t?!t.endOfTextblock("backward",l):n.parentOffset>0)?null:n}const k0=(l,t,n)=>{let r=D0(l,n);if(!r)return!1;let a=Jf(r);if(!a){let c=r.blockRange(),f=c&&lr(c);return f==null?!1:(t&&t(l.tr.lift(c,f).scrollIntoView()),!0)}let o=a.nodeBefore;if(q0(l,a,t,-1))return!0;if(r.parent.content.size==0&&(tr(o,"end")||nt.isSelectable(o)))for(let c=r.depth;;c--){let f=So(l.doc,r.before(c),r.after(c),Q.empty);if(f&&f.slice.size<f.to-f.from){if(t){let d=l.tr.step(f);d.setSelection(tr(o,"end")?yt.findFrom(d.doc.resolve(d.mapping.map(a.pos,-1)),-1):nt.create(d.doc,a.pos-o.nodeSize)),t(d.scrollIntoView())}return!0}if(c==1||r.node(c-1).childCount>1)break}return o.isAtom&&a.depth==r.depth-1?(t&&t(l.tr.delete(a.pos-o.nodeSize,a.pos).scrollIntoView()),!0):!1},BE=(l,t,n)=>{let r=D0(l,n);if(!r)return!1;let a=Jf(r);return a?z0(l,a,t):!1},_E=(l,t,n)=>{let r=R0(l,n);if(!r)return!1;let a=Kf(r);return a?z0(l,a,t):!1};function z0(l,t,n){let r=t.nodeBefore,a=r,o=t.pos-1;for(;!a.isTextblock;o--){if(a.type.spec.isolating)return!1;let g=a.lastChild;if(!g)return!1;a=g}let c=t.nodeAfter,f=c,d=t.pos+1;for(;!f.isTextblock;d++){if(f.type.spec.isolating)return!1;let g=f.firstChild;if(!g)return!1;f=g}let m=So(l.doc,o,d,Q.empty);if(!m||m.from!=o||m instanceof te&&m.slice.size>=d-o)return!1;if(n){let g=l.tr.step(m);g.setSelection(ct.create(g.doc,o)),n(g.scrollIntoView())}return!0}function tr(l,t,n=!1){for(let r=l;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const w0=(l,t,n)=>{let{$head:r,empty:a}=l.selection,o=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",l):r.parentOffset>0)return!1;o=Jf(r)}let c=o&&o.nodeBefore;return!c||!nt.isSelectable(c)?!1:(t&&t(l.tr.setSelection(nt.create(l.doc,o.pos-c.nodeSize)).scrollIntoView()),!0)};function Jf(l){if(!l.parent.type.spec.isolating)for(let t=l.depth-1;t>=0;t--){if(l.index(t)>0)return l.doc.resolve(l.before(t+1));if(l.node(t).type.spec.isolating)break}return null}function R0(l,t){let{$cursor:n}=l.selection;return!n||(t?!t.endOfTextblock("forward",l):n.parentOffset<n.parent.content.size)?null:n}const B0=(l,t,n)=>{let r=R0(l,n);if(!r)return!1;let a=Kf(r);if(!a)return!1;let o=a.nodeAfter;if(q0(l,a,t,1))return!0;if(r.parent.content.size==0&&(tr(o,"start")||nt.isSelectable(o))){let c=So(l.doc,r.before(),r.after(),Q.empty);if(c&&c.slice.size<c.to-c.from){if(t){let f=l.tr.step(c);f.setSelection(tr(o,"start")?yt.findFrom(f.doc.resolve(f.mapping.map(a.pos)),1):nt.create(f.doc,f.mapping.map(a.pos))),t(f.scrollIntoView())}return!0}}return o.isAtom&&a.depth==r.depth-1?(t&&t(l.tr.delete(a.pos,a.pos+o.nodeSize).scrollIntoView()),!0):!1},_0=(l,t,n)=>{let{$head:r,empty:a}=l.selection,o=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",l):r.parentOffset<r.parent.content.size)return!1;o=Kf(r)}let c=o&&o.nodeAfter;return!c||!nt.isSelectable(c)?!1:(t&&t(l.tr.setSelection(nt.create(l.doc,o.pos)).scrollIntoView()),!0)};function Kf(l){if(!l.parent.type.spec.isolating)for(let t=l.depth-1;t>=0;t--){let n=l.node(t);if(l.index(t)+1<n.childCount)return l.doc.resolve(l.after(t+1));if(n.type.spec.isolating)break}return null}const UE=(l,t)=>{let n=l.selection,r=n instanceof nt,a;if(r){if(n.node.isTextblock||!sl(l.doc,n.from))return!1;a=n.from}else if(a=bo(l.doc,n.from,-1),a==null)return!1;if(t){let o=l.tr.join(a);r&&o.setSelection(nt.create(o.doc,a-l.doc.resolve(a).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},VE=(l,t)=>{let n=l.selection,r;if(n instanceof nt){if(n.node.isTextblock||!sl(l.doc,n.to))return!1;r=n.to}else if(r=bo(l.doc,n.to,1),r==null)return!1;return t&&t(l.tr.join(r).scrollIntoView()),!0},jE=(l,t)=>{let{$from:n,$to:r}=l.selection,a=n.blockRange(r),o=a&&lr(a);return o==null?!1:(t&&t(l.tr.lift(a,o).scrollIntoView()),!0)},U0=(l,t)=>{let{$head:n,$anchor:r}=l.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(l.tr.insertText(`
`).scrollIntoView()),!0)};function Qf(l){for(let t=0;t<l.edgeCount;t++){let{type:n}=l.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const qE=(l,t)=>{let{$head:n,$anchor:r}=l.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let a=n.node(-1),o=n.indexAfter(-1),c=Qf(a.contentMatchAt(o));if(!c||!a.canReplaceWith(o,o,c))return!1;if(t){let f=n.after(),d=l.tr.replaceWith(f,f,c.createAndFill());d.setSelection(yt.near(d.doc.resolve(f),1)),t(d.scrollIntoView())}return!0},V0=(l,t)=>{let n=l.selection,{$from:r,$to:a}=n;if(n instanceof Ye||r.parent.inlineContent||a.parent.inlineContent)return!1;let o=Qf(a.parent.contentMatchAt(a.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let c=(!r.parentOffset&&a.index()<a.parent.childCount?r:a).pos,f=l.tr.insert(c,o.createAndFill());f.setSelection(ct.create(f.doc,c+1)),t(f.scrollIntoView())}return!0},j0=(l,t)=>{let{$cursor:n}=l.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(qn(l.doc,o))return t&&t(l.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),a=r&&lr(r);return a==null?!1:(t&&t(l.tr.lift(r,a).scrollIntoView()),!0)};function HE(l){return(t,n)=>{let{$from:r,$to:a}=t.selection;if(t.selection instanceof nt&&t.selection.node.isBlock)return!r.parentOffset||!qn(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],c,f,d=!1,m=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),m=r.start(v)==r.pos-(r.depth-v),f=Qf(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),o.unshift(d&&f?{type:f}:null),c=v;break}else{if(v==1)return!1;o.unshift(null)}let g=t.tr;(t.selection instanceof ct||t.selection instanceof Ye)&&g.deleteSelection();let y=g.mapping.map(r.pos),S=qn(g.doc,y,o.length,o);if(S||(o[0]=f?{type:f}:null,S=qn(g.doc,y,o.length,o)),!S)return!1;if(g.split(y,o.length,o),!d&&m&&r.node(c).type!=f){let v=g.mapping.map(r.before(c)),E=g.doc.resolve(v);f&&r.node(c-1).canReplaceWith(E.index(),E.index()+1,f)&&g.setNodeMarkup(g.mapping.map(r.before(c)),f)}return n&&n(g.scrollIntoView()),!0}}const LE=HE(),YE=(l,t)=>{let{$from:n,to:r}=l.selection,a,o=n.sharedDepth(r);return o==0?!1:(a=n.before(o),t&&t(l.tr.setSelection(nt.create(l.doc,a))),!0)};function GE(l,t,n){let r=t.nodeBefore,a=t.nodeAfter,o=t.index();return!r||!a||!r.type.compatibleContent(a.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(l.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(a.isTextblock||sl(l.doc,t.pos))?!1:(n&&n(l.tr.join(t.pos).scrollIntoView()),!0)}function q0(l,t,n,r){let a=t.nodeBefore,o=t.nodeAfter,c,f,d=a.type.spec.isolating||o.type.spec.isolating;if(!d&&GE(l,t,n))return!0;let m=!d&&t.parent.canReplace(t.index(),t.index()+1);if(m&&(c=(f=a.contentMatchAt(a.childCount)).findWrapping(o.type))&&f.matchType(c[0]||o.type).validEnd){if(n){let v=t.pos+o.nodeSize,E=L.empty;for(let N=c.length-1;N>=0;N--)E=L.from(c[N].create(null,E));E=L.from(a.copy(E));let M=l.tr.step(new ne(t.pos-1,v,t.pos,v,new Q(E,1,0),c.length,!0)),T=M.doc.resolve(v+2*c.length);T.nodeAfter&&T.nodeAfter.type==a.type&&sl(M.doc,T.pos)&&M.join(T.pos),n(M.scrollIntoView())}return!0}let g=o.type.spec.isolating||r>0&&d?null:yt.findFrom(t,1),y=g&&g.$from.blockRange(g.$to),S=y&&lr(y);if(S!=null&&S>=t.depth)return n&&n(l.tr.lift(y,S).scrollIntoView()),!0;if(m&&tr(o,"start",!0)&&tr(a,"end")){let v=a,E=[];for(;E.push(v),!v.isTextblock;)v=v.lastChild;let M=o,T=1;for(;!M.isTextblock;M=M.firstChild)T++;if(v.canReplace(v.childCount,v.childCount,M.content)){if(n){let N=L.empty;for(let Y=E.length-1;Y>=0;Y--)N=L.from(E[Y].copy(N));let H=l.tr.step(new ne(t.pos-E.length,t.pos+o.nodeSize,t.pos+T,t.pos+o.nodeSize-T,new Q(N,E.length,0),0,!0));n(H.scrollIntoView())}return!0}}return!1}function H0(l){return function(t,n){let r=t.selection,a=l<0?r.$from:r.$to,o=a.depth;for(;a.node(o).isInline;){if(!o)return!1;o--}return a.node(o).isTextblock?(n&&n(t.tr.setSelection(ct.create(t.doc,l<0?a.start(o):a.end(o)))),!0):!1}}const XE=H0(-1),JE=H0(1);function KE(l,t=null){return function(n,r){let{$from:a,$to:o}=n.selection,c=a.blockRange(o),f=c&&b0(c,l,t);return f?(r&&r(n.tr.wrap(c,f).scrollIntoView()),!0):!1}}function Kg(l,t=null){return function(n,r){let a=!1;for(let o=0;o<n.selection.ranges.length&&!a;o++){let{$from:{pos:c},$to:{pos:f}}=n.selection.ranges[o];n.doc.nodesBetween(c,f,(d,m)=>{if(a)return!1;if(!(!d.isTextblock||d.hasMarkup(l,t)))if(d.type==l)a=!0;else{let g=n.doc.resolve(m),y=g.index();a=g.parent.canReplaceWith(y,y+1,l)}})}if(!a)return!1;if(r){let o=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:f},$to:{pos:d}}=n.selection.ranges[c];o.setBlockType(f,d,l,t)}r(o.scrollIntoView())}return!0}}function Zf(...l){return function(t,n,r){for(let a=0;a<l.length;a++)if(l[a](t,n,r))return!0;return!1}}Zf(Xf,k0,w0);Zf(Xf,B0,_0);Zf(U0,V0,j0,LE);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function QE(l,t=null){return function(n,r){let{$from:a,$to:o}=n.selection,c=a.blockRange(o);if(!c)return!1;let f=r?n.tr:null;return ZE(f,c,l,t)?(r&&r(f.scrollIntoView()),!0):!1}}function ZE(l,t,n,r=null){let a=!1,o=t,c=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let d=c.resolve(t.start-2);o=new lo(d,d,t.depth),t.endIndex<t.parent.childCount&&(t=new lo(t.$from,c.resolve(t.$to.end(t.depth)),t.depth)),a=!0}let f=b0(o,n,r,t);return f?(l&&$E(l,t,f,a,n),!0):!1}function $E(l,t,n,r,a){let o=L.empty;for(let g=n.length-1;g>=0;g--)o=L.from(n[g].type.create(n[g].attrs,o));l.step(new ne(t.start-(r?2:0),t.end,t.start,t.end,new Q(o,0,0),n.length,!0));let c=0;for(let g=0;g<n.length;g++)n[g].type==a&&(c=g+1);let f=n.length-c,d=t.start+n.length-(r?2:0),m=t.parent;for(let g=t.startIndex,y=t.endIndex,S=!0;g<y;g++,S=!1)!S&&qn(l.doc,d,f)&&(l.split(d,f),d+=2*f),d+=m.child(g).nodeSize;return l}function IE(l){return function(t,n){let{$from:r,$to:a}=t.selection,o=r.blockRange(a,c=>c.childCount>0&&c.firstChild.type==l);return o?n?r.node(o.depth-1).type==l?FE(t,n,l,o):WE(t,n,o):!0:!1}}function FE(l,t,n,r){let a=l.tr,o=r.end,c=r.$to.end(r.depth);o<c&&(a.step(new ne(o-1,c,o,c,new Q(L.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new lo(a.doc.resolve(r.$from.pos),a.doc.resolve(c),r.depth));const f=lr(r);if(f==null)return!1;a.lift(r,f);let d=a.doc.resolve(a.mapping.map(o,-1)-1);return sl(a.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&a.join(d.pos),t(a.scrollIntoView()),!0}function WE(l,t,n){let r=l.tr,a=n.parent;for(let v=n.end,E=n.endIndex-1,M=n.startIndex;E>M;E--)v-=a.child(E).nodeSize,r.delete(v-1,v+1);let o=r.doc.resolve(n.start),c=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let f=n.startIndex==0,d=n.endIndex==a.childCount,m=o.node(-1),g=o.index(-1);if(!m.canReplace(g+(f?0:1),g+1,c.content.append(d?L.empty:L.from(a))))return!1;let y=o.pos,S=y+c.nodeSize;return r.step(new ne(y-(f?1:0),S+(d?1:0),y+1,S-1,new Q((f?L.empty:L.from(a.copy(L.empty))).append(d?L.empty:L.from(a.copy(L.empty))),f?0:1,d?0:1),f?0:1)),t(r.scrollIntoView()),!0}function PE(l){return function(t,n){let{$from:r,$to:a}=t.selection,o=r.blockRange(a,m=>m.childCount>0&&m.firstChild.type==l);if(!o)return!1;let c=o.startIndex;if(c==0)return!1;let f=o.parent,d=f.child(c-1);if(d.type!=l)return!1;if(n){let m=d.lastChild&&d.lastChild.type==f.type,g=L.from(m?l.create():null),y=new Q(L.from(l.create(null,L.from(f.type.create(null,g)))),m?3:1,0),S=o.start,v=o.end;n(t.tr.step(new ne(S-(m?3:1),v,S,v,y,1,!0)).scrollIntoView())}return!0}}const ce=function(l){for(var t=0;;t++)if(l=l.previousSibling,!l)return t},er=function(l){let t=l.assignedSlot||l.parentNode;return t&&t.nodeType==11?t.host:t};let Of=null;const Vn=function(l,t,n){let r=Of||(Of=document.createRange());return r.setEnd(l,n??l.nodeValue.length),r.setStart(l,t||0),r},tx=function(){Of=null},il=function(l,t,n,r){return n&&(Qg(l,t,n,r,-1)||Qg(l,t,n,r,1))},ex=/^(img|br|input|textarea|hr)$/i;function Qg(l,t,n,r,a){for(var o;;){if(l==n&&t==r)return!0;if(t==(a<0?0:tn(l))){let c=l.parentNode;if(!c||c.nodeType!=1||xs(l)||ex.test(l.nodeName)||l.contentEditable=="false")return!1;t=ce(l)+(a<0?0:1),l=c}else if(l.nodeType==1){let c=l.childNodes[t+(a<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((o=c.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=a;else return!1;else l=c,t=a<0?tn(l):0}else return!1}}function tn(l){return l.nodeType==3?l.nodeValue.length:l.childNodes.length}function nx(l,t){for(;;){if(l.nodeType==3&&t)return l;if(l.nodeType==1&&t>0){if(l.contentEditable=="false")return null;l=l.childNodes[t-1],t=tn(l)}else if(l.parentNode&&!xs(l))t=ce(l),l=l.parentNode;else return null}}function ix(l,t){for(;;){if(l.nodeType==3&&t<l.nodeValue.length)return l;if(l.nodeType==1&&t<l.childNodes.length){if(l.contentEditable=="false")return null;l=l.childNodes[t],t=0}else if(l.parentNode&&!xs(l))t=ce(l)+1,l=l.parentNode;else return null}}function lx(l,t,n){for(let r=t==0,a=t==tn(l);r||a;){if(l==n)return!0;let o=ce(l);if(l=l.parentNode,!l)return!1;r=r&&o==0,a=a&&o==tn(l)}}function xs(l){let t;for(let n=l;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==l||t.contentDOM==l)}const Eo=function(l){return l.focusNode&&il(l.focusNode,l.focusOffset,l.anchorNode,l.anchorOffset)};function Qi(l,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=l,n.key=n.code=t,n}function rx(l){let t=l.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function sx(l,t,n){if(l.caretPositionFromPoint)try{let r=l.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(tn(r.offsetNode),r.offset)}}catch{}if(l.caretRangeFromPoint){let r=l.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(tn(r.startContainer),r.startOffset)}}}const mn=typeof navigator<"u"?navigator:null,Zg=typeof document<"u"?document:null,Oi=mn&&mn.userAgent||"",Af=/Edge\/(\d+)/.exec(Oi),L0=/MSIE \d/.exec(Oi),Nf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Oi),De=!!(L0||Nf||Af),vi=L0?document.documentMode:Nf?+Nf[1]:Af?+Af[1]:0,en=!De&&/gecko\/(\d+)/i.test(Oi);en&&+(/Firefox\/(\d+)/.exec(Oi)||[0,0])[1];const Df=!De&&/Chrome\/(\d+)/.exec(Oi),ee=!!Df,Y0=Df?+Df[1]:0,de=!De&&!!mn&&/Apple Computer/.test(mn.vendor),nr=de&&(/Mobile\/\w+/.test(Oi)||!!mn&&mn.maxTouchPoints>2),Pe=nr||(mn?/Mac/.test(mn.platform):!1),G0=mn?/Win/.test(mn.platform):!1,jn=/Android \d/.test(Oi),Ms=!!Zg&&"webkitFontSmoothing"in Zg.documentElement.style,ax=Ms?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ox(l){let t=l.defaultView&&l.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:l.documentElement.clientWidth,top:0,bottom:l.documentElement.clientHeight}}function Un(l,t){return typeof l=="number"?l:l[t]}function ux(l){let t=l.getBoundingClientRect(),n=t.width/l.offsetWidth||1,r=t.height/l.offsetHeight||1;return{left:t.left,right:t.left+l.clientWidth*n,top:t.top,bottom:t.top+l.clientHeight*r}}function $g(l,t,n){let r=l.someProp("scrollThreshold")||0,a=l.someProp("scrollMargin")||5,o=l.dom.ownerDocument;for(let c=n||l.dom;c;){if(c.nodeType!=1){c=er(c);continue}let f=c,d=f==o.body,m=d?ox(o):ux(f),g=0,y=0;if(t.top<m.top+Un(r,"top")?y=-(m.top-t.top+Un(a,"top")):t.bottom>m.bottom-Un(r,"bottom")&&(y=t.bottom-t.top>m.bottom-m.top?t.top+Un(a,"top")-m.top:t.bottom-m.bottom+Un(a,"bottom")),t.left<m.left+Un(r,"left")?g=-(m.left-t.left+Un(a,"left")):t.right>m.right-Un(r,"right")&&(g=t.right-m.right+Un(a,"right")),g||y)if(d)o.defaultView.scrollBy(g,y);else{let v=f.scrollLeft,E=f.scrollTop;y&&(f.scrollTop+=y),g&&(f.scrollLeft+=g);let M=f.scrollLeft-v,T=f.scrollTop-E;t={left:t.left-M,top:t.top-T,right:t.right-M,bottom:t.bottom-T}}let S=d?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(S))break;c=S=="absolute"?c.offsetParent:er(c)}}function cx(l){let t=l.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,a;for(let o=(t.left+t.right)/2,c=n+1;c<Math.min(innerHeight,t.bottom);c+=5){let f=l.root.elementFromPoint(o,c);if(!f||f==l.dom||!l.dom.contains(f))continue;let d=f.getBoundingClientRect();if(d.top>=n-20){r=f,a=d.top;break}}return{refDOM:r,refTop:a,stack:X0(l.dom)}}function X0(l){let t=[],n=l.ownerDocument;for(let r=l;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),l!=n);r=er(r));return t}function fx({refDOM:l,refTop:t,stack:n}){let r=l?l.getBoundingClientRect().top:0;J0(n,r==0?0:r-t)}function J0(l,t){for(let n=0;n<l.length;n++){let{dom:r,top:a,left:o}=l[n];r.scrollTop!=a+t&&(r.scrollTop=a+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Kl=null;function dx(l){if(l.setActive)return l.setActive();if(Kl)return l.focus(Kl);let t=X0(l);l.focus(Kl==null?{get preventScroll(){return Kl={preventScroll:!0},!0}}:void 0),Kl||(Kl=!1,J0(t,0))}function K0(l,t){let n,r=2e8,a,o=0,c=t.top,f=t.top,d,m;for(let g=l.firstChild,y=0;g;g=g.nextSibling,y++){let S;if(g.nodeType==1)S=g.getClientRects();else if(g.nodeType==3)S=Vn(g).getClientRects();else continue;for(let v=0;v<S.length;v++){let E=S[v];if(E.top<=c&&E.bottom>=f){c=Math.max(E.bottom,c),f=Math.min(E.top,f);let M=E.left>t.left?E.left-t.left:E.right<t.left?t.left-E.right:0;if(M<r){n=g,r=M,a=M&&n.nodeType==3?{left:E.right<t.left?E.right:E.left,top:t.top}:t,g.nodeType==1&&M&&(o=y+(t.left>=(E.left+E.right)/2?1:0));continue}}else E.top>t.top&&!d&&E.left<=t.left&&E.right>=t.left&&(d=g,m={left:Math.max(E.left,Math.min(E.right,t.left)),top:E.top});!n&&(t.left>=E.right&&t.top>=E.top||t.left>=E.left&&t.top>=E.bottom)&&(o=y+1)}}return!n&&d&&(n=d,a=m,r=0),n&&n.nodeType==3?hx(n,a):!n||r&&n.nodeType==1?{node:l,offset:o}:K0(n,a)}function hx(l,t){let n=l.nodeValue.length,r=document.createRange(),a;for(let o=0;o<n;o++){r.setEnd(l,o+1),r.setStart(l,o);let c=hi(r,1);if(c.top!=c.bottom&&$f(t,c)){a={node:l,offset:o+(t.left>=(c.left+c.right)/2?1:0)};break}}return r.detach(),a||{node:l,offset:0}}function $f(l,t){return l.left>=t.left-1&&l.left<=t.right+1&&l.top>=t.top-1&&l.top<=t.bottom+1}function px(l,t){let n=l.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<l.getBoundingClientRect().left?n:l}function mx(l,t,n){let{node:r,offset:a}=K0(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let c=r.getBoundingClientRect();o=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return l.docView.posFromDOM(r,a,o)}function gx(l,t,n,r){let a=-1;for(let o=t,c=!1;o!=l.dom;){let f=l.docView.nearestDesc(o,!0),d;if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent||!f.contentDOM)&&((d=f.dom.getBoundingClientRect()).width||d.height)&&(f.node.isBlock&&f.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(f.dom.nodeName)&&(!c&&d.left>r.left||d.top>r.top?a=f.posBefore:(!c&&d.right<r.left||d.bottom<r.top)&&(a=f.posAfter),c=!0),!f.contentDOM&&a<0&&!f.node.isText))return(f.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?f.posBefore:f.posAfter;o=f.dom.parentNode}return a>-1?a:l.docView.posFromDOM(t,n,-1)}function Q0(l,t,n){let r=l.childNodes.length;if(r&&n.top<n.bottom)for(let a=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=a;;){let c=l.childNodes[o];if(c.nodeType==1){let f=c.getClientRects();for(let d=0;d<f.length;d++){let m=f[d];if($f(t,m))return Q0(c,t,m)}}if((o=(o+1)%r)==a)break}return l}function yx(l,t){let n=l.dom.ownerDocument,r,a=0,o=sx(n,t.left,t.top);o&&({node:r,offset:a}=o);let c=(l.root.elementFromPoint?l.root:n).elementFromPoint(t.left,t.top),f;if(!c||!l.dom.contains(c.nodeType!=1?c.parentNode:c)){let m=l.dom.getBoundingClientRect();if(!$f(t,m)||(c=Q0(l.dom,t,m),!c))return null}if(de)for(let m=c;r&&m;m=er(m))m.draggable&&(r=void 0);if(c=px(c,t),r){if(en&&r.nodeType==1&&(a=Math.min(a,r.childNodes.length),a<r.childNodes.length)){let g=r.childNodes[a],y;g.nodeName=="IMG"&&(y=g.getBoundingClientRect()).right<=t.left&&y.bottom>t.top&&a++}let m;Ms&&a&&r.nodeType==1&&(m=r.childNodes[a-1]).nodeType==1&&m.contentEditable=="false"&&m.getBoundingClientRect().top>=t.top&&a--,r==l.dom&&a==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?f=l.state.doc.content.size:(a==0||r.nodeType!=1||r.childNodes[a-1].nodeName!="BR")&&(f=gx(l,r,a,t))}f==null&&(f=mx(l,c,t));let d=l.docView.nearestDesc(c,!0);return{pos:f,inside:d?d.posAtStart-d.border:-1}}function Ig(l){return l.top<l.bottom||l.left<l.right}function hi(l,t){let n=l.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(Ig(r))return r}return Array.prototype.find.call(n,Ig)||l.getBoundingClientRect()}const bx=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Z0(l,t,n){let{node:r,offset:a,atom:o}=l.docView.domFromPos(t,n<0?-1:1),c=Ms||en;if(r.nodeType==3)if(c&&(bx.test(r.nodeValue)||(n<0?!a:a==r.nodeValue.length))){let d=hi(Vn(r,a,a),n);if(en&&a&&/\s/.test(r.nodeValue[a-1])&&a<r.nodeValue.length){let m=hi(Vn(r,a-1,a-1),-1);if(m.top==d.top){let g=hi(Vn(r,a,a+1),-1);if(g.top!=d.top)return ts(g,g.left<m.left)}}return d}else{let d=a,m=a,g=n<0?1:-1;return n<0&&!a?(m++,g=-1):n>=0&&a==r.nodeValue.length?(d--,g=1):n<0?d--:m++,ts(hi(Vn(r,d,m),g),g<0)}if(!l.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&a&&(n<0||a==tn(r))){let d=r.childNodes[a-1];if(d.nodeType==1)return uf(d.getBoundingClientRect(),!1)}if(o==null&&a<tn(r)){let d=r.childNodes[a];if(d.nodeType==1)return uf(d.getBoundingClientRect(),!0)}return uf(r.getBoundingClientRect(),n>=0)}if(o==null&&a&&(n<0||a==tn(r))){let d=r.childNodes[a-1],m=d.nodeType==3?Vn(d,tn(d)-(c?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(m)return ts(hi(m,1),!1)}if(o==null&&a<tn(r)){let d=r.childNodes[a];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let m=d?d.nodeType==3?Vn(d,0,c?0:1):d.nodeType==1?d:null:null;if(m)return ts(hi(m,-1),!0)}return ts(hi(r.nodeType==3?Vn(r):r,-n),n>=0)}function ts(l,t){if(l.width==0)return l;let n=t?l.left:l.right;return{top:l.top,bottom:l.bottom,left:n,right:n}}function uf(l,t){if(l.height==0)return l;let n=t?l.top:l.bottom;return{top:n,bottom:n,left:l.left,right:l.right}}function $0(l,t,n){let r=l.state,a=l.root.activeElement;r!=t&&l.updateState(t),a!=l.dom&&l.focus();try{return n()}finally{r!=t&&l.updateState(r),a!=l.dom&&a&&a.focus()}}function Sx(l,t,n){let r=t.selection,a=n=="up"?r.$from:r.$to;return $0(l,t,()=>{let{node:o}=l.docView.domFromPos(a.pos,n=="up"?-1:1);for(;;){let f=l.docView.nearestDesc(o,!0);if(!f)break;if(f.node.isBlock){o=f.contentDOM||f.dom;break}o=f.dom.parentNode}let c=Z0(l,a.pos,1);for(let f=o.firstChild;f;f=f.nextSibling){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=Vn(f,0,f.nodeValue.length).getClientRects();else continue;for(let m=0;m<d.length;m++){let g=d[m];if(g.bottom>g.top+1&&(n=="up"?c.top-g.top>(g.bottom-c.top)*2:g.bottom-c.bottom>(c.bottom-g.top)*2))return!1}}return!0})}const vx=/[\u0590-\u08ac]/;function Ex(l,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let a=r.parentOffset,o=!a,c=a==r.parent.content.size,f=l.domSelection();return f?!vx.test(r.parent.textContent)||!f.modify?n=="left"||n=="backward"?o:c:$0(l,t,()=>{let{focusNode:d,focusOffset:m,anchorNode:g,anchorOffset:y}=l.domSelectionRange(),S=f.caretBidiLevel;f.modify("move",n,"character");let v=r.depth?l.docView.domAfterPos(r.before()):l.dom,{focusNode:E,focusOffset:M}=l.domSelectionRange(),T=E&&!v.contains(E.nodeType==1?E:E.parentNode)||d==E&&m==M;try{f.collapse(g,y),d&&(d!=g||m!=y)&&f.extend&&f.extend(d,m)}catch{}return S!=null&&(f.caretBidiLevel=S),T}):r.pos==r.start()||r.pos==r.end()}let Fg=null,Wg=null,Pg=!1;function xx(l,t,n){return Fg==t&&Wg==n?Pg:(Fg=t,Wg=n,Pg=n=="up"||n=="down"?Sx(l,t,n):Ex(l,t,n))}const nn=0,ty=1,Zi=2,gn=3;class Ts{constructor(t,n,r,a){this.parent=t,this.children=n,this.dom=r,this.contentDOM=a,this.dirty=nn,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let a=this.children[n];if(a==t)return r;r+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,c;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(c)+c.size:this.posAtStart}else{let o,c;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(c):this.posAtEnd}let a;if(t==this.dom&&this.contentDOM)a=n>ce(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){a=!1;break}if(o.previousSibling)break}if(a==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){a=!0;break}if(o.nextSibling)break}}return a??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,a=t;a;a=a.parentNode){let o=this.getDesc(a),c;if(o&&(!n||o.node))if(r&&(c=o.nodeDOM)&&!(c.nodeType==1?c.contains(t.nodeType==1?t:t.parentNode):c==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let a=t;a;a=a.parentNode){let o=this.getDesc(a);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let a=this.children[n],o=r+a.size;if(r==t&&o!=r){for(;!a.border&&a.children.length;)for(let c=0;c<a.children.length;c++){let f=a.children[c];if(f.size){a=f;break}}return a}if(t<o)return a.descAt(t-r-a.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,a=0;for(let o=0;r<this.children.length;r++){let c=this.children[r],f=o+c.size;if(f>t||c instanceof F0){a=t-o;break}o=f}if(a)return this.children[r].domFromPos(a-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof I0&&o.side>=0;r--);if(n<=0){let o,c=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,c=!1);return o&&n&&c&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?ce(o.dom)+1:0}}else{let o,c=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,c=!1);return o&&c&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?ce(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,o=-1;for(let c=r,f=0;;f++){let d=this.children[f],m=c+d.size;if(a==-1&&t<=m){let g=c+d.border;if(t>=g&&n<=m-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(t,n,g);t=c;for(let y=f;y>0;y--){let S=this.children[y-1];if(S.size&&S.dom.parentNode==this.contentDOM&&!S.emptyChildAt(1)){a=ce(S.dom)+1;break}t-=S.size}a==-1&&(a=0)}if(a>-1&&(m>n||f==this.children.length-1)){n=m;for(let g=f+1;g<this.children.length;g++){let y=this.children[g];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=ce(y.dom);break}n+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}c=m}return{node:this.contentDOM,from:t,to:n,fromOffset:a,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,a=!1){let o=Math.min(t,n),c=Math.max(t,n);for(let v=0,E=0;v<this.children.length;v++){let M=this.children[v],T=E+M.size;if(o>E&&c<T)return M.setSelection(t-E-M.border,n-E-M.border,r,a);E=T}let f=this.domFromPos(t,t?-1:1),d=n==t?f:this.domFromPos(n,n?-1:1),m=r.root.getSelection(),g=r.domSelectionRange(),y=!1;if((en||de)&&t==n){let{node:v,offset:E}=f;if(v.nodeType==3){if(y=!!(E&&v.nodeValue[E-1]==`
`),y&&E==v.nodeValue.length)for(let M=v,T;M;M=M.parentNode){if(T=M.nextSibling){T.nodeName=="BR"&&(f=d={node:T.parentNode,offset:ce(T)+1});break}let N=M.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let M=v.childNodes[E-1];y=M&&(M.nodeName=="BR"||M.contentEditable=="false")}}if(en&&g.focusNode&&g.focusNode!=d.node&&g.focusNode.nodeType==1){let v=g.focusNode.childNodes[g.focusOffset];v&&v.contentEditable=="false"&&(a=!0)}if(!(a||y&&de)&&il(f.node,f.offset,g.anchorNode,g.anchorOffset)&&il(d.node,d.offset,g.focusNode,g.focusOffset))return;let S=!1;if((m.extend||t==n)&&!(y&&en)){m.collapse(f.node,f.offset);try{t!=n&&m.extend(d.node,d.offset),S=!0}catch{}}if(!S){if(t>n){let E=f;f=d,d=E}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(v)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,a=0;a<this.children.length;a++){let o=this.children[a],c=r+o.size;if(r==c?t<=c&&n>=r:t<c&&n>r){let f=r+o.border,d=c-o.border;if(t>=f&&n<=d){this.dirty=t==r||n==c?Zi:ty,t==f&&n==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=gn:o.markDirty(t-f,n-f);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Zi:gn}r=c}this.dirty=Zi}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Zi:ty;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class I0 extends Ts{constructor(t,n,r,a){let o,c=n.type.toDOM;if(typeof c=="function"&&(c=c(r,()=>{if(!o)return a;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(c.nodeType!=1){let f=document.createElement("span");f.appendChild(c),c=f}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(t,[],c,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==nn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Mx extends Ts{constructor(t,n,r,a){super(t,[],n,null),this.textDOM=r,this.text=a}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class ll extends Ts{constructor(t,n,r,a,o){super(t,[],r,a),this.mark=n,this.spec=o}static create(t,n,r,a){let o=a.nodeViews[n.type.name],c=o&&o(n,a,r);return(!c||!c.dom)&&(c=rl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new ll(t,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&gn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=gn&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=nn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=nn}}slice(t,n,r){let a=ll.create(this.parent,this.mark,!0,r),o=this.children,c=this.size;n<c&&(o=zf(o,n,c,r)),t>0&&(o=zf(o,0,t,r));for(let f=0;f<o.length;f++)o[f].parent=a;return a.children=o,a}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ei extends Ts{constructor(t,n,r,a,o,c,f,d,m){super(t,[],o,c),this.node=n,this.outerDeco=r,this.innerDeco=a,this.nodeDOM=f}static create(t,n,r,a,o,c){let f=o.nodeViews[n.type.name],d,m=f&&f(n,o,()=>{if(!d)return c;if(d.parent)return d.parent.posBeforeChild(d)},r,a),g=m&&m.dom,y=m&&m.contentDOM;if(n.isText){if(!g)g=document.createTextNode(n.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||({dom:g,contentDOM:y}=rl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!y&&!n.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable="false"),n.type.spec.draggable&&(g.draggable=!0));let S=g;return g=t1(g,r,n),m?d=new Tx(t,n,r,a,g,y||null,S,m,o,c+1):n.isText?new xo(t,n,r,a,g,S,o):new Ei(t,n,r,a,g,y||null,S,o,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>L.empty)}return t}matchesNode(t,n,r){return this.dirty==nn&&t.eq(this.node)&&ao(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,a=n,o=t.composing?this.localCompositionInfo(t,n):null,c=o&&o.pos>-1?o:null,f=o&&o.pos<0,d=new Ox(this,c&&c.node,t);Dx(this.node,this.innerDeco,(m,g,y)=>{m.spec.marks?d.syncToMarks(m.spec.marks,r,t,g):m.type.side>=0&&!y&&d.syncToMarks(g==this.node.childCount?zt.none:this.node.child(g).marks,r,t,g),d.placeWidget(m,t,a)},(m,g,y,S)=>{d.syncToMarks(m.marks,r,t,S);let v;d.findNodeMatch(m,g,y,S)||f&&t.state.selection.from>a&&t.state.selection.to<a+m.nodeSize&&(v=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(m,g,y,v,t)||d.updateNextNode(m,g,y,t,S,a)||d.addNode(m,g,y,t,a),a+=m.nodeSize}),d.syncToMarks([],r,t,0),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Zi)&&(c&&this.protectLocalComposition(t,c),W0(this.contentDOM,this.children,t),nr&&kx(this.dom))}localCompositionInfo(t,n){let{from:r,to:a}=t.state.selection;if(!(t.state.selection instanceof ct)||r<n||a>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let c=o.nodeValue,f=zx(this.node.content,c,r-n,a-n);return f<0?null:{node:o,pos:f,text:c}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:a}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let c=new Mx(this,o,n,a);t.input.compositionNodes.push(c),this.children=zf(this.children,r,r+a.length,t,c)}update(t,n,r,a){return this.dirty==gn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,a),!0)}updateInner(t,n,r,a){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=nn}updateOuterDeco(t){if(ao(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=P0(this.dom,this.nodeDOM,kf(this.outerDeco,this.node,n),kf(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ey(l,t,n,r,a){t1(r,t,l);let o=new Ei(void 0,l,t,n,r,r,r,a,0);return o.contentDOM&&o.updateChildren(a,0),o}class xo extends Ei{constructor(t,n,r,a,o,c,f){super(t,n,r,a,o,null,c,f,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,a){return this.dirty==gn||this.dirty!=nn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=nn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=t,this.dirty=nn,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let a=this.node.cut(t,n),o=document.createTextNode(a.text);return new xo(this.parent,a,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=gn)}get domAtom(){return!1}isText(t){return this.node.text==t}}class F0 extends Ts{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==nn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Tx extends Ei{constructor(t,n,r,a,o,c,f,d,m,g){super(t,n,r,a,o,c,f,m,g),this.spec=d}update(t,n,r,a){if(this.dirty==gn)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,a),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,a){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function W0(l,t,n){let r=l.firstChild,a=!1;for(let o=0;o<t.length;o++){let c=t[o],f=c.dom;if(f.parentNode==l){for(;f!=r;)r=ny(r),a=!0;r=r.nextSibling}else a=!0,l.insertBefore(f,r);if(c instanceof ll){let d=r?r.previousSibling:l.lastChild;W0(c.contentDOM,c.children,n),r=d?d.nextSibling:l.firstChild}}for(;r;)r=ny(r),a=!0;a&&n.trackWrites==l&&(n.trackWrites=null)}const us=function(l){l&&(this.nodeName=l)};us.prototype=Object.create(null);const $i=[new us];function kf(l,t,n){if(l.length==0)return $i;let r=n?$i[0]:new us,a=[r];for(let o=0;o<l.length;o++){let c=l[o].type.attrs;if(c){c.nodeName&&a.push(r=new us(c.nodeName));for(let f in c){let d=c[f];d!=null&&(n&&a.length==1&&a.push(r=new us(t.isInline?"span":"div")),f=="class"?r.class=(r.class?r.class+" ":"")+d:f=="style"?r.style=(r.style?r.style+";":"")+d:f!="nodeName"&&(r[f]=d))}}}return a}function P0(l,t,n,r){if(n==$i&&r==$i)return t;let a=t;for(let o=0;o<r.length;o++){let c=r[o],f=n[o];if(o){let d;f&&f.nodeName==c.nodeName&&a!=l&&(d=a.parentNode)&&d.nodeName.toLowerCase()==c.nodeName||(d=document.createElement(c.nodeName),d.pmIsDeco=!0,d.appendChild(a),f=$i[0]),a=d}Cx(a,f||$i[0],c)}return a}function Cx(l,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&l.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&l.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)a.indexOf(r[o])==-1&&l.classList.remove(r[o]);for(let o=0;o<a.length;o++)r.indexOf(a[o])==-1&&l.classList.add(a[o]);l.classList.length==0&&l.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=r.exec(t.style);)l.style.removeProperty(a[1])}n.style&&(l.style.cssText+=n.style)}}function t1(l,t,n){return P0(l,l,$i,kf(t,n,l.nodeType!=1))}function ao(l,t){if(l.length!=t.length)return!1;for(let n=0;n<l.length;n++)if(!l[n].type.eq(t[n].type))return!1;return!0}function ny(l){let t=l.nextSibling;return l.parentNode.removeChild(l),t}class Ox{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Ax(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r,a){let o=0,c=this.stack.length>>1,f=Math.min(c,t.length);for(;o<f&&(o==c-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<c;)this.destroyRest(),this.top.dirty=nn,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<t.length;){this.stack.push(this.top,this.index+1);let d=-1,m=this.top.children.length;a<this.preMatch.index&&(m=Math.min(this.index+3,m));for(let g=this.index;g<m;g++){let y=this.top.children[g];if(y.matchesMark(t[c])&&!this.isLocked(y.dom)){d=g;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let g=ll.create(this.top,t[c],n,r);this.top.children.splice(this.index,0,g),this.top=g,this.changed=!0}this.index=0,c++}}findNodeMatch(t,n,r,a){let o=-1,c;if(a>=this.preMatch.index&&(c=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&c.matchesNode(t,n,r))o=this.top.children.indexOf(c,this.index);else for(let f=this.index,d=Math.min(this.top.children.length,f+5);f<d;f++){let m=this.top.children[f];if(m.matchesNode(t,n,r)&&!this.preMatch.matched.has(m)){o=f;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,a,o){let c=this.top.children[a];return c.dirty==gn&&c.dom==c.contentDOM&&(c.dirty=Zi),c.update(t,n,r,o)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==r)return a}return-1}t=n}}updateNextNode(t,n,r,a,o,c){for(let f=this.index;f<this.top.children.length;f++){let d=this.top.children[f];if(d instanceof Ei){let m=this.preMatch.matched.get(d);if(m!=null&&m!=o)return!1;let g=d.dom,y,S=this.isLocked(g)&&!(t.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==t.text&&d.dirty!=gn&&ao(n,d.outerDeco));if(!S&&d.update(t,n,r,a))return this.destroyBetween(this.index,f),d.dom!=g&&(this.changed=!0),this.index++,!0;if(!S&&(y=this.recreateWrapper(d,t,n,r,a,c)))return this.destroyBetween(this.index,f),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Zi,y.updateChildren(a,c+1),y.dirty=nn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,a,o,c){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!ao(r,t.outerDeco)||!a.eq(t.innerDeco))return null;let f=Ei.create(this.top,n,r,a,o,c);if(f.contentDOM){f.children=t.children,t.children=[];for(let d of f.children)d.parent=f}return t.destroy(),f}addNode(t,n,r,a,o){let c=Ei.create(this.top,t,n,r,a,o);c.contentDOM&&c.updateChildren(a,o+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(t,n,r){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(t)&&(t==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let o=new I0(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof ll;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof xo)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((de||ee)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let a=new F0(this.top,[],r,null);n!=this.top?n.children.push(a):n.children.splice(this.index++,0,a),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Ax(l,t){let n=t,r=n.children.length,a=l.childCount,o=new Map,c=[];t:for(;a>0;){let f;for(;;)if(r){let m=n.children[r-1];if(m instanceof ll)n=m,r=m.children.length;else{f=m,r--;break}}else{if(n==t)break t;r=n.parent.children.indexOf(n),n=n.parent}let d=f.node;if(d){if(d!=l.child(a-1))break;--a,o.set(f,a),c.push(f)}}return{index:a,matched:o,matches:c.reverse()}}function Nx(l,t){return l.type.side-t.type.side}function Dx(l,t,n,r){let a=t.locals(l),o=0;if(a.length==0){for(let m=0;m<l.childCount;m++){let g=l.child(m);r(g,a,t.forChild(o,g),m),o+=g.nodeSize}return}let c=0,f=[],d=null;for(let m=0;;){let g,y;for(;c<a.length&&a[c].to==o;){let T=a[c++];T.widget&&(g?(y||(y=[g])).push(T):g=T)}if(g)if(y){y.sort(Nx);for(let T=0;T<y.length;T++)n(y[T],m,!!d)}else n(g,m,!!d);let S,v;if(d)v=-1,S=d,d=null;else if(m<l.childCount)v=m,S=l.child(m++);else break;for(let T=0;T<f.length;T++)f[T].to<=o&&f.splice(T--,1);for(;c<a.length&&a[c].from<=o&&a[c].to>o;)f.push(a[c++]);let E=o+S.nodeSize;if(S.isText){let T=E;c<a.length&&a[c].from<T&&(T=a[c].from);for(let N=0;N<f.length;N++)f[N].to<T&&(T=f[N].to);T<E&&(d=S.cut(T-o),S=S.cut(0,T-o),E=T,v=-1)}else for(;c<a.length&&a[c].to<E;)c++;let M=S.isInline&&!S.isLeaf?f.filter(T=>!T.inline):f.slice();r(S,M,t.forChild(o,S),v),o=E}}function kx(l){if(l.nodeName=="UL"||l.nodeName=="OL"){let t=l.style.cssText;l.style.cssText=t+"; list-style: square !important",window.getComputedStyle(l).listStyle,l.style.cssText=t}}function zx(l,t,n,r){for(let a=0,o=0;a<l.childCount&&o<=r;){let c=l.child(a++),f=o;if(o+=c.nodeSize,!c.isText)continue;let d=c.text;for(;a<l.childCount;){let m=l.child(a++);if(o+=m.nodeSize,!m.isText)break;d+=m.text}if(o>=n){if(o>=r&&d.slice(r-t.length-f,r-f)==t)return r-t.length;let m=f<r?d.lastIndexOf(t,r-f-1):-1;if(m>=0&&m+t.length+f>=n)return f+m;if(n==r&&d.length>=r+t.length-f&&d.slice(r-f,r-f+t.length)==t)return r}}return-1}function zf(l,t,n,r,a){let o=[];for(let c=0,f=0;c<l.length;c++){let d=l[c],m=f,g=f+=d.size;m>=n||g<=t?o.push(d):(m<t&&o.push(d.slice(0,t-m,r)),a&&(o.push(a),a=void 0),g>n&&o.push(d.slice(n-m,d.size,r)))}return o}function If(l,t=null){let n=l.domSelectionRange(),r=l.state.doc;if(!n.focusNode)return null;let a=l.docView.nearestDesc(n.focusNode),o=a&&a.size==0,c=l.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let f=r.resolve(c),d,m;if(Eo(n)){for(d=c;a&&!a.node;)a=a.parent;let y=a.node;if(a&&y.isAtom&&nt.isSelectable(y)&&a.parent&&!(y.isInline&&lx(n.focusNode,n.focusOffset,a.dom))){let S=a.posBefore;m=new nt(c==S?f:r.resolve(S))}}else{if(n instanceof l.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let y=c,S=c;for(let v=0;v<n.rangeCount;v++){let E=n.getRangeAt(v);y=Math.min(y,l.docView.posFromDOM(E.startContainer,E.startOffset,1)),S=Math.max(S,l.docView.posFromDOM(E.endContainer,E.endOffset,-1))}if(y<0)return null;[d,c]=S==l.state.selection.anchor?[S,y]:[y,S],f=r.resolve(c)}else d=l.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let g=r.resolve(d);if(!m){let y=t=="pointer"||l.state.selection.head<f.pos&&!o?1:-1;m=Ff(l,g,f,y)}return m}function e1(l){return l.editable?l.hasFocus():i1(l)&&document.activeElement&&document.activeElement.contains(l.dom)}function Hn(l,t=!1){let n=l.state.selection;if(n1(l,n),!!e1(l)){if(!t&&l.input.mouseDown&&l.input.mouseDown.allowDefault&&ee){let r=l.domSelectionRange(),a=l.domObserver.currentSelection;if(r.anchorNode&&a.anchorNode&&il(r.anchorNode,r.anchorOffset,a.anchorNode,a.anchorOffset)){l.input.mouseDown.delayedSelectionSync=!0,l.domObserver.setCurSelection();return}}if(l.domObserver.disconnectSelection(),l.cursorWrapper)Rx(l);else{let{anchor:r,head:a}=n,o,c;iy&&!(n instanceof ct)&&(n.$from.parent.inlineContent||(o=ly(l,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=ly(l,n.to))),l.docView.setSelection(r,a,l,t),iy&&(o&&ry(o),c&&ry(c)),n.visible?l.dom.classList.remove("ProseMirror-hideselection"):(l.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&wx(l))}l.domObserver.setCurSelection(),l.domObserver.connectSelection()}}const iy=de||ee&&Y0<63;function ly(l,t){let{node:n,offset:r}=l.docView.domFromPos(t,0),a=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(de&&a&&a.contentEditable=="false")return cf(a);if((!a||a.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(a)return cf(a);if(o)return cf(o)}}function cf(l){return l.contentEditable="true",de&&l.draggable&&(l.draggable=!1,l.wasDraggable=!0),l}function ry(l){l.contentEditable="false",l.wasDraggable&&(l.draggable=!0,l.wasDraggable=null)}function wx(l){let t=l.dom.ownerDocument;t.removeEventListener("selectionchange",l.input.hideSelectionGuard);let n=l.domSelectionRange(),r=n.anchorNode,a=n.anchorOffset;t.addEventListener("selectionchange",l.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=a)&&(t.removeEventListener("selectionchange",l.input.hideSelectionGuard),setTimeout(()=>{(!e1(l)||l.state.selection.visible)&&l.dom.classList.remove("ProseMirror-hideselection")},20))})}function Rx(l){let t=l.domSelection();if(!t)return;let n=l.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,ce(n)+1):t.collapse(n,0),!r&&!l.state.selection.visible&&De&&vi<=11&&(n.disabled=!0,n.disabled=!1)}function n1(l,t){if(t instanceof nt){let n=l.docView.descAt(t.from);n!=l.lastSelectedViewDesc&&(sy(l),n&&n.selectNode(),l.lastSelectedViewDesc=n)}else sy(l)}function sy(l){l.lastSelectedViewDesc&&(l.lastSelectedViewDesc.parent&&l.lastSelectedViewDesc.deselectNode(),l.lastSelectedViewDesc=void 0)}function Ff(l,t,n,r){return l.someProp("createSelectionBetween",a=>a(l,t,n))||ct.between(t,n,r)}function ay(l){return l.editable&&!l.hasFocus()?!1:i1(l)}function i1(l){let t=l.domSelectionRange();if(!t.anchorNode)return!1;try{return l.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(l.editable||l.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Bx(l){let t=l.docView.domFromPos(l.state.selection.anchor,0),n=l.domSelectionRange();return il(t.node,t.offset,n.anchorNode,n.anchorOffset)}function wf(l,t){let{$anchor:n,$head:r}=l.selection,a=t>0?n.max(r):n.min(r),o=a.parent.inlineContent?a.depth?l.doc.resolve(t>0?a.after():a.before()):null:a;return o&&yt.findFrom(o,t)}function pi(l,t){return l.dispatch(l.state.tr.setSelection(t).scrollIntoView()),!0}function oy(l,t,n){let r=l.state.selection;if(r instanceof ct)if(n.indexOf("s")>-1){let{$head:a}=r,o=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let c=l.state.doc.resolve(a.pos+o.nodeSize*(t<0?-1:1));return pi(l,new ct(r.$anchor,c))}else if(r.empty){if(l.endOfTextblock(t>0?"forward":"backward")){let a=wf(l.state,t);return a&&a instanceof nt?pi(l,a):!1}else if(!(Pe&&n.indexOf("m")>-1)){let a=r.$head,o=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter,c;if(!o||o.isText)return!1;let f=t<0?a.pos-o.nodeSize:a.pos;return o.isAtom||(c=l.docView.descAt(f))&&!c.contentDOM?nt.isSelectable(o)?pi(l,new nt(t<0?l.state.doc.resolve(a.pos-o.nodeSize):a)):Ms?pi(l,new ct(l.state.doc.resolve(t<0?f:f+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof nt&&r.node.isInline)return pi(l,new ct(t>0?r.$to:r.$from));{let a=wf(l.state,t);return a?pi(l,a):!1}}}function oo(l){return l.nodeType==3?l.nodeValue.length:l.childNodes.length}function cs(l,t){let n=l.pmViewDesc;return n&&n.size==0&&(t<0||l.nextSibling||l.nodeName!="BR")}function Ql(l,t){return t<0?_x(l):Ux(l)}function _x(l){let t=l.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let a,o,c=!1;for(en&&n.nodeType==1&&r<oo(n)&&cs(n.childNodes[r],-1)&&(c=!0);;)if(r>0){if(n.nodeType!=1)break;{let f=n.childNodes[r-1];if(cs(f,-1))a=n,o=--r;else if(f.nodeType==3)n=f,r=n.nodeValue.length;else break}}else{if(l1(n))break;{let f=n.previousSibling;for(;f&&cs(f,-1);)a=n.parentNode,o=ce(f),f=f.previousSibling;if(f)n=f,r=oo(n);else{if(n=n.parentNode,n==l.dom)break;r=0}}}c?Rf(l,n,r):a&&Rf(l,a,o)}function Ux(l){let t=l.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let a=oo(n),o,c;for(;;)if(r<a){if(n.nodeType!=1)break;let f=n.childNodes[r];if(cs(f,1))o=n,c=++r;else break}else{if(l1(n))break;{let f=n.nextSibling;for(;f&&cs(f,1);)o=f.parentNode,c=ce(f)+1,f=f.nextSibling;if(f)n=f,r=0,a=oo(n);else{if(n=n.parentNode,n==l.dom)break;r=a=0}}}o&&Rf(l,o,c)}function l1(l){let t=l.pmViewDesc;return t&&t.node&&t.node.isBlock}function Vx(l,t){for(;l&&t==l.childNodes.length&&!xs(l);)t=ce(l)+1,l=l.parentNode;for(;l&&t<l.childNodes.length;){let n=l.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;l=n,t=0}}function jx(l,t){for(;l&&!t&&!xs(l);)t=ce(l),l=l.parentNode;for(;l&&t;){let n=l.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;l=n,t=l.childNodes.length}}function Rf(l,t,n){if(t.nodeType!=3){let o,c;(c=Vx(t,n))?(t=c,n=0):(o=jx(t,n))&&(t=o,n=o.nodeValue.length)}let r=l.domSelection();if(!r)return;if(Eo(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);l.domObserver.setCurSelection();let{state:a}=l;setTimeout(()=>{l.state==a&&Hn(l)},50)}function uy(l,t){let n=l.state.doc.resolve(t);if(!(ee||G0)&&n.parent.inlineContent){let a=l.coordsAtPos(t);if(t>n.start()){let o=l.coordsAtPos(t-1),c=(o.top+o.bottom)/2;if(c>a.top&&c<a.bottom&&Math.abs(o.left-a.left)>1)return o.left<a.left?"ltr":"rtl"}if(t<n.end()){let o=l.coordsAtPos(t+1),c=(o.top+o.bottom)/2;if(c>a.top&&c<a.bottom&&Math.abs(o.left-a.left)>1)return o.left>a.left?"ltr":"rtl"}}return getComputedStyle(l.dom).direction=="rtl"?"rtl":"ltr"}function cy(l,t,n){let r=l.state.selection;if(r instanceof ct&&!r.empty||n.indexOf("s")>-1||Pe&&n.indexOf("m")>-1)return!1;let{$from:a,$to:o}=r;if(!a.parent.inlineContent||l.endOfTextblock(t<0?"up":"down")){let c=wf(l.state,t);if(c&&c instanceof nt)return pi(l,c)}if(!a.parent.inlineContent){let c=t<0?a:o,f=r instanceof Ye?yt.near(c,t):yt.findFrom(c,t);return f?pi(l,f):!1}return!1}function fy(l,t){if(!(l.state.selection instanceof ct))return!0;let{$head:n,$anchor:r,empty:a}=l.state.selection;if(!n.sameParent(r))return!0;if(!a)return!1;if(l.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let c=l.state.tr;return t<0?c.delete(n.pos-o.nodeSize,n.pos):c.delete(n.pos,n.pos+o.nodeSize),l.dispatch(c),!0}return!1}function dy(l,t,n){l.domObserver.stop(),t.contentEditable=n,l.domObserver.start()}function qx(l){if(!de||l.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=l.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;dy(l,r,"true"),setTimeout(()=>dy(l,r,"false"),20)}return!1}function Hx(l){let t="";return l.ctrlKey&&(t+="c"),l.metaKey&&(t+="m"),l.altKey&&(t+="a"),l.shiftKey&&(t+="s"),t}function Lx(l,t){let n=t.keyCode,r=Hx(t);if(n==8||Pe&&n==72&&r=="c")return fy(l,-1)||Ql(l,-1);if(n==46&&!t.shiftKey||Pe&&n==68&&r=="c")return fy(l,1)||Ql(l,1);if(n==13||n==27)return!0;if(n==37||Pe&&n==66&&r=="c"){let a=n==37?uy(l,l.state.selection.from)=="ltr"?-1:1:-1;return oy(l,a,r)||Ql(l,a)}else if(n==39||Pe&&n==70&&r=="c"){let a=n==39?uy(l,l.state.selection.from)=="ltr"?1:-1:1;return oy(l,a,r)||Ql(l,a)}else{if(n==38||Pe&&n==80&&r=="c")return cy(l,-1,r)||Ql(l,-1);if(n==40||Pe&&n==78&&r=="c")return qx(l)||cy(l,1,r)||Ql(l,1);if(r==(Pe?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Wf(l,t){l.someProp("transformCopied",v=>{t=v(t,l)});let n=[],{content:r,openStart:a,openEnd:o}=t;for(;a>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){a--,o--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let c=l.someProp("clipboardSerializer")||rl.fromSchema(l.state.schema),f=c1(),d=f.createElement("div");d.appendChild(c.serializeFragment(r,{document:f}));let m=d.firstChild,g,y=0;for(;m&&m.nodeType==1&&(g=u1[m.nodeName.toLowerCase()]);){for(let v=g.length-1;v>=0;v--){let E=f.createElement(g[v]);for(;d.firstChild;)E.appendChild(d.firstChild);d.appendChild(E),y++}m=d.firstChild}m&&m.nodeType==1&&m.setAttribute("data-pm-slice",`${a} ${o}${y?` -${y}`:""} ${JSON.stringify(n)}`);let S=l.someProp("clipboardTextSerializer",v=>v(t,l))||t.content.textBetween(0,t.content.size,`

`);return{dom:d,text:S,slice:t}}function r1(l,t,n,r,a){let o=a.parent.type.spec.code,c,f;if(!n&&!t)return null;let d=!!t&&(r||o||!n);if(d){if(l.someProp("transformPastedText",S=>{t=S(t,o||r,l)}),o)return f=new Q(L.from(l.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),l.someProp("transformPasted",S=>{f=S(f,l,!0)}),f;let y=l.someProp("clipboardTextParser",S=>S(t,a,r,l));if(y)f=y;else{let S=a.marks(),{schema:v}=l.state,E=rl.fromSchema(v);c=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(M=>{let T=c.appendChild(document.createElement("p"));M&&T.appendChild(E.serializeNode(v.text(M,S)))})}}else l.someProp("transformPastedHTML",y=>{n=y(n,l)}),c=Jx(n),Ms&&Kx(c);let m=c&&c.querySelector("[data-pm-slice]"),g=m&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(m.getAttribute("data-pm-slice")||"");if(g&&g[3])for(let y=+g[3];y>0;y--){let S=c.firstChild;for(;S&&S.nodeType!=1;)S=S.nextSibling;if(!S)break;c=S}if(f||(f=(l.someProp("clipboardParser")||l.someProp("domParser")||Si.fromSchema(l.state.schema)).parseSlice(c,{preserveWhitespace:!!(d||g),context:a,ruleFromNode(S){return S.nodeName=="BR"&&!S.nextSibling&&S.parentNode&&!Yx.test(S.parentNode.nodeName)?{ignore:!0}:null}})),g)f=Qx(hy(f,+g[1],+g[2]),g[4]);else if(f=Q.maxOpen(Gx(f.content,a),!0),f.openStart||f.openEnd){let y=0,S=0;for(let v=f.content.firstChild;y<f.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=f.content.lastChild;S<f.openEnd&&!v.type.spec.isolating;S++,v=v.lastChild);f=hy(f,y,S)}return l.someProp("transformPasted",y=>{f=y(f,l,d)}),f}const Yx=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Gx(l,t){if(l.childCount<2)return l;for(let n=t.depth;n>=0;n--){let a=t.node(n).contentMatchAt(t.index(n)),o,c=[];if(l.forEach(f=>{if(!c)return;let d=a.findWrapping(f.type),m;if(!d)return c=null;if(m=c.length&&o.length&&a1(d,o,f,c[c.length-1],0))c[c.length-1]=m;else{c.length&&(c[c.length-1]=o1(c[c.length-1],o.length));let g=s1(f,d);c.push(g),a=a.matchType(g.type),o=d}}),c)return L.from(c)}return l}function s1(l,t,n=0){for(let r=t.length-1;r>=n;r--)l=t[r].create(null,L.from(l));return l}function a1(l,t,n,r,a){if(a<l.length&&a<t.length&&l[a]==t[a]){let o=a1(l,t,n,r.lastChild,a+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(a==l.length-1?n.type:l[a+1]))return r.copy(r.content.append(L.from(s1(n,l,a+1))))}}function o1(l,t){if(t==0)return l;let n=l.content.replaceChild(l.childCount-1,o1(l.lastChild,t-1)),r=l.contentMatchAt(l.childCount).fillBefore(L.empty,!0);return l.copy(n.append(r))}function Bf(l,t,n,r,a,o){let c=t<0?l.firstChild:l.lastChild,f=c.content;return l.childCount>1&&(o=0),a<r-1&&(f=Bf(f,t,n,r,a+1,o)),a>=n&&(f=t<0?c.contentMatchAt(0).fillBefore(f,o<=a).append(f):f.append(c.contentMatchAt(c.childCount).fillBefore(L.empty,!0))),l.replaceChild(t<0?0:l.childCount-1,c.copy(f))}function hy(l,t,n){return t<l.openStart&&(l=new Q(Bf(l.content,-1,t,l.openStart,0,l.openEnd),t,l.openEnd)),n<l.openEnd&&(l=new Q(Bf(l.content,1,n,l.openEnd,0,0),l.openStart,n)),l}const u1={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let py=null;function c1(){return py||(py=document.implementation.createHTMLDocument("title"))}let ff=null;function Xx(l){let t=window.trustedTypes;return t?(ff||(ff=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),ff.createHTML(l)):l}function Jx(l){let t=/^(\s*<meta [^>]*>)*/.exec(l);t&&(l=l.slice(t[0].length));let n=c1().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(l),a;if((a=r&&u1[r[1].toLowerCase()])&&(l=a.map(o=>"<"+o+">").join("")+l+a.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=Xx(l),a)for(let o=0;o<a.length;o++)n=n.querySelector(a[o])||n;return n}function Kx(l){let t=l.querySelectorAll(ee?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(l.ownerDocument.createTextNode(" "),r)}}function Qx(l,t){if(!l.size)return l;let n=l.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return l}let{content:a,openStart:o,openEnd:c}=l;for(let f=r.length-2;f>=0;f-=2){let d=n.nodes[r[f]];if(!d||d.hasRequiredAttrs())break;a=L.from(d.create(r[f+1],a)),o++,c++}return new Q(a,o,c)}const Se={},ve={},Zx={touchstart:!0,touchmove:!0};class $x{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ix(l){for(let t in Se){let n=Se[t];l.dom.addEventListener(t,l.input.eventHandlers[t]=r=>{Wx(l,r)&&!Pf(l,r)&&(l.editable||!(r.type in ve))&&n(l,r)},Zx[t]?{passive:!0}:void 0)}de&&l.dom.addEventListener("input",()=>null),_f(l)}function bi(l,t){l.input.lastSelectionOrigin=t,l.input.lastSelectionTime=Date.now()}function Fx(l){l.domObserver.stop();for(let t in l.input.eventHandlers)l.dom.removeEventListener(t,l.input.eventHandlers[t]);clearTimeout(l.input.composingTimeout),clearTimeout(l.input.lastIOSEnterFallbackTimeout)}function _f(l){l.someProp("handleDOMEvents",t=>{for(let n in t)l.input.eventHandlers[n]||l.dom.addEventListener(n,l.input.eventHandlers[n]=r=>Pf(l,r))})}function Pf(l,t){return l.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(l,t)||t.defaultPrevented:!1})}function Wx(l,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=l.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Px(l,t){!Pf(l,t)&&Se[t.type]&&(l.editable||!(t.type in ve))&&Se[t.type](l,t)}ve.keydown=(l,t)=>{let n=t;if(l.input.shiftKey=n.keyCode==16||n.shiftKey,!d1(l,n)&&(l.input.lastKeyCode=n.keyCode,l.input.lastKeyCodeTime=Date.now(),!(jn&&ee&&n.keyCode==13)))if(n.keyCode!=229&&l.domObserver.forceFlush(),nr&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();l.input.lastIOSEnter=r,l.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{l.input.lastIOSEnter==r&&(l.someProp("handleKeyDown",a=>a(l,Qi(13,"Enter"))),l.input.lastIOSEnter=0)},200)}else l.someProp("handleKeyDown",r=>r(l,n))||Lx(l,n)?n.preventDefault():bi(l,"key")};ve.keyup=(l,t)=>{t.keyCode==16&&(l.input.shiftKey=!1)};ve.keypress=(l,t)=>{let n=t;if(d1(l,n)||!n.charCode||n.ctrlKey&&!n.altKey||Pe&&n.metaKey)return;if(l.someProp("handleKeyPress",a=>a(l,n))){n.preventDefault();return}let r=l.state.selection;if(!(r instanceof ct)||!r.$from.sameParent(r.$to)){let a=String.fromCharCode(n.charCode),o=()=>l.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!l.someProp("handleTextInput",c=>c(l,r.$from.pos,r.$to.pos,a,o))&&l.dispatch(o()),n.preventDefault()}};function Mo(l){return{left:l.clientX,top:l.clientY}}function tM(l,t){let n=t.x-l.clientX,r=t.y-l.clientY;return n*n+r*r<100}function td(l,t,n,r,a){if(r==-1)return!1;let o=l.state.doc.resolve(r);for(let c=o.depth+1;c>0;c--)if(l.someProp(t,f=>c>o.depth?f(l,n,o.nodeAfter,o.before(c),a,!0):f(l,n,o.node(c),o.before(c),a,!1)))return!0;return!1}function Wl(l,t,n){if(l.focused||l.focus(),l.state.selection.eq(t))return;let r=l.state.tr.setSelection(t);r.setMeta("pointer",!0),l.dispatch(r)}function eM(l,t){if(t==-1)return!1;let n=l.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&nt.isSelectable(r)?(Wl(l,new nt(n)),!0):!1}function nM(l,t){if(t==-1)return!1;let n=l.state.selection,r,a;n instanceof nt&&(r=n.node);let o=l.state.doc.resolve(t);for(let c=o.depth+1;c>0;c--){let f=c>o.depth?o.nodeAfter:o.node(c);if(nt.isSelectable(f)){r&&n.$from.depth>0&&c>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?a=o.before(n.$from.depth):a=o.before(c);break}}return a!=null?(Wl(l,nt.create(l.state.doc,a)),!0):!1}function iM(l,t,n,r,a){return td(l,"handleClickOn",t,n,r)||l.someProp("handleClick",o=>o(l,t,r))||(a?nM(l,n):eM(l,n))}function lM(l,t,n,r){return td(l,"handleDoubleClickOn",t,n,r)||l.someProp("handleDoubleClick",a=>a(l,t,r))}function rM(l,t,n,r){return td(l,"handleTripleClickOn",t,n,r)||l.someProp("handleTripleClick",a=>a(l,t,r))||sM(l,n,r)}function sM(l,t,n){if(n.button!=0)return!1;let r=l.state.doc;if(t==-1)return r.inlineContent?(Wl(l,ct.create(r,0,r.content.size)),!0):!1;let a=r.resolve(t);for(let o=a.depth+1;o>0;o--){let c=o>a.depth?a.nodeAfter:a.node(o),f=a.before(o);if(c.inlineContent)Wl(l,ct.create(r,f+1,f+1+c.content.size));else if(nt.isSelectable(c))Wl(l,nt.create(r,f));else continue;return!0}}function ed(l){return uo(l)}const f1=Pe?"metaKey":"ctrlKey";Se.mousedown=(l,t)=>{let n=t;l.input.shiftKey=n.shiftKey;let r=ed(l),a=Date.now(),o="singleClick";a-l.input.lastClick.time<500&&tM(n,l.input.lastClick)&&!n[f1]&&l.input.lastClick.button==n.button&&(l.input.lastClick.type=="singleClick"?o="doubleClick":l.input.lastClick.type=="doubleClick"&&(o="tripleClick")),l.input.lastClick={time:a,x:n.clientX,y:n.clientY,type:o,button:n.button};let c=l.posAtCoords(Mo(n));c&&(o=="singleClick"?(l.input.mouseDown&&l.input.mouseDown.done(),l.input.mouseDown=new aM(l,c,n,!!r)):(o=="doubleClick"?lM:rM)(l,c.pos,c.inside,n)?n.preventDefault():bi(l,"pointer"))};class aM{constructor(t,n,r,a){this.view=t,this.pos=n,this.event=r,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[f1],this.allowDefault=r.shiftKey;let o,c;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),c=n.inside;else{let g=t.state.doc.resolve(n.pos);o=g.parent,c=g.depth?g.before():0}const f=a?null:r.target,d=f?t.docView.nearestDesc(f,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:m}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||m instanceof nt&&m.from<=c&&m.to>c)&&(this.mightDrag={node:o,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&en&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),bi(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Hn(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Mo(t))),this.updateAllowDefault(t),this.allowDefault||!n?bi(this.view,"pointer"):iM(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||de&&this.mightDrag&&!this.mightDrag.node.isAtom||ee&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Wl(this.view,yt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):bi(this.view,"pointer")}move(t){this.updateAllowDefault(t),bi(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Se.touchstart=l=>{l.input.lastTouch=Date.now(),ed(l),bi(l,"pointer")};Se.touchmove=l=>{l.input.lastTouch=Date.now(),bi(l,"pointer")};Se.contextmenu=l=>ed(l);function d1(l,t){return l.composing?!0:de&&Math.abs(t.timeStamp-l.input.compositionEndedAt)<500?(l.input.compositionEndedAt=-2e8,!0):!1}const oM=jn?5e3:-1;ve.compositionstart=ve.compositionupdate=l=>{if(!l.composing){l.domObserver.flush();let{state:t}=l,n=t.selection.$to;if(t.selection instanceof ct&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||ee&&G0&&uM(l)))l.markCursor=l.state.storedMarks||n.marks(),uo(l,!0),l.markCursor=null;else if(uo(l,!t.selection.empty),en&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=l.domSelectionRange();for(let a=r.focusNode,o=r.focusOffset;a&&a.nodeType==1&&o!=0;){let c=o<0?a.lastChild:a.childNodes[o-1];if(!c)break;if(c.nodeType==3){let f=l.domSelection();f&&f.collapse(c,c.nodeValue.length);break}else a=c,o=-1}}l.input.composing=!0}h1(l,oM)};function uM(l){let{focusNode:t,focusOffset:n}=l.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}ve.compositionend=(l,t)=>{l.composing&&(l.input.composing=!1,l.input.compositionEndedAt=t.timeStamp,l.input.compositionPendingChanges=l.domObserver.pendingRecords().length?l.input.compositionID:0,l.input.compositionNode=null,l.input.badSafariComposition?l.domObserver.forceFlush():l.input.compositionPendingChanges&&Promise.resolve().then(()=>l.domObserver.flush()),l.input.compositionID++,h1(l,20))};function h1(l,t){clearTimeout(l.input.composingTimeout),t>-1&&(l.input.composingTimeout=setTimeout(()=>uo(l),t))}function p1(l){for(l.composing&&(l.input.composing=!1,l.input.compositionEndedAt=fM());l.input.compositionNodes.length>0;)l.input.compositionNodes.pop().markParentsDirty()}function cM(l){let t=l.domSelectionRange();if(!t.focusNode)return null;let n=nx(t.focusNode,t.focusOffset),r=ix(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let a=r.pmViewDesc,o=l.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!a||!a.isText(r.nodeValue))return r;if(l.input.compositionNode==r){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return r}}return n||r}function fM(){let l=document.createEvent("Event");return l.initEvent("event",!0,!0),l.timeStamp}function uo(l,t=!1){if(!(jn&&l.domObserver.flushingSoon>=0)){if(l.domObserver.forceFlush(),p1(l),t||l.docView&&l.docView.dirty){let n=If(l),r=l.state.selection;return n&&!n.eq(r)?l.dispatch(l.state.tr.setSelection(n)):(l.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?l.dispatch(l.state.tr.deleteSelection()):l.updateState(l.state),!0}return!1}}function dM(l,t){if(!l.dom.parentNode)return;let n=l.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),a=document.createRange();a.selectNodeContents(t),l.dom.blur(),r.removeAllRanges(),r.addRange(a),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),l.focus()},50)}const ps=De&&vi<15||nr&&ax<604;Se.copy=ve.cut=(l,t)=>{let n=t,r=l.state.selection,a=n.type=="cut";if(r.empty)return;let o=ps?null:n.clipboardData,c=r.content(),{dom:f,text:d}=Wf(l,c);o?(n.preventDefault(),o.clearData(),o.setData("text/html",f.innerHTML),o.setData("text/plain",d)):dM(l,f),a&&l.dispatch(l.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function hM(l){return l.openStart==0&&l.openEnd==0&&l.content.childCount==1?l.content.firstChild:null}function pM(l,t){if(!l.dom.parentNode)return;let n=l.input.shiftKey||l.state.selection.$from.parent.type.spec.code,r=l.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let a=l.input.shiftKey&&l.input.lastKeyCode!=45;setTimeout(()=>{l.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ms(l,r.value,null,a,t):ms(l,r.textContent,r.innerHTML,a,t)},50)}function ms(l,t,n,r,a){let o=r1(l,t,n,r,l.state.selection.$from);if(l.someProp("handlePaste",d=>d(l,a,o||Q.empty)))return!0;if(!o)return!1;let c=hM(o),f=c?l.state.tr.replaceSelectionWith(c,r):l.state.tr.replaceSelection(o);return l.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function m1(l){let t=l.getData("text/plain")||l.getData("Text");if(t)return t;let n=l.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ve.paste=(l,t)=>{let n=t;if(l.composing&&!jn)return;let r=ps?null:n.clipboardData,a=l.input.shiftKey&&l.input.lastKeyCode!=45;r&&ms(l,m1(r),r.getData("text/html"),a,n)?n.preventDefault():pM(l,n)};class g1{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const mM=Pe?"altKey":"ctrlKey";function y1(l,t){let n=l.someProp("dragCopies",r=>!r(t));return n??!t[mM]}Se.dragstart=(l,t)=>{let n=t,r=l.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let a=l.state.selection,o=a.empty?null:l.posAtCoords(Mo(n)),c;if(!(o&&o.pos>=a.from&&o.pos<=(a instanceof nt?a.to-1:a.to))){if(r&&r.mightDrag)c=nt.create(l.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let y=l.docView.nearestDesc(n.target,!0);y&&y.node.type.spec.draggable&&y!=l.docView&&(c=nt.create(l.state.doc,y.posBefore))}}let f=(c||l.state.selection).content(),{dom:d,text:m,slice:g}=Wf(l,f);(!n.dataTransfer.files.length||!ee||Y0>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ps?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",ps||n.dataTransfer.setData("text/plain",m),l.dragging=new g1(g,y1(l,n),c)};Se.dragend=l=>{let t=l.dragging;window.setTimeout(()=>{l.dragging==t&&(l.dragging=null)},50)};ve.dragover=ve.dragenter=(l,t)=>t.preventDefault();ve.drop=(l,t)=>{try{gM(l,t,l.dragging)}finally{l.dragging=null}};function gM(l,t,n){if(!t.dataTransfer)return;let r=l.posAtCoords(Mo(t));if(!r)return;let a=l.state.doc.resolve(r.pos),o=n&&n.slice;o?l.someProp("transformPasted",v=>{o=v(o,l,!1)}):o=r1(l,m1(t.dataTransfer),ps?null:t.dataTransfer.getData("text/html"),!1,a);let c=!!(n&&y1(l,t));if(l.someProp("handleDrop",v=>v(l,t,o||Q.empty,c))){t.preventDefault();return}if(!o)return;t.preventDefault();let f=o?ME(l.state.doc,a.pos,o):a.pos;f==null&&(f=a.pos);let d=l.state.tr;if(c){let{node:v}=n;v?v.replace(d):d.deleteSelection()}let m=d.mapping.map(f),g=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,y=d.doc;if(g?d.replaceRangeWith(m,m,o.content.firstChild):d.replaceRange(m,m,o),d.doc.eq(y))return;let S=d.doc.resolve(m);if(g&&nt.isSelectable(o.content.firstChild)&&S.nodeAfter&&S.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new nt(S));else{let v=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((E,M,T,N)=>v=N),d.setSelection(Ff(l,S,d.doc.resolve(v)))}l.focus(),l.dispatch(d.setMeta("uiEvent","drop"))}Se.focus=l=>{l.input.lastFocus=Date.now(),l.focused||(l.domObserver.stop(),l.dom.classList.add("ProseMirror-focused"),l.domObserver.start(),l.focused=!0,setTimeout(()=>{l.docView&&l.hasFocus()&&!l.domObserver.currentSelection.eq(l.domSelectionRange())&&Hn(l)},20))};Se.blur=(l,t)=>{let n=t;l.focused&&(l.domObserver.stop(),l.dom.classList.remove("ProseMirror-focused"),l.domObserver.start(),n.relatedTarget&&l.dom.contains(n.relatedTarget)&&l.domObserver.currentSelection.clear(),l.focused=!1)};Se.beforeinput=(l,t)=>{if(ee&&jn&&t.inputType=="deleteContentBackward"){l.domObserver.flushSoon();let{domChangeCount:r}=l.input;setTimeout(()=>{if(l.input.domChangeCount!=r||(l.dom.blur(),l.focus(),l.someProp("handleKeyDown",o=>o(l,Qi(8,"Backspace")))))return;let{$cursor:a}=l.state.selection;a&&a.pos>0&&l.dispatch(l.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let l in ve)Se[l]=ve[l];function gs(l,t){if(l==t)return!0;for(let n in l)if(l[n]!==t[n])return!1;for(let n in t)if(!(n in l))return!1;return!0}class co{constructor(t,n){this.toDOM=t,this.spec=n||Pi,this.side=this.spec.side||0}map(t,n,r,a){let{pos:o,deleted:c}=t.mapResult(n.from+a,this.side<0?-1:1);return c?null:new on(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof co&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&gs(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class xi{constructor(t,n){this.attrs=t,this.spec=n||Pi}map(t,n,r,a){let o=t.map(n.from+a,this.spec.inclusiveStart?-1:1)-r,c=t.map(n.to+a,this.spec.inclusiveEnd?1:-1)-r;return o>=c?null:new on(o,c,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof xi&&gs(this.attrs,t.attrs)&&gs(this.spec,t.spec)}static is(t){return t.type instanceof xi}destroy(){}}class nd{constructor(t,n){this.attrs=t,this.spec=n||Pi}map(t,n,r,a){let o=t.mapResult(n.from+a,1);if(o.deleted)return null;let c=t.mapResult(n.to+a,-1);return c.deleted||c.pos<=o.pos?null:new on(o.pos-r,c.pos-r,this)}valid(t,n){let{index:r,offset:a}=t.content.findIndex(n.from),o;return a==n.from&&!(o=t.child(r)).isText&&a+o.nodeSize==n.to}eq(t){return this==t||t instanceof nd&&gs(this.attrs,t.attrs)&&gs(this.spec,t.spec)}destroy(){}}class on{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new on(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new on(t,t,new co(n,r))}static inline(t,n,r,a){return new on(t,n,new xi(r,a))}static node(t,n,r,a){return new on(t,n,new nd(r,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof xi}get widget(){return this.type instanceof co}}const $l=[],Pi={};class Pt{constructor(t,n){this.local=t.length?t:$l,this.children=n.length?n:$l}static create(t,n){return n.length?fo(n,t,0,Pi):me}find(t,n,r){let a=[];return this.findInner(t??0,n??1e9,a,0,r),a}findInner(t,n,r,a,o){for(let c=0;c<this.local.length;c++){let f=this.local[c];f.from<=n&&f.to>=t&&(!o||o(f.spec))&&r.push(f.copy(f.from+a,f.to+a))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>t){let f=this.children[c]+1;this.children[c+2].findInner(t-f,n-f,r,a+f,o)}}map(t,n,r){return this==me||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Pi)}mapInner(t,n,r,a,o){let c;for(let f=0;f<this.local.length;f++){let d=this.local[f].map(t,r,a);d&&d.type.valid(n,d)?(c||(c=[])).push(d):o.onRemove&&o.onRemove(this.local[f].spec)}return this.children.length?yM(this.children,c||[],t,n,r,a,o):c?new Pt(c.sort(tl),$l):me}add(t,n){return n.length?this==me?Pt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let a,o=0;t.forEach((f,d)=>{let m=d+r,g;if(g=S1(n,f,m)){for(a||(a=this.children.slice());o<a.length&&a[o]<d;)o+=3;a[o]==d?a[o+2]=a[o+2].addInner(f,g,m+1):a.splice(o,0,d,d+f.nodeSize,fo(g,f,m+1,Pi)),o+=3}});let c=b1(o?v1(n):n,-r);for(let f=0;f<c.length;f++)c[f].type.valid(t,c[f])||c.splice(f--,1);return new Pt(c.length?this.local.concat(c).sort(tl):this.local,a||this.children)}remove(t){return t.length==0||this==me?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,a=this.local;for(let o=0;o<r.length;o+=3){let c,f=r[o]+n,d=r[o+1]+n;for(let g=0,y;g<t.length;g++)(y=t[g])&&y.from>f&&y.to<d&&(t[g]=null,(c||(c=[])).push(y));if(!c)continue;r==this.children&&(r=this.children.slice());let m=r[o+2].removeInner(c,f+1);m!=me?r[o+2]=m:(r.splice(o,3),o-=3)}if(a.length){for(let o=0,c;o<t.length;o++)if(c=t[o])for(let f=0;f<a.length;f++)a[f].eq(c,n)&&(a==this.local&&(a=this.local.slice()),a.splice(f--,1))}return r==this.children&&a==this.local?this:a.length||r.length?new Pt(a,r):me}forChild(t,n){if(this==me)return this;if(n.isLeaf)return Pt.empty;let r,a;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=t){this.children[f]==t&&(r=this.children[f+2]);break}let o=t+1,c=o+n.content.size;for(let f=0;f<this.local.length;f++){let d=this.local[f];if(d.from<c&&d.to>o&&d.type instanceof xi){let m=Math.max(o,d.from)-o,g=Math.min(c,d.to)-o;m<g&&(a||(a=[])).push(d.copy(m,g))}}if(a){let f=new Pt(a.sort(tl),$l);return r?new mi([f,r]):f}return r||me}eq(t){if(this==t)return!0;if(!(t instanceof Pt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return id(this.localsInner(t))}localsInner(t){if(this==me)return $l;if(t.inlineContent||!this.local.some(xi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof xi||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Pt.empty=new Pt([],[]);Pt.removeOverlap=id;const me=Pt.empty;class mi{constructor(t){this.members=t}map(t,n){const r=this.members.map(a=>a.map(t,n,Pi));return mi.from(r)}forChild(t,n){if(n.isLeaf)return Pt.empty;let r=[];for(let a=0;a<this.members.length;a++){let o=this.members[a].forChild(t,n);o!=me&&(o instanceof mi?r=r.concat(o.members):r.push(o))}return mi.from(r)}eq(t){if(!(t instanceof mi)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let a=0;a<this.members.length;a++){let o=this.members[a].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let c=0;c<o.length;c++)n.push(o[c])}}return n?id(r?n:n.sort(tl)):$l}static from(t){switch(t.length){case 0:return me;case 1:return t[0];default:return new mi(t.every(n=>n instanceof Pt)?t:t.reduce((n,r)=>n.concat(r instanceof Pt?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function yM(l,t,n,r,a,o,c){let f=l.slice();for(let m=0,g=o;m<n.maps.length;m++){let y=0;n.maps[m].forEach((S,v,E,M)=>{let T=M-E-(v-S);for(let N=0;N<f.length;N+=3){let H=f[N+1];if(H<0||S>H+g-y)continue;let Y=f[N]+g-y;v>=Y?f[N+1]=S<=Y?-2:-1:S>=g&&T&&(f[N]+=T,f[N+1]+=T)}y+=T}),g=n.maps[m].map(g,-1)}let d=!1;for(let m=0;m<f.length;m+=3)if(f[m+1]<0){if(f[m+1]==-2){d=!0,f[m+1]=-1;continue}let g=n.map(l[m]+o),y=g-a;if(y<0||y>=r.content.size){d=!0;continue}let S=n.map(l[m+1]+o,-1),v=S-a,{index:E,offset:M}=r.content.findIndex(y),T=r.maybeChild(E);if(T&&M==y&&M+T.nodeSize==v){let N=f[m+2].mapInner(n,T,g+1,l[m]+o+1,c);N!=me?(f[m]=y,f[m+1]=v,f[m+2]=N):(f[m+1]=-2,d=!0)}else d=!0}if(d){let m=bM(f,l,t,n,a,o,c),g=fo(m,r,0,c);t=g.local;for(let y=0;y<f.length;y+=3)f[y+1]<0&&(f.splice(y,3),y-=3);for(let y=0,S=0;y<g.children.length;y+=3){let v=g.children[y];for(;S<f.length&&f[S]<v;)S+=3;f.splice(S,0,g.children[y],g.children[y+1],g.children[y+2])}}return new Pt(t.sort(tl),f)}function b1(l,t){if(!t||!l.length)return l;let n=[];for(let r=0;r<l.length;r++){let a=l[r];n.push(new on(a.from+t,a.to+t,a.type))}return n}function bM(l,t,n,r,a,o,c){function f(d,m){for(let g=0;g<d.local.length;g++){let y=d.local[g].map(r,a,m);y?n.push(y):c.onRemove&&c.onRemove(d.local[g].spec)}for(let g=0;g<d.children.length;g+=3)f(d.children[g+2],d.children[g]+m+1)}for(let d=0;d<l.length;d+=3)l[d+1]==-1&&f(l[d+2],t[d]+o+1);return n}function S1(l,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,a=null;for(let o=0,c;o<l.length;o++)(c=l[o])&&c.from>n&&c.to<r&&((a||(a=[])).push(c),l[o]=null);return a}function v1(l){let t=[];for(let n=0;n<l.length;n++)l[n]!=null&&t.push(l[n]);return t}function fo(l,t,n,r){let a=[],o=!1;t.forEach((f,d)=>{let m=S1(l,f,d+n);if(m){o=!0;let g=fo(m,f,n+d+1,r);g!=me&&a.push(d,d+f.nodeSize,g)}});let c=b1(o?v1(l):l,-n).sort(tl);for(let f=0;f<c.length;f++)c[f].type.valid(t,c[f])||(r.onRemove&&r.onRemove(c[f].spec),c.splice(f--,1));return c.length||a.length?new Pt(c,a):me}function tl(l,t){return l.from-t.from||l.to-t.to}function id(l){let t=l;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let a=n+1;a<t.length;a++){let o=t[a];if(o.from==r.from){o.to!=r.to&&(t==l&&(t=l.slice()),t[a]=o.copy(o.from,r.to),my(t,a+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==l&&(t=l.slice()),t[n]=r.copy(r.from,o.from),my(t,a,r.copy(o.from,r.to)));break}}}return t}function my(l,t,n){for(;t<l.length&&tl(n,l[t])>0;)t++;l.splice(t,0,n)}function df(l){let t=[];return l.someProp("decorations",n=>{let r=n(l.state);r&&r!=me&&t.push(r)}),l.cursorWrapper&&t.push(Pt.create(l.state.doc,[l.cursorWrapper.deco])),mi.from(t)}const SM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},vM=De&&vi<=11;class EM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class xM{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new EM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let a=0;a<r.length;a++)this.queue.push(r[a]);De&&vi<=11&&r.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():de&&t.composing&&r.some(a=>a.type=="childList"&&a.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),vM&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,SM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ay(this.view)){if(this.suppressingSelectionUpdates)return Hn(this.view);if(De&&vi<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&il(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=er(o))n.add(o);for(let o=t.anchorNode;o;o=er(o))if(n.has(o)){r=o;break}let a=r&&this.view.docView.nearestDesc(r);if(a&&a.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&ay(t)&&!this.ignoreSelectionChange(r),o=-1,c=-1,f=!1,d=[];if(t.editable)for(let g=0;g<n.length;g++){let y=this.registerMutation(n[g],d);y&&(o=o<0?y.from:Math.min(y.from,o),c=c<0?y.to:Math.max(y.to,c),y.typeOver&&(f=!0))}if(en&&d.length){let g=d.filter(y=>y.nodeName=="BR");if(g.length==2){let[y,S]=g;y.parentNode&&y.parentNode.parentNode==S.parentNode?S.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let S of g){let v=S.parentNode;v&&v.nodeName=="LI"&&(!y||CM(t,y)!=v)&&S.remove()}}}else if((ee||de)&&d.some(g=>g.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let g of d)if(g.nodeName=="BR"&&g.parentNode){let y=g.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&g.parentNode.removeChild(g)}}let m=null;o<0&&a&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Eo(r)&&(m=If(t))&&m.eq(yt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Hn(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||a)&&(o>-1&&(t.docView.markDirty(o,c),MM(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,OM(t,d)),this.handleDOMChange(o,c,f,d),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Hn(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let g=0;g<t.addedNodes.length;g++){let y=t.addedNodes[g];n.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let a=t.previousSibling,o=t.nextSibling;if(De&&vi<=11&&t.addedNodes.length)for(let g=0;g<t.addedNodes.length;g++){let{previousSibling:y,nextSibling:S}=t.addedNodes[g];(!y||Array.prototype.indexOf.call(t.addedNodes,y)<0)&&(a=y),(!S||Array.prototype.indexOf.call(t.addedNodes,S)<0)&&(o=S)}let c=a&&a.parentNode==t.target?ce(a)+1:0,f=r.localPosFromDOM(t.target,c,-1),d=o&&o.parentNode==t.target?ce(o):t.target.childNodes.length,m=r.localPosFromDOM(t.target,d,1);return{from:f,to:m}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let gy=new WeakMap,yy=!1;function MM(l){if(!gy.has(l)&&(gy.set(l,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(l.dom).whiteSpace)!==-1)){if(l.requiresGeckoHackNode=en,yy)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yy=!0}}function by(l,t){let n=t.startContainer,r=t.startOffset,a=t.endContainer,o=t.endOffset,c=l.domAtPos(l.state.selection.anchor);return il(c.node,c.offset,a,o)&&([n,r,a,o]=[a,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:o}}function TM(l,t){if(t.getComposedRanges){let a=t.getComposedRanges(l.root)[0];if(a)return by(l,a)}let n;function r(a){a.preventDefault(),a.stopImmediatePropagation(),n=a.getTargetRanges()[0]}return l.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),l.dom.removeEventListener("beforeinput",r,!0),n?by(l,n):null}function CM(l,t){for(let n=t.parentNode;n&&n!=l.dom;n=n.parentNode){let r=l.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function OM(l,t){var n;let{focusNode:r,focusOffset:a}=l.domSelectionRange();for(let o of t)if(((n=o.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let c=o.nextSibling;for(;c&&c.nodeName!="TD"&&c.nodeName!="TH";)c=c.nextSibling;if(c){let f=c;for(;;){let d=f.firstChild;if(!d||d.nodeType!=1||d.contentEditable=="false"||/^(BR|IMG)$/.test(d.nodeName))break;f=d}f.insertBefore(o,f.firstChild),r==o&&l.domSelection().collapse(o,a)}else o.parentNode.removeChild(o)}}function AM(l,t,n){let{node:r,fromOffset:a,toOffset:o,from:c,to:f}=l.docView.parseRange(t,n),d=l.domSelectionRange(),m,g=d.anchorNode;if(g&&l.dom.contains(g.nodeType==1?g:g.parentNode)&&(m=[{node:g,offset:d.anchorOffset}],Eo(d)||m.push({node:d.focusNode,offset:d.focusOffset})),ee&&l.input.lastKeyCode===8)for(let T=o;T>a;T--){let N=r.childNodes[T-1],H=N.pmViewDesc;if(N.nodeName=="BR"&&!H){o=T;break}if(!H||H.size)break}let y=l.state.doc,S=l.someProp("domParser")||Si.fromSchema(l.state.schema),v=y.resolve(c),E=null,M=S.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:a,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:m,ruleFromNode:NM,context:v});if(m&&m[0].pos!=null){let T=m[0].pos,N=m[1]&&m[1].pos;N==null&&(N=T),E={anchor:T+c,head:N+c}}return{doc:M,sel:E,from:c,to:f}}function NM(l){let t=l.pmViewDesc;if(t)return t.parseRule();if(l.nodeName=="BR"&&l.parentNode){if(de&&/^(ul|ol)$/i.test(l.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(l.parentNode.lastChild==l||de&&/^(tr|table)$/i.test(l.parentNode.nodeName))return{ignore:!0}}else if(l.nodeName=="IMG"&&l.getAttribute("mark-placeholder"))return{ignore:!0};return null}const DM=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function kM(l,t,n,r,a){let o=l.input.compositionPendingChanges||(l.composing?l.input.compositionID:0);if(l.input.compositionPendingChanges=0,t<0){let q=l.input.lastSelectionTime>Date.now()-50?l.input.lastSelectionOrigin:null,W=If(l,q);if(W&&!l.state.selection.eq(W)){if(ee&&jn&&l.input.lastKeyCode===13&&Date.now()-100<l.input.lastKeyCodeTime&&l.someProp("handleKeyDown",$t=>$t(l,Qi(13,"Enter"))))return;let rt=l.state.tr.setSelection(W);q=="pointer"?rt.setMeta("pointer",!0):q=="key"&&rt.scrollIntoView(),o&&rt.setMeta("composition",o),l.dispatch(rt)}return}let c=l.state.doc.resolve(t),f=c.sharedDepth(n);t=c.before(f+1),n=l.state.doc.resolve(n).after(f+1);let d=l.state.selection,m=AM(l,t,n),g=l.state.doc,y=g.slice(m.from,m.to),S,v;l.input.lastKeyCode===8&&Date.now()-100<l.input.lastKeyCodeTime?(S=l.state.selection.to,v="end"):(S=l.state.selection.from,v="start"),l.input.lastKeyCode=null;let E=RM(y.content,m.doc.content,m.from,S,v);if(E&&l.input.domChangeCount++,(nr&&l.input.lastIOSEnter>Date.now()-225||jn)&&a.some(q=>q.nodeType==1&&!DM.test(q.nodeName))&&(!E||E.endA>=E.endB)&&l.someProp("handleKeyDown",q=>q(l,Qi(13,"Enter")))){l.input.lastIOSEnter=0;return}if(!E)if(r&&d instanceof ct&&!d.empty&&d.$head.sameParent(d.$anchor)&&!l.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))E={start:d.from,endA:d.to,endB:d.to};else{if(m.sel){let q=Sy(l,l.state.doc,m.sel);if(q&&!q.eq(l.state.selection)){let W=l.state.tr.setSelection(q);o&&W.setMeta("composition",o),l.dispatch(W)}}return}l.state.selection.from<l.state.selection.to&&E.start==E.endB&&l.state.selection instanceof ct&&(E.start>l.state.selection.from&&E.start<=l.state.selection.from+2&&l.state.selection.from>=m.from?E.start=l.state.selection.from:E.endA<l.state.selection.to&&E.endA>=l.state.selection.to-2&&l.state.selection.to<=m.to&&(E.endB+=l.state.selection.to-E.endA,E.endA=l.state.selection.to)),De&&vi<=11&&E.endB==E.start+1&&E.endA==E.start&&E.start>m.from&&m.doc.textBetween(E.start-m.from-1,E.start-m.from+1)==" "&&(E.start--,E.endA--,E.endB--);let M=m.doc.resolveNoCache(E.start-m.from),T=m.doc.resolveNoCache(E.endB-m.from),N=g.resolve(E.start),H=M.sameParent(T)&&M.parent.inlineContent&&N.end()>=E.endA;if((nr&&l.input.lastIOSEnter>Date.now()-225&&(!H||a.some(q=>q.nodeName=="DIV"||q.nodeName=="P"))||!H&&M.pos<m.doc.content.size&&(!M.sameParent(T)||!M.parent.inlineContent)&&M.pos<T.pos&&!/\S/.test(m.doc.textBetween(M.pos,T.pos,"","")))&&l.someProp("handleKeyDown",q=>q(l,Qi(13,"Enter")))){l.input.lastIOSEnter=0;return}if(l.state.selection.anchor>E.start&&wM(g,E.start,E.endA,M,T)&&l.someProp("handleKeyDown",q=>q(l,Qi(8,"Backspace")))){jn&&ee&&l.domObserver.suppressSelectionUpdates();return}ee&&E.endB==E.start&&(l.input.lastChromeDelete=Date.now()),jn&&!H&&M.start()!=T.start()&&T.parentOffset==0&&M.depth==T.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==E.endA&&(E.endB-=2,T=m.doc.resolveNoCache(E.endB-m.from),setTimeout(()=>{l.someProp("handleKeyDown",function(q){return q(l,Qi(13,"Enter"))})},20));let Y=E.start,K=E.endA,G=q=>{let W=q||l.state.tr.replace(Y,K,m.doc.slice(E.start-m.from,E.endB-m.from));if(m.sel){let rt=Sy(l,W.doc,m.sel);rt&&!(ee&&l.composing&&rt.empty&&(E.start!=E.endB||l.input.lastChromeDelete<Date.now()-100)&&(rt.head==Y||rt.head==W.mapping.map(K)-1)||De&&rt.empty&&rt.head==Y)&&W.setSelection(rt)}return o&&W.setMeta("composition",o),W.scrollIntoView()},$;if(H)if(M.pos==T.pos){De&&vi<=11&&M.parentOffset==0&&(l.domObserver.suppressSelectionUpdates(),setTimeout(()=>Hn(l),20));let q=G(l.state.tr.delete(Y,K)),W=g.resolve(E.start).marksAcross(g.resolve(E.endA));W&&q.ensureMarks(W),l.dispatch(q)}else if(E.endA==E.endB&&($=zM(M.parent.content.cut(M.parentOffset,T.parentOffset),N.parent.content.cut(N.parentOffset,E.endA-N.start())))){let q=G(l.state.tr);$.type=="add"?q.addMark(Y,K,$.mark):q.removeMark(Y,K,$.mark),l.dispatch(q)}else if(M.parent.child(M.index()).isText&&M.index()==T.index()-(T.textOffset?0:1)){let q=M.parent.textBetween(M.parentOffset,T.parentOffset),W=()=>G(l.state.tr.insertText(q,Y,K));l.someProp("handleTextInput",rt=>rt(l,Y,K,q,W))||l.dispatch(W())}else l.dispatch(G());else l.dispatch(G())}function Sy(l,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Ff(l,t.resolve(n.anchor),t.resolve(n.head))}function zM(l,t){let n=l.firstChild.marks,r=t.firstChild.marks,a=n,o=r,c,f,d;for(let g=0;g<r.length;g++)a=r[g].removeFromSet(a);for(let g=0;g<n.length;g++)o=n[g].removeFromSet(o);if(a.length==1&&o.length==0)f=a[0],c="add",d=g=>g.mark(f.addToSet(g.marks));else if(a.length==0&&o.length==1)f=o[0],c="remove",d=g=>g.mark(f.removeFromSet(g.marks));else return null;let m=[];for(let g=0;g<t.childCount;g++)m.push(d(t.child(g)));if(L.from(m).eq(l))return{mark:f,type:c}}function wM(l,t,n,r,a){if(n-t<=a.pos-r.pos||hf(r,!0,!1)<a.pos)return!1;let o=l.resolve(t);if(!r.parent.isTextblock){let f=o.nodeAfter;return f!=null&&n==t+f.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let c=l.resolve(hf(o,!0,!0));return!c.parent.isTextblock||c.pos>n||hf(c,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(c.parent.content)}function hf(l,t,n){let r=l.depth,a=t?l.end():l.pos;for(;r>0&&(t||l.indexAfter(r)==l.node(r).childCount);)r--,a++,t=!1;if(n){let o=l.node(r).maybeChild(l.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,a++}return a}function RM(l,t,n,r,a){let o=l.findDiffStart(t,n);if(o==null)return null;let{a:c,b:f}=l.findDiffEnd(t,n+l.size,n+t.size);if(a=="end"){let d=Math.max(0,o-Math.min(c,f));r-=c+d-o}if(c<o&&l.size<t.size){let d=r<=o&&r>=c?o-r:0;o-=d,o&&o<t.size&&vy(t.textBetween(o-1,o+1))&&(o+=d?1:-1),f=o+(f-c),c=o}else if(f<o){let d=r<=o&&r>=f?o-r:0;o-=d,o&&o<l.size&&vy(l.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-f),f=o}return{start:o,endA:c,endB:f}}function vy(l){if(l.length!=2)return!1;let t=l.charCodeAt(0),n=l.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class E1{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $x,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Cy),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=My(this),xy(this),this.nodeViews=Ty(this),this.docView=ey(this.state.doc,Ey(this),df(this),this.dom,this),this.domObserver=new xM(this,(r,a,o,c)=>kM(this,r,a,o,c)),this.domObserver.start(),Ix(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&_f(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Cy),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let a=this.state,o=!1,c=!1;t.storedMarks&&this.composing&&(p1(this),c=!0),this.state=t;let f=a.plugins!=t.plugins||this._props.plugins!=n.plugins;if(f||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=Ty(this);_M(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(f||n.handleDOMEvents!=this._props.handleDOMEvents)&&_f(this),this.editable=My(this),xy(this);let d=df(this),m=Ey(this),g=a.plugins!=t.plugins&&!a.doc.eq(t.doc)?"reset":t.scrollToSelection>a.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(t.doc,m,d);(y||!t.selection.eq(a.selection))&&(c=!0);let S=g=="preserve"&&c&&this.dom.style.overflowAnchor==null&&cx(this);if(c){this.domObserver.stop();let v=y&&(De||ee)&&!this.composing&&!a.selection.empty&&!t.selection.empty&&BM(a.selection,t.selection);if(y){let E=ee?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=cM(this)),(o||!this.docView.update(t.doc,m,d,this))&&(this.docView.updateOuterDeco(m),this.docView.destroy(),this.docView=ey(t.doc,m,d,this.dom,this)),E&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Bx(this))?Hn(this,v):(n1(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((r=this.dragging)===null||r===void 0)&&r.node&&!a.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,a),g=="reset"?this.dom.scrollTop=0:g=="to selection"?this.scrollToSelection():S&&fx(S)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof nt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&$g(this,n.getBoundingClientRect(),t)}else $g(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,a=-1;if(this.state.doc.nodeAt(r.from)==r.node)a=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(a=o)}this.dragging=new g1(t.slice,t.move,a<0?void 0:nt.create(this.state.doc,a))}someProp(t,n){let r=this._props&&this._props[t],a;if(r!=null&&(a=n?n(r):r))return a;for(let c=0;c<this.directPlugins.length;c++){let f=this.directPlugins[c].props[t];if(f!=null&&(a=n?n(f):f))return a}let o=this.state.plugins;if(o)for(let c=0;c<o.length;c++){let f=o[c].props[t];if(f!=null&&(a=n?n(f):f))return a}}hasFocus(){if(De){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&dx(this.dom),Hn(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return yx(this,t)}coordsAtPos(t,n=1){return Z0(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let a=this.docView.posFromDOM(t,n,r);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(t,n){return xx(this,n||this.state,t)}pasteHTML(t,n){return ms(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return ms(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return Wf(this,t)}destroy(){this.docView&&(Fx(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],df(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,tx())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Px(this,t)}domSelectionRange(){let t=this.domSelection();return t?de&&this.root.nodeType===11&&rx(this.dom.ownerDocument)==this.dom&&TM(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}E1.prototype.dispatch=function(l){let t=this._props.dispatchTransaction;t?t.call(this,l):this.updateState(this.state.apply(l))};function Ey(l){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(l.editable),l.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(l.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[on.node(0,l.state.doc.content.size,t)]}function xy(l){if(l.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),l.cursorWrapper={dom:t,deco:on.widget(l.state.selection.from,t,{raw:!0,marks:l.markCursor})}}else l.cursorWrapper=null}function My(l){return!l.someProp("editable",t=>t(l.state)===!1)}function BM(l,t){let n=Math.min(l.$anchor.sharedDepth(l.head),t.$anchor.sharedDepth(t.head));return l.$anchor.start(n)!=t.$anchor.start(n)}function Ty(l){let t=Object.create(null);function n(r){for(let a in r)Object.prototype.hasOwnProperty.call(t,a)||(t[a]=r[a])}return l.someProp("nodeViews",n),l.someProp("markViews",n),t}function _M(l,t){let n=0,r=0;for(let a in l){if(l[a]!=t[a])return!0;n++}for(let a in t)r++;return n!=r}function Cy(l){if(l.spec.state||l.spec.filterTransaction||l.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ti={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ho={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},UM=typeof navigator<"u"&&/Mac/.test(navigator.platform),VM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var fe=0;fe<10;fe++)Ti[48+fe]=Ti[96+fe]=String(fe);for(var fe=1;fe<=24;fe++)Ti[fe+111]="F"+fe;for(var fe=65;fe<=90;fe++)Ti[fe]=String.fromCharCode(fe+32),ho[fe]=String.fromCharCode(fe);for(var pf in Ti)ho.hasOwnProperty(pf)||(ho[pf]=Ti[pf]);function jM(l){var t=UM&&l.metaKey&&l.shiftKey&&!l.ctrlKey&&!l.altKey||VM&&l.shiftKey&&l.key&&l.key.length==1||l.key=="Unidentified",n=!t&&l.key||(l.shiftKey?ho:Ti)[l.keyCode]||l.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const qM=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),HM=typeof navigator<"u"&&/Win/.test(navigator.platform);function LM(l){let t=l.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,a,o,c;for(let f=0;f<t.length-1;f++){let d=t[f];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))a=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))qM?c=!0:a=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),a&&(n="Ctrl-"+n),c&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function YM(l){let t=Object.create(null);for(let n in l)t[LM(n)]=l[n];return t}function mf(l,t,n=!0){return t.altKey&&(l="Alt-"+l),t.ctrlKey&&(l="Ctrl-"+l),t.metaKey&&(l="Meta-"+l),n&&t.shiftKey&&(l="Shift-"+l),l}function GM(l){return new cn({props:{handleKeyDown:XM(l)}})}function XM(l){let t=YM(l);return function(n,r){let a=jM(r),o,c=t[mf(a,r)];if(c&&c(n.state,n.dispatch,n))return!0;if(a.length==1&&a!=" "){if(r.shiftKey){let f=t[mf(a,r,!1)];if(f&&f(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(HM&&r.ctrlKey&&r.altKey)&&(o=Ti[r.keyCode])&&o!=a){let f=t[mf(o,r)];if(f&&f(n.state,n.dispatch,n))return!0}}return!1}}var JM=Object.defineProperty,ld=(l,t)=>{for(var n in t)JM(l,n,{get:t[n],enumerable:!0})};function To(l){const{state:t,transaction:n}=l;let{selection:r}=n,{doc:a}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return a},get tr(){return r=n.selection,a=n.doc,o=n.storedMarks,n}}}var Co=class{constructor(l){this.editor=l.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=l.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:l,editor:t,state:n}=this,{view:r}=t,{tr:a}=n,o=this.buildProps(a);return Object.fromEntries(Object.entries(l).map(([c,f])=>[c,(...m)=>{const g=f(...m)(o);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(a),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(l,t=!0){const{rawCommands:n,editor:r,state:a}=this,{view:o}=r,c=[],f=!!l,d=l||a.tr,m=()=>(!f&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),c.every(y=>y===!0)),g={...Object.fromEntries(Object.entries(n).map(([y,S])=>[y,(...E)=>{const M=this.buildProps(d,t),T=S(...E)(M);return c.push(T),g}])),run:m};return g}createCan(l){const{rawCommands:t,state:n}=this,r=!1,a=l||n.tr,o=this.buildProps(a,r);return{...Object.fromEntries(Object.entries(t).map(([f,d])=>[f,(...m)=>d(...m)({...o,dispatch:void 0})])),chain:()=>this.createChain(a,r)}}buildProps(l,t=!0){const{rawCommands:n,editor:r,state:a}=this,{view:o}=r,c={tr:l,editor:r,view:o,state:To({state:a,transaction:l}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(l,t),can:()=>this.createCan(l),get commands(){return Object.fromEntries(Object.entries(n).map(([f,d])=>[f,(...m)=>d(...m)(c)]))}};return c}},x1={};ld(x1,{blur:()=>KM,clearContent:()=>QM,clearNodes:()=>ZM,command:()=>$M,createParagraphNear:()=>IM,cut:()=>FM,deleteCurrentNode:()=>WM,deleteNode:()=>PM,deleteRange:()=>tT,deleteSelection:()=>eT,enter:()=>nT,exitCode:()=>iT,extendMarkRange:()=>lT,first:()=>rT,focus:()=>aT,forEach:()=>oT,insertContent:()=>uT,insertContentAt:()=>dT,joinBackward:()=>mT,joinDown:()=>pT,joinForward:()=>gT,joinItemBackward:()=>yT,joinItemForward:()=>bT,joinTextblockBackward:()=>ST,joinTextblockForward:()=>vT,joinUp:()=>hT,keyboardShortcut:()=>xT,lift:()=>MT,liftEmptyBlock:()=>TT,liftListItem:()=>CT,newlineInCode:()=>OT,resetAttributes:()=>AT,scrollIntoView:()=>NT,selectAll:()=>DT,selectNodeBackward:()=>kT,selectNodeForward:()=>zT,selectParentNode:()=>wT,selectTextblockEnd:()=>RT,selectTextblockStart:()=>BT,setContent:()=>_T,setMark:()=>tC,setMeta:()=>eC,setNode:()=>nC,setNodeSelection:()=>iC,setTextDirection:()=>lC,setTextSelection:()=>rC,sinkListItem:()=>sC,splitBlock:()=>aC,splitListItem:()=>oC,toggleList:()=>uC,toggleMark:()=>cC,toggleNode:()=>fC,toggleWrap:()=>dC,undoInputRule:()=>hC,unsetAllMarks:()=>pC,unsetMark:()=>mC,unsetTextDirection:()=>gC,updateAttributes:()=>yC,wrapIn:()=>bC,wrapInList:()=>SC});var KM=()=>({editor:l,view:t})=>(requestAnimationFrame(()=>{var n;l.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),QM=(l=!0)=>({commands:t})=>t.setContent("",{emitUpdate:l}),ZM=()=>({state:l,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:a}=r;return n&&a.forEach(({$from:o,$to:c})=>{l.doc.nodesBetween(o.pos,c.pos,(f,d)=>{if(f.type.isText)return;const{doc:m,mapping:g}=t,y=m.resolve(g.map(d)),S=m.resolve(g.map(d+f.nodeSize)),v=y.blockRange(S);if(!v)return;const E=lr(v);if(f.type.isTextblock){const{defaultType:M}=y.parent.contentMatchAt(y.index());t.setNodeMarkup(v.start,M)}(E||E===0)&&t.lift(v,E)})}),!0},$M=l=>t=>l(t),IM=()=>({state:l,dispatch:t})=>V0(l,t),FM=(l,t)=>({editor:n,tr:r})=>{const{state:a}=n,o=a.doc.slice(l.from,l.to);r.deleteRange(l.from,l.to);const c=r.mapping.map(t);return r.insert(c,o.content),r.setSelection(new ct(r.doc.resolve(Math.max(c-1,0)))),!0},WM=()=>({tr:l,dispatch:t})=>{const{selection:n}=l,r=n.$anchor.node();if(r.content.size>0)return!1;const a=l.selection.$anchor;for(let o=a.depth;o>0;o-=1)if(a.node(o).type===r.type){if(t){const f=a.before(o),d=a.after(o);l.delete(f,d).scrollIntoView()}return!0}return!1};function ie(l,t){if(typeof l=="string"){if(!t.nodes[l])throw Error(`There is no node type named '${l}'. Maybe you forgot to add the extension?`);return t.nodes[l]}return l}var PM=l=>({tr:t,state:n,dispatch:r})=>{const a=ie(l,n.schema),o=t.selection.$anchor;for(let c=o.depth;c>0;c-=1)if(o.node(c).type===a){if(r){const d=o.before(c),m=o.after(c);t.delete(d,m).scrollIntoView()}return!0}return!1},tT=l=>({tr:t,dispatch:n})=>{const{from:r,to:a}=l;return n&&t.delete(r,a),!0},eT=()=>({state:l,dispatch:t})=>Xf(l,t),nT=()=>({commands:l})=>l.keyboardShortcut("Enter"),iT=()=>({state:l,dispatch:t})=>qE(l,t);function rd(l){return Object.prototype.toString.call(l)==="[object RegExp]"}function po(l,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(a=>n.strict?t[a]===l[a]:rd(t[a])?t[a].test(l[a]):t[a]===l[a]):!0}function M1(l,t,n={}){return l.find(r=>r.type===t&&po(Object.fromEntries(Object.keys(n).map(a=>[a,r.attrs[a]])),n))}function Oy(l,t,n={}){return!!M1(l,t,n)}function T1(l,t,n){var r;if(!l||!t)return;let a=l.parent.childAfter(l.parentOffset);if((!a.node||!a.node.marks.some(g=>g.type===t))&&(a=l.parent.childBefore(l.parentOffset)),!a.node||!a.node.marks.some(g=>g.type===t)||(n=n||((r=a.node.marks[0])==null?void 0:r.attrs),!M1([...a.node.marks],t,n)))return;let c=a.index,f=l.start()+a.offset,d=c+1,m=f+a.node.nodeSize;for(;c>0&&Oy([...l.parent.child(c-1).marks],t,n);)c-=1,f-=l.parent.child(c).nodeSize;for(;d<l.parent.childCount&&Oy([...l.parent.child(d).marks],t,n);)m+=l.parent.child(d).nodeSize,d+=1;return{from:f,to:m}}function Ln(l,t){if(typeof l=="string"){if(!t.marks[l])throw Error(`There is no mark type named '${l}'. Maybe you forgot to add the extension?`);return t.marks[l]}return l}var lT=(l,t={})=>({tr:n,state:r,dispatch:a})=>{const o=Ln(l,r.schema),{doc:c,selection:f}=n,{$from:d,from:m,to:g}=f;if(a){const y=T1(d,o,t);if(y&&y.from<=m&&y.to>=g){const S=ct.create(c,y.from,y.to);n.setSelection(S)}}return!0},rT=l=>t=>{const n=typeof l=="function"?l(t):l;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function C1(l){return l instanceof ct}function Ii(l=0,t=0,n=0){return Math.min(Math.max(l,t),n)}function O1(l,t=null){if(!t)return null;const n=yt.atStart(l),r=yt.atEnd(l);if(t==="start"||t===!0)return n;if(t==="end")return r;const a=n.from,o=r.to;return t==="all"?ct.create(l,Ii(0,a,o),Ii(l.content.size,a,o)):ct.create(l,Ii(t,a,o),Ii(t,a,o))}function Uf(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ys(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function sT(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var aT=(l=null,t={})=>({editor:n,view:r,tr:a,dispatch:o})=>{t={scrollIntoView:!0,...t};const c=()=>{(ys()||Uf())&&r.dom.focus(),sT()&&!ys()&&!Uf()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&l===null||l===!1)return!0;if(o&&l===null&&!C1(n.state.selection))return c(),!0;const f=O1(a.doc,l)||n.state.selection,d=n.state.selection.eq(f);return o&&(d||a.setSelection(f),d&&a.storedMarks&&a.setStoredMarks(a.storedMarks),c()),!0},oT=(l,t)=>n=>l.every((r,a)=>t(r,{...n,index:a})),uT=(l,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},l,t),A1=l=>{const t=l.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?l.removeChild(r):r.nodeType===1&&A1(r)}return l};function Ka(l){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${l}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return A1(n)}function bs(l,t,n){if(l instanceof un||l instanceof L)return l;n={slice:!0,parseOptions:{},...n};const r=typeof l=="object"&&l!==null,a=typeof l=="string";if(r)try{if(Array.isArray(l)&&l.length>0)return L.fromArray(l.map(f=>t.nodeFromJSON(f)));const c=t.nodeFromJSON(l);return n.errorOnInvalidContent&&c.check(),c}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",l,"Error:",o),bs("",t,n)}if(a){if(n.errorOnInvalidContent){let c=!1,f="";const d=new c0({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:m=>(c=!0,f=typeof m=="string"?m:m.outerHTML,null)}]}})});if(n.slice?Si.fromSchema(d).parseSlice(Ka(l),n.parseOptions):Si.fromSchema(d).parse(Ka(l),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${f}`)})}const o=Si.fromSchema(t);return n.slice?o.parseSlice(Ka(l),n.parseOptions).content:o.parse(Ka(l),n.parseOptions)}return bs("",t,n)}function cT(l,t,n){const r=l.steps.length-1;if(r<t)return;const a=l.steps[r];if(!(a instanceof te||a instanceof ne))return;const o=l.mapping.maps[r];let c=0;o.forEach((f,d,m,g)=>{c===0&&(c=g)}),l.setSelection(yt.near(l.doc.resolve(c),n))}var fT=l=>!("type"in l),dT=(l,t,n)=>({tr:r,dispatch:a,editor:o})=>{var c;if(a){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let f;const d=T=>{o.emit("contentError",{editor:o,error:T,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},m={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{bs(t,o.schema,{parseOptions:m,errorOnInvalidContent:!0})}catch(T){d(T)}try{f=bs(t,o.schema,{parseOptions:m,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:o.options.enableContentCheck})}catch(T){return d(T),!1}let{from:g,to:y}=typeof l=="number"?{from:l,to:l}:{from:l.from,to:l.to},S=!0,v=!0;if((fT(f)?f:[f]).forEach(T=>{T.check(),S=S?T.isText&&T.marks.length===0:!1,v=v?T.isBlock:!1}),g===y&&v){const{parent:T}=r.doc.resolve(g);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(g-=1,y+=1)}let M;if(S){if(Array.isArray(t))M=t.map(T=>T.text||"").join("");else if(t instanceof L){let T="";t.forEach(N=>{N.text&&(T+=N.text)}),M=T}else typeof t=="object"&&t&&t.text?M=t.text:M=t;r.insertText(M,g,y)}else{M=f;const T=r.doc.resolve(g),N=T.node(),H=T.parentOffset===0,Y=N.isText||N.isTextblock,K=N.content.size>0;H&&Y&&K&&(g=Math.max(0,g-1)),r.replaceWith(g,y,M)}n.updateSelection&&cT(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:g,text:M}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:g,text:M})}return!0},hT=()=>({state:l,dispatch:t})=>UE(l,t),pT=()=>({state:l,dispatch:t})=>VE(l,t),mT=()=>({state:l,dispatch:t})=>k0(l,t),gT=()=>({state:l,dispatch:t})=>B0(l,t),yT=()=>({state:l,dispatch:t,tr:n})=>{try{const r=bo(l.doc,l.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},bT=()=>({state:l,dispatch:t,tr:n})=>{try{const r=bo(l.doc,l.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},ST=()=>({state:l,dispatch:t})=>BE(l,t),vT=()=>({state:l,dispatch:t})=>_E(l,t);function N1(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function ET(l){const t=l.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,a,o,c;for(let f=0;f<t.length-1;f+=1){const d=t[f];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))a=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))ys()||N1()?c=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),a&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var xT=l=>({editor:t,view:n,tr:r,dispatch:a})=>{const o=ET(l).split(/-(?!$)/),c=o.find(m=>!["Alt","Ctrl","Meta","Shift"].includes(m)),f=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=t.captureTransaction(()=>{n.someProp("handleKeyDown",m=>m(n,f))});return d?.steps.forEach(m=>{const g=m.map(r.mapping);g&&a&&r.maybeStep(g)}),!0};function Ss(l,t,n={}){const{from:r,to:a,empty:o}=l.selection,c=t?ie(t,l.schema):null,f=[];l.doc.nodesBetween(r,a,(y,S)=>{if(y.isText)return;const v=Math.max(r,S),E=Math.min(a,S+y.nodeSize);f.push({node:y,from:v,to:E})});const d=a-r,m=f.filter(y=>c?c.name===y.node.type.name:!0).filter(y=>po(y.node.attrs,n,{strict:!1}));return o?!!m.length:m.reduce((y,S)=>y+S.to-S.from,0)>=d}var MT=(l,t={})=>({state:n,dispatch:r})=>{const a=ie(l,n.schema);return Ss(n,a,t)?jE(n,r):!1},TT=()=>({state:l,dispatch:t})=>j0(l,t),CT=l=>({state:t,dispatch:n})=>{const r=ie(l,t.schema);return IE(r)(t,n)},OT=()=>({state:l,dispatch:t})=>U0(l,t);function Oo(l,t){return t.nodes[l]?"node":t.marks[l]?"mark":null}function Ay(l,t){const n=typeof t=="string"?[t]:t;return Object.keys(l).reduce((r,a)=>(n.includes(a)||(r[a]=l[a]),r),{})}var AT=(l,t)=>({tr:n,state:r,dispatch:a})=>{let o=null,c=null;const f=Oo(typeof l=="string"?l:l.name,r.schema);if(!f)return!1;f==="node"&&(o=ie(l,r.schema)),f==="mark"&&(c=Ln(l,r.schema));let d=!1;return n.selection.ranges.forEach(m=>{r.doc.nodesBetween(m.$from.pos,m.$to.pos,(g,y)=>{o&&o===g.type&&(d=!0,a&&n.setNodeMarkup(y,void 0,Ay(g.attrs,t))),c&&g.marks.length&&g.marks.forEach(S=>{c===S.type&&(d=!0,a&&n.addMark(y,y+g.nodeSize,c.create(Ay(S.attrs,t))))})})}),d},NT=()=>({tr:l,dispatch:t})=>(t&&l.scrollIntoView(),!0),DT=()=>({tr:l,dispatch:t})=>{if(t){const n=new Ye(l.doc);l.setSelection(n)}return!0},kT=()=>({state:l,dispatch:t})=>w0(l,t),zT=()=>({state:l,dispatch:t})=>_0(l,t),wT=()=>({state:l,dispatch:t})=>YE(l,t),RT=()=>({state:l,dispatch:t})=>JE(l,t),BT=()=>({state:l,dispatch:t})=>XE(l,t);function Vf(l,t,n={},r={}){return bs(l,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var _T=(l,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:a,tr:o,dispatch:c,commands:f})=>{const{doc:d}=o;if(r.preserveWhitespace!=="full"){const m=Vf(l,a.schema,r,{errorOnInvalidContent:t??a.options.enableContentCheck});return c&&o.replaceWith(0,d.content.size,m).setMeta("preventUpdate",!n),!0}return c&&o.setMeta("preventUpdate",!n),f.insertContentAt({from:0,to:d.content.size},l,{parseOptions:r,errorOnInvalidContent:t??a.options.enableContentCheck})};function D1(l,t){const n=Ln(t,l.schema),{from:r,to:a,empty:o}=l.selection,c=[];o?(l.storedMarks&&c.push(...l.storedMarks),c.push(...l.selection.$head.marks())):l.doc.nodesBetween(r,a,d=>{c.push(...d.marks)});const f=c.find(d=>d.type.name===n.name);return f?{...f.attrs}:{}}function UT(l,t){const n=new O0(l);return t.forEach(r=>{r.steps.forEach(a=>{n.step(a)})}),n}function VT(l){for(let t=0;t<l.edgeCount;t+=1){const{type:n}=l.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function jT(l,t){for(let n=l.depth;n>0;n-=1){const r=l.node(n);if(t(r))return{pos:n>0?l.before(n):0,start:l.start(n),depth:n,node:r}}}function sd(l){return t=>jT(t.$from,l)}function tt(l,t,n){return l.config[t]===void 0&&l.parent?tt(l.parent,t,n):typeof l.config[t]=="function"?l.config[t].bind({...n,parent:l.parent?tt(l.parent,t,n):null}):l.config[t]}function ad(l){return l.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=tt(t,"addExtensions",n);return r?[t,...ad(r())]:t}).flat(10)}function od(l,t){const n=rl.fromSchema(t).serializeFragment(l),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(n),a.innerHTML}function k1(l){return typeof l=="function"}function _t(l,t=void 0,...n){return k1(l)?t?l.bind(t)(...n):l(...n):l}function qT(l={}){return Object.keys(l).length===0&&l.constructor===Object}function ir(l){const t=l.filter(a=>a.type==="extension"),n=l.filter(a=>a.type==="node"),r=l.filter(a=>a.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function z1(l){const t=[],{nodeExtensions:n,markExtensions:r}=ir(l),a=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return l.forEach(c=>{const f={name:c.name,options:c.options,storage:c.storage,extensions:a},d=tt(c,"addGlobalAttributes",f);if(!d)return;d().forEach(g=>{g.types.forEach(y=>{Object.entries(g.attributes).forEach(([S,v])=>{t.push({type:y,name:S,attribute:{...o,...v}})})})})}),a.forEach(c=>{const f={name:c.name,options:c.options,storage:c.storage},d=tt(c,"addAttributes",f);if(!d)return;const m=d();Object.entries(m).forEach(([g,y])=>{const S={...o,...y};typeof S?.default=="function"&&(S.default=S.default()),S?.isRequired&&S?.default===void 0&&delete S.default,t.push({type:c.name,name:g,attribute:S})})}),t}function w1(...l){return l.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([a,o])=>{if(!r[a]){r[a]=o;return}if(a==="class"){const f=o?String(o).split(" "):[],d=r[a]?r[a].split(" "):[],m=f.filter(g=>!d.includes(g));r[a]=[...d,...m].join(" ")}else if(a==="style"){const f=o?o.split(";").map(g=>g.trim()).filter(Boolean):[],d=r[a]?r[a].split(";").map(g=>g.trim()).filter(Boolean):[],m=new Map;d.forEach(g=>{const[y,S]=g.split(":").map(v=>v.trim());m.set(y,S)}),f.forEach(g=>{const[y,S]=g.split(":").map(v=>v.trim());m.set(y,S)}),r[a]=Array.from(m.entries()).map(([g,y])=>`${g}: ${y}`).join("; ")}else r[a]=o}),r},{})}function vs(l,t){return t.filter(n=>n.type===l.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(l.attrs)||{}:{[n.name]:l.attrs[n.name]}).reduce((n,r)=>w1(n,r),{})}function HT(l){return typeof l!="string"?l:l.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(l):l==="true"?!0:l==="false"?!1:l}function Ny(l,t){return"style"in l?l:{...l,getAttrs:n=>{const r=l.getAttrs?l.getAttrs(n):l.attrs;if(r===!1)return!1;const a=t.reduce((o,c)=>{const f=c.attribute.parseHTML?c.attribute.parseHTML(n):HT(n.getAttribute(c.name));return f==null?o:{...o,[c.name]:f}},{});return{...r,...a}}}}function Dy(l){return Object.fromEntries(Object.entries(l).filter(([t,n])=>t==="attrs"&&qT(n)?!1:n!=null))}function ky(l){var t,n;const r={};return!((t=l?.attribute)!=null&&t.isRequired)&&"default"in(l?.attribute||{})&&(r.default=l.attribute.default),((n=l?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=l.attribute.validate),[l.name,r]}function LT(l,t){var n;const r=z1(l),{nodeExtensions:a,markExtensions:o}=ir(l),c=(n=a.find(m=>tt(m,"topNode")))==null?void 0:n.name,f=Object.fromEntries(a.map(m=>{const g=r.filter(N=>N.type===m.name),y={name:m.name,options:m.options,storage:m.storage,editor:t},S=l.reduce((N,H)=>{const Y=tt(H,"extendNodeSchema",y);return{...N,...Y?Y(m):{}}},{}),v=Dy({...S,content:_t(tt(m,"content",y)),marks:_t(tt(m,"marks",y)),group:_t(tt(m,"group",y)),inline:_t(tt(m,"inline",y)),atom:_t(tt(m,"atom",y)),selectable:_t(tt(m,"selectable",y)),draggable:_t(tt(m,"draggable",y)),code:_t(tt(m,"code",y)),whitespace:_t(tt(m,"whitespace",y)),linebreakReplacement:_t(tt(m,"linebreakReplacement",y)),defining:_t(tt(m,"defining",y)),isolating:_t(tt(m,"isolating",y)),attrs:Object.fromEntries(g.map(ky))}),E=_t(tt(m,"parseHTML",y));E&&(v.parseDOM=E.map(N=>Ny(N,g)));const M=tt(m,"renderHTML",y);M&&(v.toDOM=N=>M({node:N,HTMLAttributes:vs(N,g)}));const T=tt(m,"renderText",y);return T&&(v.toText=T),[m.name,v]})),d=Object.fromEntries(o.map(m=>{const g=r.filter(T=>T.type===m.name),y={name:m.name,options:m.options,storage:m.storage,editor:t},S=l.reduce((T,N)=>{const H=tt(N,"extendMarkSchema",y);return{...T,...H?H(m):{}}},{}),v=Dy({...S,inclusive:_t(tt(m,"inclusive",y)),excludes:_t(tt(m,"excludes",y)),group:_t(tt(m,"group",y)),spanning:_t(tt(m,"spanning",y)),code:_t(tt(m,"code",y)),attrs:Object.fromEntries(g.map(ky))}),E=_t(tt(m,"parseHTML",y));E&&(v.parseDOM=E.map(T=>Ny(T,g)));const M=tt(m,"renderHTML",y);return M&&(v.toDOM=T=>M({mark:T,HTMLAttributes:vs(T,g)})),[m.name,v]}));return new c0({topNode:c,nodes:f,marks:d})}function YT(l){const t=l.filter((n,r)=>l.indexOf(n)!==r);return Array.from(new Set(t))}function mo(l){return l.sort((n,r)=>{const a=tt(n,"priority")||100,o=tt(r,"priority")||100;return a>o?-1:a<o?1:0})}function R1(l){const t=mo(ad(l)),n=YT(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function B1(l,t,n){const{from:r,to:a}=t,{blockSeparator:o=`

`,textSerializers:c={}}=n||{};let f="";return l.nodesBetween(r,a,(d,m,g,y)=>{var S;d.isBlock&&m>r&&(f+=o);const v=c?.[d.type.name];if(v)return g&&(f+=v({node:d,pos:m,parent:g,index:y,range:t})),!1;d.isText&&(f+=(S=d?.text)==null?void 0:S.slice(Math.max(r,m)-m,a-m))}),f}function GT(l,t){const n={from:0,to:l.content.size};return B1(l,n,t)}function _1(l){return Object.fromEntries(Object.entries(l.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function XT(l,t){const n=ie(t,l.schema),{from:r,to:a}=l.selection,o=[];l.doc.nodesBetween(r,a,f=>{o.push(f)});const c=o.reverse().find(f=>f.type.name===n.name);return c?{...c.attrs}:{}}function JT(l,t){const n=Oo(typeof t=="string"?t:t.name,l.schema);return n==="node"?XT(l,t):n==="mark"?D1(l,t):{}}function KT(l,t=JSON.stringify){const n={};return l.filter(r=>{const a=t(r);return Object.prototype.hasOwnProperty.call(n,a)?!1:n[a]=!0})}function QT(l){const t=KT(l);return t.length===1?t:t.filter((n,r)=>!t.filter((o,c)=>c!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function ZT(l){const{mapping:t,steps:n}=l,r=[];return t.maps.forEach((a,o)=>{const c=[];if(a.ranges.length)a.forEach((f,d)=>{c.push({from:f,to:d})});else{const{from:f,to:d}=n[o];if(f===void 0||d===void 0)return;c.push({from:f,to:d})}c.forEach(({from:f,to:d})=>{const m=t.slice(o).map(f,-1),g=t.slice(o).map(d),y=t.invert().map(m,-1),S=t.invert().map(g);r.push({oldRange:{from:y,to:S},newRange:{from:m,to:g}})})}),QT(r)}function Qa(l,t){return t.nodes[l]||t.marks[l]||null}function to(l,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const a=l.find(o=>o.type===t&&o.name===r);return a?a.attribute.keepOnSplit:!1}))}var $T=(l,t=500)=>{let n="";const r=l.parentOffset;return l.parent.nodesBetween(Math.max(0,r-t),r,(a,o,c,f)=>{var d,m;const g=((m=(d=a.type.spec).toText)==null?void 0:m.call(d,{node:a,pos:o,parent:c,index:f}))||a.textContent||"%leaf%";n+=a.isAtom&&!a.isText?g:g.slice(0,Math.max(0,r-o))}),n};function jf(l,t,n={}){const{empty:r,ranges:a}=l.selection,o=t?Ln(t,l.schema):null;if(r)return!!(l.storedMarks||l.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>po(y.attrs,n,{strict:!1}));let c=0;const f=[];if(a.forEach(({$from:y,$to:S})=>{const v=y.pos,E=S.pos;l.doc.nodesBetween(v,E,(M,T)=>{if(!M.isText&&!M.marks.length)return;const N=Math.max(v,T),H=Math.min(E,T+M.nodeSize),Y=H-N;c+=Y,f.push(...M.marks.map(K=>({mark:K,from:N,to:H})))})}),c===0)return!1;const d=f.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>po(y.mark.attrs,n,{strict:!1})).reduce((y,S)=>y+S.to-S.from,0),m=f.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,S)=>y+S.to-S.from,0);return(d>0?d+m:d)>=c}function IT(l,t,n={}){if(!t)return Ss(l,null,n)||jf(l,null,n);const r=Oo(t,l.schema);return r==="node"?Ss(l,t,n):r==="mark"?jf(l,t,n):!1}function zy(l,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===l.name):t}function wy(l,t){const{nodeExtensions:n}=ir(t),r=n.find(c=>c.name===l);if(!r)return!1;const a={name:r.name,options:r.options,storage:r.storage},o=_t(tt(r,"group",a));return typeof o!="string"?!1:o.split(" ").includes("list")}function ud(l,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(l.type.name==="hardBreak")return!0;if(l.isText)return/^\s*$/m.test((r=l.text)!=null?r:"")}if(l.isText)return!l.text;if(l.isAtom||l.isLeaf)return!1;if(l.content.childCount===0)return!0;if(t){let a=!0;return l.content.forEach(o=>{a!==!1&&(ud(o,{ignoreWhitespace:n,checkChildren:t})||(a=!1))}),a}return!1}var U1=class V1{constructor(t){this.position=t}static fromJSON(t){return new V1(t.position)}toJSON(){return{position:this.position}}};function FT(l,t){const n=t.mapping.mapResult(l.position);return{position:new U1(n.pos),mapResult:n}}function WT(l){return new U1(l)}function PT(l,t,n){var r;const{selection:a}=t;let o=null;if(C1(a)&&(o=a.$cursor),o){const f=(r=l.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(f)||!f.some(m=>m.type.excludes(n)))}const{ranges:c}=a;return c.some(({$from:f,$to:d})=>{let m=f.depth===0?l.doc.inlineContent&&l.doc.type.allowsMarkType(n):!1;return l.doc.nodesBetween(f.pos,d.pos,(g,y,S)=>{if(m)return!1;if(g.isInline){const v=!S||S.type.allowsMarkType(n),E=!!n.isInSet(g.marks)||!g.marks.some(M=>M.type.excludes(n));m=v&&E}return!m}),m})}var tC=(l,t={})=>({tr:n,state:r,dispatch:a})=>{const{selection:o}=n,{empty:c,ranges:f}=o,d=Ln(l,r.schema);if(a)if(c){const m=D1(r,d);n.addStoredMark(d.create({...m,...t}))}else f.forEach(m=>{const g=m.$from.pos,y=m.$to.pos;r.doc.nodesBetween(g,y,(S,v)=>{const E=Math.max(v,g),M=Math.min(v+S.nodeSize,y);S.marks.find(N=>N.type===d)?S.marks.forEach(N=>{d===N.type&&n.addMark(E,M,d.create({...N.attrs,...t}))}):n.addMark(E,M,d.create(t))})});return PT(r,n,d)},eC=(l,t)=>({tr:n})=>(n.setMeta(l,t),!0),nC=(l,t={})=>({state:n,dispatch:r,chain:a})=>{const o=ie(l,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),o.isTextblock?a().command(({commands:f})=>Kg(o,{...c,...t})(n)?!0:f.clearNodes()).command(({state:f})=>Kg(o,{...c,...t})(f,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},iC=l=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,a=Ii(l,0,r.content.size),o=nt.create(r,a);t.setSelection(o)}return!0},lC=(l,t)=>({tr:n,state:r,dispatch:a})=>{const{selection:o}=r;let c,f;return typeof t=="number"?(c=t,f=t):t&&"from"in t&&"to"in t?(c=t.from,f=t.to):(c=o.from,f=o.to),a&&n.doc.nodesBetween(c,f,(d,m)=>{d.isText||n.setNodeMarkup(m,void 0,{...d.attrs,dir:l})}),!0},rC=l=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:a,to:o}=typeof l=="number"?{from:l,to:l}:l,c=ct.atStart(r).from,f=ct.atEnd(r).to,d=Ii(a,c,f),m=Ii(o,c,f),g=ct.create(r,d,m);t.setSelection(g)}return!0},sC=l=>({state:t,dispatch:n})=>{const r=ie(l,t.schema);return PE(r)(t,n)};function Ry(l,t){const n=l.storedMarks||l.selection.$to.parentOffset&&l.selection.$from.marks();if(n){const r=n.filter(a=>t?.includes(a.type.name));l.tr.ensureMarks(r)}}var aC=({keepMarks:l=!0}={})=>({tr:t,state:n,dispatch:r,editor:a})=>{const{selection:o,doc:c}=t,{$from:f,$to:d}=o,m=a.extensionManager.attributes,g=to(m,f.node().type.name,f.node().attrs);if(o instanceof nt&&o.node.isBlock)return!f.parentOffset||!qn(c,f.pos)?!1:(r&&(l&&Ry(n,a.extensionManager.splittableMarks),t.split(f.pos).scrollIntoView()),!0);if(!f.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,S=f.depth===0?void 0:VT(f.node(-1).contentMatchAt(f.indexAfter(-1)));let v=y&&S?[{type:S,attrs:g}]:void 0,E=qn(t.doc,t.mapping.map(f.pos),1,v);if(!v&&!E&&qn(t.doc,t.mapping.map(f.pos),1,S?[{type:S}]:void 0)&&(E=!0,v=S?[{type:S,attrs:g}]:void 0),r){if(E&&(o instanceof ct&&t.deleteSelection(),t.split(t.mapping.map(f.pos),1,v),S&&!y&&!f.parentOffset&&f.parent.type!==S)){const M=t.mapping.map(f.before()),T=t.doc.resolve(M);f.node(-1).canReplaceWith(T.index(),T.index()+1,S)&&t.setNodeMarkup(t.mapping.map(f.before()),S)}l&&Ry(n,a.extensionManager.splittableMarks),t.scrollIntoView()}return E},oC=(l,t={})=>({tr:n,state:r,dispatch:a,editor:o})=>{var c;const f=ie(l,r.schema),{$from:d,$to:m}=r.selection,g=r.selection.node;if(g&&g.isBlock||d.depth<2||!d.sameParent(m))return!1;const y=d.node(-1);if(y.type!==f)return!1;const S=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==f||d.index(-2)!==d.node(-2).childCount-1)return!1;if(a){let N=L.empty;const H=d.index(-1)?1:d.index(-2)?2:3;for(let W=d.depth-H;W>=d.depth-3;W-=1)N=L.from(d.node(W).copy(N));const Y=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,K={...to(S,d.node().type.name,d.node().attrs),...t},G=((c=f.contentMatch.defaultType)==null?void 0:c.createAndFill(K))||void 0;N=N.append(L.from(f.createAndFill(null,G)||void 0));const $=d.before(d.depth-(H-1));n.replace($,d.after(-Y),new Q(N,4-H,0));let q=-1;n.doc.nodesBetween($,n.doc.content.size,(W,rt)=>{if(q>-1)return!1;W.isTextblock&&W.content.size===0&&(q=rt+1)}),q>-1&&n.setSelection(ct.near(n.doc.resolve(q))),n.scrollIntoView()}return!0}const v=m.pos===d.end()?y.contentMatchAt(0).defaultType:null,E={...to(S,y.type.name,y.attrs),...t},M={...to(S,d.node().type.name,d.node().attrs),...t};n.delete(d.pos,m.pos);const T=v?[{type:f,attrs:E},{type:v,attrs:M}]:[{type:f,attrs:E}];if(!qn(n.doc,d.pos,2))return!1;if(a){const{selection:N,storedMarks:H}=r,{splittableMarks:Y}=o.extensionManager,K=H||N.$to.parentOffset&&N.$from.marks();if(n.split(d.pos,2,T).scrollIntoView(),!K||!a)return!0;const G=K.filter($=>Y.includes($.type.name));n.ensureMarks(G)}return!0},gf=(l,t)=>{const n=sd(c=>c.type===t)(l.selection);if(!n)return!0;const r=l.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const a=l.doc.nodeAt(r);return n.node.type===a?.type&&sl(l.doc,n.pos)&&l.join(n.pos),!0},yf=(l,t)=>{const n=sd(c=>c.type===t)(l.selection);if(!n)return!0;const r=l.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const a=l.doc.nodeAt(r);return n.node.type===a?.type&&sl(l.doc,r)&&l.join(r),!0},uC=(l,t,n,r={})=>({editor:a,tr:o,state:c,dispatch:f,chain:d,commands:m,can:g})=>{const{extensions:y,splittableMarks:S}=a.extensionManager,v=ie(l,c.schema),E=ie(t,c.schema),{selection:M,storedMarks:T}=c,{$from:N,$to:H}=M,Y=N.blockRange(H),K=T||M.$to.parentOffset&&M.$from.marks();if(!Y)return!1;const G=sd($=>wy($.type.name,y))(M);if(Y.depth>=1&&G&&Y.depth-G.depth<=1){if(G.node.type===v)return m.liftListItem(E);if(wy(G.node.type.name,y)&&v.validContent(G.node.content)&&f)return d().command(()=>(o.setNodeMarkup(G.pos,v),!0)).command(()=>gf(o,v)).command(()=>yf(o,v)).run()}return!n||!K||!f?d().command(()=>g().wrapInList(v,r)?!0:m.clearNodes()).wrapInList(v,r).command(()=>gf(o,v)).command(()=>yf(o,v)).run():d().command(()=>{const $=g().wrapInList(v,r),q=K.filter(W=>S.includes(W.type.name));return o.ensureMarks(q),$?!0:m.clearNodes()}).wrapInList(v,r).command(()=>gf(o,v)).command(()=>yf(o,v)).run()},cC=(l,t={},n={})=>({state:r,commands:a})=>{const{extendEmptyMarkRange:o=!1}=n,c=Ln(l,r.schema);return jf(r,c,t)?a.unsetMark(c,{extendEmptyMarkRange:o}):a.setMark(c,t)},fC=(l,t,n={})=>({state:r,commands:a})=>{const o=ie(l,r.schema),c=ie(t,r.schema),f=Ss(r,o,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),f?a.setNode(c,d):a.setNode(o,{...d,...n})},dC=(l,t={})=>({state:n,commands:r})=>{const a=ie(l,n.schema);return Ss(n,a,t)?r.lift(a):r.wrapIn(a,t)},hC=()=>({state:l,dispatch:t})=>{const n=l.plugins;for(let r=0;r<n.length;r+=1){const a=n[r];let o;if(a.spec.isInputRules&&(o=a.getState(l))){if(t){const c=l.tr,f=o.transform;for(let d=f.steps.length-1;d>=0;d-=1)c.step(f.steps[d].invert(f.docs[d]));if(o.text){const d=c.doc.resolve(o.from).marks();c.replaceWith(o.from,o.to,l.schema.text(o.text,d))}else c.delete(o.from,o.to)}return!0}}return!1},pC=()=>({tr:l,dispatch:t})=>{const{selection:n}=l,{empty:r,ranges:a}=n;return r||t&&a.forEach(o=>{l.removeMark(o.$from.pos,o.$to.pos)}),!0},mC=(l,t={})=>({tr:n,state:r,dispatch:a})=>{var o;const{extendEmptyMarkRange:c=!1}=t,{selection:f}=n,d=Ln(l,r.schema),{$from:m,empty:g,ranges:y}=f;if(!a)return!0;if(g&&c){let{from:S,to:v}=f;const E=(o=m.marks().find(T=>T.type===d))==null?void 0:o.attrs,M=T1(m,d,E);M&&(S=M.from,v=M.to),n.removeMark(S,v,d)}else y.forEach(S=>{n.removeMark(S.$from.pos,S.$to.pos,d)});return n.removeStoredMark(d),!0},gC=l=>({tr:t,state:n,dispatch:r})=>{const{selection:a}=n;let o,c;return typeof l=="number"?(o=l,c=l):l&&"from"in l&&"to"in l?(o=l.from,c=l.to):(o=a.from,c=a.to),r&&t.doc.nodesBetween(o,c,(f,d)=>{if(f.isText)return;const m={...f.attrs};delete m.dir,t.setNodeMarkup(d,void 0,m)}),!0},yC=(l,t={})=>({tr:n,state:r,dispatch:a})=>{let o=null,c=null;const f=Oo(typeof l=="string"?l:l.name,r.schema);if(!f)return!1;f==="node"&&(o=ie(l,r.schema)),f==="mark"&&(c=Ln(l,r.schema));let d=!1;return n.selection.ranges.forEach(m=>{const g=m.$from.pos,y=m.$to.pos;let S,v,E,M;n.selection.empty?r.doc.nodesBetween(g,y,(T,N)=>{o&&o===T.type&&(d=!0,E=Math.max(N,g),M=Math.min(N+T.nodeSize,y),S=N,v=T)}):r.doc.nodesBetween(g,y,(T,N)=>{N<g&&o&&o===T.type&&(d=!0,E=Math.max(N,g),M=Math.min(N+T.nodeSize,y),S=N,v=T),N>=g&&N<=y&&(o&&o===T.type&&(d=!0,a&&n.setNodeMarkup(N,void 0,{...T.attrs,...t})),c&&T.marks.length&&T.marks.forEach(H=>{if(c===H.type&&(d=!0,a)){const Y=Math.max(N,g),K=Math.min(N+T.nodeSize,y);n.addMark(Y,K,c.create({...H.attrs,...t}))}}))}),v&&(S!==void 0&&a&&n.setNodeMarkup(S,void 0,{...v.attrs,...t}),c&&v.marks.length&&v.marks.forEach(T=>{c===T.type&&a&&n.addMark(E,M,c.create({...T.attrs,...t}))}))}),d},bC=(l,t={})=>({state:n,dispatch:r})=>{const a=ie(l,n.schema);return KE(a,t)(n,r)},SC=(l,t={})=>({state:n,dispatch:r})=>{const a=ie(l,n.schema);return QE(a,t)(n,r)},vC=class{constructor(){this.callbacks={}}on(l,t){return this.callbacks[l]||(this.callbacks[l]=[]),this.callbacks[l].push(t),this}emit(l,...t){const n=this.callbacks[l];return n&&n.forEach(r=>r.apply(this,t)),this}off(l,t){const n=this.callbacks[l];return n&&(t?this.callbacks[l]=n.filter(r=>r!==t):delete this.callbacks[l]),this}once(l,t){const n=(...r)=>{this.off(l,n),t.apply(this,r)};return this.on(l,n)}removeAllListeners(){this.callbacks={}}},EC=(l,t)=>{if(rd(t))return t.exec(l);const n=t(l);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=l,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Za(l){var t;const{editor:n,from:r,to:a,text:o,rules:c,plugin:f}=l,{view:d}=n;if(d.composing)return!1;const m=d.state.doc.resolve(r);if(m.parent.type.spec.code||(t=m.nodeBefore||m.nodeAfter)!=null&&t.marks.find(S=>S.type.spec.code))return!1;let g=!1;const y=$T(m)+o;return c.forEach(S=>{if(g)return;const v=EC(y,S.find);if(!v)return;const E=d.state.tr,M=To({state:d.state,transaction:E}),T={from:r-(v[0].length-o.length),to:a},{commands:N,chain:H,can:Y}=new Co({editor:n,state:M});S.handler({state:M,range:T,match:v,commands:N,chain:H,can:Y})===null||!E.steps.length||(S.undoable&&E.setMeta(f,{transform:E,from:r,to:a,text:o}),d.dispatch(E),g=!0)}),g}function xC(l){const{editor:t,rules:n}=l,r=new cn({state:{init(){return null},apply(a,o,c){const f=a.getMeta(r);if(f)return f;const d=a.getMeta("applyInputRules");return d&&setTimeout(()=>{let{text:g}=d;typeof g=="string"?g=g:g=od(L.from(g),c.schema);const{from:y}=d,S=y+g.length;Za({editor:t,from:y,to:S,text:g,rules:n,plugin:r})}),a.selectionSet||a.docChanged?null:o}},props:{handleTextInput(a,o,c,f){return Za({editor:t,from:o,to:c,text:f,rules:n,plugin:r})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:o}=a.state.selection;o&&Za({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(a,o){if(o.key!=="Enter")return!1;const{$cursor:c}=a.state.selection;return c?Za({editor:t,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function MC(l){return Object.prototype.toString.call(l).slice(8,-1)}function $a(l){return MC(l)!=="Object"?!1:l.constructor===Object&&Object.getPrototypeOf(l)===Object.prototype}function j1(l,t){const n={...l};return $a(l)&&$a(t)&&Object.keys(t).forEach(r=>{$a(t[r])&&$a(l[r])?n[r]=j1(l[r],t[r]):n[r]=t[r]}),n}var cd=class{constructor(l={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...l},this.name=this.config.name}get options(){return{..._t(tt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{..._t(tt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(l={}){const t=this.extend({...this.config,addOptions:()=>j1(this.options,l)});return t.name=this.name,t.parent=this.parent,t}extend(l={}){const t=new this.constructor({...this.config,...l});return t.parent=this,this.child=t,t.name="name"in l?l.name:t.parent.name,t}},TC=class q1 extends cd{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new q1(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,a=t.state.selection.$from;if(a.pos===a.end()){const c=a.marks();if(!!!c.find(m=>m?.type.name===n.name))return!1;const d=c.find(m=>m?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",a.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function CC(l){return typeof l=="number"}var OC=(l,t,n)=>{if(rd(t))return[...l.matchAll(t)];const r=t(l,n);return r?r.map(a=>{const o=[a.text];return o.index=a.index,o.input=l,o.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(a.replaceWith)),o}):[]};function AC(l){const{editor:t,state:n,from:r,to:a,rule:o,pasteEvent:c,dropEvent:f}=l,{commands:d,chain:m,can:g}=new Co({editor:t,state:n}),y=[];return n.doc.nodesBetween(r,a,(v,E)=>{var M,T,N,H,Y;if((T=(M=v.type)==null?void 0:M.spec)!=null&&T.code||!(v.isText||v.isTextblock||v.isInline))return;const K=(Y=(H=(N=v.content)==null?void 0:N.size)!=null?H:v.nodeSize)!=null?Y:0,G=Math.max(r,E),$=Math.min(a,E+K);if(G>=$)return;const q=v.isText?v.text||"":v.textBetween(G-E,$-E,void 0,"");OC(q,o.find,c).forEach(rt=>{if(rt.index===void 0)return;const $t=G+rt.index+1,he=$t+rt[0].length,Ut={from:n.tr.mapping.map($t),to:n.tr.mapping.map(he)},ke=o.handler({state:n,range:Ut,match:rt,commands:d,chain:m,can:g,pasteEvent:c,dropEvent:f});y.push(ke)})}),y.every(v=>v!==null)}var Ia=null,NC=l=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",l),n};function DC(l){const{editor:t,rules:n}=l;let r=null,a=!1,o=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,f;try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}const d=({state:g,from:y,to:S,rule:v,pasteEvt:E})=>{const M=g.tr,T=To({state:g,transaction:M});if(!(!AC({editor:t,state:T,from:Math.max(y-1,0),to:S.b-1,rule:v,pasteEvent:E,dropEvent:f})||!M.steps.length)){try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,M}};return n.map(g=>new cn({view(y){const S=E=>{var M;r=(M=y.dom.parentElement)!=null&&M.contains(E.target)?y.dom.parentElement:null,r&&(Ia=t)},v=()=>{Ia&&(Ia=null)};return window.addEventListener("dragstart",S),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",S),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,S)=>{if(o=r===y.dom.parentElement,f=S,!o){const v=Ia;v?.isEditable&&setTimeout(()=>{const E=v.state.selection;E&&v.commands.deleteRange({from:E.from,to:E.to})},10)}return!1},paste:(y,S)=>{var v;const E=(v=S.clipboardData)==null?void 0:v.getData("text/html");return c=S,a=!!E?.includes("data-pm-slice"),!1}}},appendTransaction:(y,S,v)=>{const E=y[0],M=E.getMeta("uiEvent")==="paste"&&!a,T=E.getMeta("uiEvent")==="drop"&&!o,N=E.getMeta("applyPasteRules"),H=!!N;if(!M&&!T&&!H)return;if(H){let{text:G}=N;typeof G=="string"?G=G:G=od(L.from(G),v.schema);const{from:$}=N,q=$+G.length,W=NC(G);return d({rule:g,state:v,from:$,to:{b:q},pasteEvt:W})}const Y=S.doc.content.findDiffStart(v.doc.content),K=S.doc.content.findDiffEnd(v.doc.content);if(!(!CC(Y)||!K||Y===K.b))return d({rule:g,state:v,from:Y,to:K,pasteEvt:c})}}))}var Ao=class{constructor(l,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=l,this.extensions=R1(l),this.schema=LT(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((l,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Qa(t.name,this.schema)},r=tt(t,"addCommands",n);return r?{...l,...r()}:l},{})}get plugins(){const{editor:l}=this;return mo([...this.extensions].reverse()).flatMap(r=>{const a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:l,type:Qa(r.name,this.schema)},o=[],c=tt(r,"addKeyboardShortcuts",a);let f={};if(r.type==="mark"&&tt(r,"exitable",a)&&(f.ArrowRight=()=>TC.handleExit({editor:l,mark:r})),c){const S=Object.fromEntries(Object.entries(c()).map(([v,E])=>[v,()=>E({editor:l})]));f={...f,...S}}const d=GM(f);o.push(d);const m=tt(r,"addInputRules",a);if(zy(r,l.options.enableInputRules)&&m){const S=m();if(S&&S.length){const v=xC({editor:l,rules:S}),E=Array.isArray(v)?v:[v];o.push(...E)}}const g=tt(r,"addPasteRules",a);if(zy(r,l.options.enablePasteRules)&&g){const S=g();if(S&&S.length){const v=DC({editor:l,rules:S});o.push(...v)}}const y=tt(r,"addProseMirrorPlugins",a);if(y){const S=y();o.push(...S)}return o})}get attributes(){return z1(this.extensions)}get nodeViews(){const{editor:l}=this,{nodeExtensions:t}=ir(this.extensions);return Object.fromEntries(t.filter(n=>!!tt(n,"addNodeView")).map(n=>{const r=this.attributes.filter(d=>d.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:l,type:ie(n.name,this.schema)},o=tt(n,"addNodeView",a);if(!o)return[];const c=o();if(!c)return[];const f=(d,m,g,y,S)=>{const v=vs(d,r);return c({node:d,view:m,getPos:g,decorations:y,innerDecorations:S,editor:l,extension:n,HTMLAttributes:v})};return[n.name,f]}))}dispatchTransaction(l){const{editor:t}=this;return mo([...this.extensions].reverse()).reduceRight((r,a)=>{const o={name:a.name,options:a.options,storage:this.editor.extensionStorage[a.name],editor:t,type:Qa(a.name,this.schema)},c=tt(a,"dispatchTransaction",o);return c?f=>{c.call(o,{transaction:f,next:r})}:r},l)}get markViews(){const{editor:l}=this,{markExtensions:t}=ir(this.extensions);return Object.fromEntries(t.filter(n=>!!tt(n,"addMarkView")).map(n=>{const r=this.attributes.filter(f=>f.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:l,type:Ln(n.name,this.schema)},o=tt(n,"addMarkView",a);if(!o)return[];const c=(f,d,m)=>{const g=vs(f,r);return o()({mark:f,view:d,inline:m,editor:l,extension:n,HTMLAttributes:g,updateAttributes:y=>{GC(f,l,y)}})};return[n.name,c]}))}setupExtensions(){const l=this.extensions;this.editor.extensionStorage=Object.fromEntries(l.map(t=>[t.name,t.storage])),l.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Qa(t.name,this.schema)};t.type==="mark"&&((n=_t(tt(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const a=tt(t,"onBeforeCreate",r),o=tt(t,"onCreate",r),c=tt(t,"onUpdate",r),f=tt(t,"onSelectionUpdate",r),d=tt(t,"onTransaction",r),m=tt(t,"onFocus",r),g=tt(t,"onBlur",r),y=tt(t,"onDestroy",r);a&&this.editor.on("beforeCreate",a),o&&this.editor.on("create",o),c&&this.editor.on("update",c),f&&this.editor.on("selectionUpdate",f),d&&this.editor.on("transaction",d),m&&this.editor.on("focus",m),g&&this.editor.on("blur",g),y&&this.editor.on("destroy",y)})}};Ao.resolve=R1;Ao.sort=mo;Ao.flatten=ad;var kC={};ld(kC,{ClipboardTextSerializer:()=>L1,Commands:()=>Y1,Delete:()=>G1,Drop:()=>X1,Editable:()=>J1,FocusEvents:()=>Q1,Keymap:()=>Z1,Paste:()=>$1,Tabindex:()=>I1,TextDirection:()=>F1,focusEventsPluginKey:()=>K1});var yn=class H1 extends cd{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new H1(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},L1=yn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new cn({key:new Ci("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:l}=this,{state:t,schema:n}=l,{doc:r,selection:a}=t,{ranges:o}=a,c=Math.min(...o.map(g=>g.$from.pos)),f=Math.max(...o.map(g=>g.$to.pos)),d=_1(n);return B1(r,{from:c,to:f},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),Y1=yn.create({name:"commands",addCommands(){return{...x1}}}),G1=yn.create({name:"delete",onUpdate({transaction:l,appendedTransactions:t}){var n,r,a;const o=()=>{var c,f,d,m;if((m=(d=(f=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:f.filterTransaction)==null?void 0:d.call(f,l))!=null?m:l.getMeta("y-sync$"))return;const g=UT(l.before,[l,...t]);ZT(g).forEach(v=>{g.mapping.mapResult(v.oldRange.from).deletedAfter&&g.mapping.mapResult(v.oldRange.to).deletedBefore&&g.before.nodesBetween(v.oldRange.from,v.oldRange.to,(E,M)=>{const T=M+E.nodeSize-2,N=v.oldRange.from<=M&&T<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:E,from:M,to:T,newFrom:g.mapping.map(M),newTo:g.mapping.map(T),deletedRange:v.oldRange,newRange:v.newRange,partial:!N,editor:this.editor,transaction:l,combinedTransform:g})})});const S=g.mapping;g.steps.forEach((v,E)=>{var M,T;if(v instanceof an){const N=S.slice(E).map(v.from,-1),H=S.slice(E).map(v.to),Y=S.invert().map(N,-1),K=S.invert().map(H),G=(M=g.doc.nodeAt(N-1))==null?void 0:M.marks.some(q=>q.eq(v.mark)),$=(T=g.doc.nodeAt(H))==null?void 0:T.marks.some(q=>q.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:Y,to:K},newRange:{from:N,to:H},partial:!!($||G),editor:this.editor,transaction:l,combinedTransform:g})}})};(a=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||a?setTimeout(o,0):o()}}),X1=yn.create({name:"drop",addProseMirrorPlugins(){return[new cn({key:new Ci("tiptapDrop"),props:{handleDrop:(l,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),J1=yn.create({name:"editable",addProseMirrorPlugins(){return[new cn({key:new Ci("editable"),props:{editable:()=>this.editor.options.editable}})]}}),K1=new Ci("focusEvents"),Q1=yn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:l}=this;return[new cn({key:K1,props:{handleDOMEvents:{focus:(t,n)=>{l.isFocused=!0;const r=l.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{l.isFocused=!1;const r=l.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Z1=yn.create({name:"keymap",addKeyboardShortcuts(){const l=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:f})=>{const{selection:d,doc:m}=f,{empty:g,$anchor:y}=d,{pos:S,parent:v}=y,E=y.parent.isTextblock&&S>0?f.doc.resolve(S-1):y,M=E.parent.type.spec.isolating,T=y.pos-y.parentOffset,N=M&&E.parent.childCount===1?T===y.pos:yt.atStart(m).from===S;return!g||!v.type.isTextblock||v.textContent.length||!N||N&&y.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:l,"Mod-Backspace":l,"Shift-Backspace":l,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},a={...r},o={...r,"Ctrl-h":l,"Alt-Backspace":l,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ys()||N1()?o:a},addProseMirrorPlugins(){return[new cn({key:new Ci("clearDocument"),appendTransaction:(l,t,n)=>{if(l.some(M=>M.getMeta("composition")))return;const r=l.some(M=>M.docChanged)&&!t.doc.eq(n.doc),a=l.some(M=>M.getMeta("preventClearDocument"));if(!r||a)return;const{empty:o,from:c,to:f}=t.selection,d=yt.atStart(t.doc).from,m=yt.atEnd(t.doc).to;if(o||!(c===d&&f===m)||!ud(n.doc))return;const S=n.tr,v=To({state:n,transaction:S}),{commands:E}=new Co({editor:this.editor,state:v});if(E.clearNodes(),!!S.steps.length)return S}})]}}),$1=yn.create({name:"paste",addProseMirrorPlugins(){return[new cn({key:new Ci("tiptapPaste"),props:{handlePaste:(l,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),I1=yn.create({name:"tabindex",addProseMirrorPlugins(){return[new cn({key:new Ci("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),F1=yn.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:l}=ir(this.extensions);return[{types:l.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new cn({key:new Ci("textDirection"),props:{attributes:()=>{const l=this.options.direction;return l?{dir:l}:{}}}})]}}),zC=class rs{constructor(t,n,r=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new rs(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new rs(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new rs(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const a=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,c=n.isInline,f=this.pos+r+(o?0:1);if(f<0||f>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(f);if(!a&&!c&&d.depth<=this.depth)return;const m=new rs(d,this.editor,a,a||c?n:null);a&&(m.actualDepth=this.depth+1),t.push(m)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,a=this.parent;for(;a&&!r;){if(a.node.type.name===t)if(Object.keys(n).length>0){const o=a.node.attrs,c=Object.keys(n);for(let f=0;f<c.length;f+=1){const d=c[f];if(o[d]!==n[d])break}}else r=a;a=a.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let a=[];if(!this.children||this.children.length===0)return a;const o=Object.keys(n);return this.children.forEach(c=>{r&&a.length>0||(c.node.type.name===t&&o.every(d=>n[d]===c.node.attrs[d])&&a.push(c),!(r&&a.length>0)&&(a=a.concat(c.querySelectorAll(t,n,r))))}),a}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},wC=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function RC(l,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const a=document.createElement("style");return t&&a.setAttribute("nonce",t),a.setAttribute("data-tiptap-style",""),a.innerHTML=l,document.getElementsByTagName("head")[0].appendChild(a),a}var BC=class extends vC{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:a})=>{throw a},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:FT,createMappablePosition:WT},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:a,slice:o,moved:c})=>this.options.onDrop(a,o,c)),this.on("paste",({event:a,slice:o})=>this.options.onPaste(a,o)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=O1(n,this.options.autofocus);this.editorState=Il.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=RC(wC,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,n)=>{if(this.editorView)return this.editorView[n];if(n==="state")return this.editorState;if(n in t)return Reflect.get(t,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,n){const r=k1(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],a=this.state.reconfigure({plugins:r});return this.view.updateState(a),a}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(t).forEach(o=>{const c=typeof o=="string"?`${o}$`:o.key;r=r.filter(f=>!f.key.startsWith(c))}),n.length===r.length)return;const a=this.state.reconfigure({plugins:r});return this.view.updateState(a),a}createExtensionManager(){var t,n;const a=[...this.options.enableCoreExtensions?[J1,L1.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:n.blockSeparator}),Y1,Q1,Z1,I1,X1,$1,G1,F1.configure({direction:this.options.textDirection})].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o?.type));this.extensionManager=new Ao(a,this)}createCommandManager(){this.commandManager=new Co({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Vf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=Vf(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:n,enableExtensionDispatchTransaction:r}=this.options,a=n.dispatchTransaction||this.dispatchTransaction.bind(this),o=r?this.extensionManager.dispatchTransaction(a):a;this.editorView=new E1(t,{...n,attributes:{role:"textbox",...n?.attributes},dispatchTransaction:o,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const c=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(c),this.prependClass(),this.injectCSS();const f=this.view.dom;f.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(g=>{var y;return(y=this.capturedTransaction)==null?void 0:y.step(g)});return}const{state:n,transactions:r}=this.state.applyTransaction(t),a=!this.state.selection.eq(n.selection),o=r.includes(t),c=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),!o)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),a&&this.emit("selectionUpdate",{editor:this,transaction:t});const f=r.findLast(g=>g.getMeta("focus")||g.getMeta("blur")),d=f?.getMeta("focus"),m=f?.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:f}),m&&this.emit("blur",{editor:this,event:m.event,transaction:f}),!(t.getMeta("preventUpdate")||!r.some(g=>g.docChanged)||c.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return JT(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,a=typeof t=="string"?n:t;return IT(this.state,r,a)}getJSON(){return this.state.doc.toJSON()}getHTML(){return od(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return GT(this.state.doc,{blockSeparator:n,textSerializers:{..._1(this.schema),...r}})}get isEmpty(){return ud(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,n;return(n=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?n:!0}$node(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new zC(n,this)}get $doc(){return this.$pos(0)}},_C={};ld(_C,{createAtomBlockMarkdownSpec:()=>UC,createBlockMarkdownSpec:()=>VC,createInlineMarkdownSpec:()=>HC,parseAttributes:()=>fd,parseIndentedBlocks:()=>LC,renderNestedMarkdownContent:()=>YC,serializeAttributes:()=>dd});function fd(l){if(!l?.trim())return{};const t={},n=[],r=l.replace(/["']([^"']*)["']/g,m=>(n.push(m),`__QUOTED_${n.length-1}__`)),a=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const m=a.map(g=>g.trim().slice(1));t.class=m.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(t.id=o[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(c)).forEach(([,m,g])=>{var y;const S=parseInt(((y=g.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),v=n[S];v&&(t[m]=v.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(g=>{g.match(/^[a-zA-Z][\w-]*$/)&&(t[g]=!0)}),t}function dd(l){if(!l||Object.keys(l).length===0)return"";const t=[];return l.class&&String(l.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),l.id&&t.push(`#${l.id}`),Object.entries(l).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function UC(l){const{nodeName:t,name:n,parseAttributes:r=fd,serializeAttributes:a=dd,defaultAttributes:o={},requiredAttributes:c=[],allowedAttributes:f}=l,d=n||t,m=g=>{if(!f)return g;const y={};return f.forEach(S=>{S in g&&(y[S]=g[S])}),y};return{parseMarkdown:(g,y)=>{const S={...o,...g.attributes};return y.createNode(t,S,[])},markdownTokenizer:{name:t,level:"block",start(g){var y;const S=new RegExp(`^:::${d}(?:\\s|$)`,"m"),v=(y=g.match(S))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(g,y,S){const v=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),E=g.match(v);if(!E)return;const M=E[1]||"",T=r(M);if(!c.find(H=>!(H in T)))return{type:t,raw:E[0],attributes:T}}},renderMarkdown:g=>{const y=m(g.attrs||{}),S=a(y),v=S?` {${S}}`:"";return`:::${d}${v} :::`}}}function VC(l){const{nodeName:t,name:n,getContent:r,parseAttributes:a=fd,serializeAttributes:o=dd,defaultAttributes:c={},content:f="block",allowedAttributes:d}=l,m=n||t,g=y=>{if(!d)return y;const S={};return d.forEach(v=>{v in y&&(S[v]=y[v])}),S};return{parseMarkdown:(y,S)=>{let v;if(r){const M=r(y);v=typeof M=="string"?[{type:"text",text:M}]:M}else f==="block"?v=S.parseChildren(y.tokens||[]):v=S.parseInline(y.tokens||[]);const E={...c,...y.attributes};return S.createNode(t,E,v)},markdownTokenizer:{name:t,level:"block",start(y){var S;const v=new RegExp(`^:::${m}`,"m"),E=(S=y.match(v))==null?void 0:S.index;return E!==void 0?E:-1},tokenize(y,S,v){var E;const M=new RegExp(`^:::${m}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),T=y.match(M);if(!T)return;const[N,H=""]=T,Y=a(H);let K=1;const G=N.length;let $="";const q=/^:::([\w-]*)(\s.*)?/gm,W=y.slice(G);for(q.lastIndex=0;;){const rt=q.exec(W);if(rt===null)break;const $t=rt.index,he=rt[1];if(!((E=rt[2])!=null&&E.endsWith(":::"))){if(he)K+=1;else if(K-=1,K===0){const Ut=W.slice(0,$t);$=Ut.trim();const ke=y.slice(0,G+$t+rt[0].length);let It=[];if($)if(f==="block")for(It=v.blockTokens(Ut),It.forEach(qt=>{qt.text&&(!qt.tokens||qt.tokens.length===0)&&(qt.tokens=v.inlineTokens(qt.text))});It.length>0;){const qt=It[It.length-1];if(qt.type==="paragraph"&&(!qt.text||qt.text.trim()===""))It.pop();else break}else It=v.inlineTokens($);return{type:t,raw:ke,attributes:Y,content:$,tokens:It}}}}}},renderMarkdown:(y,S)=>{const v=g(y.attrs||{}),E=o(v),M=E?` {${E}}`:"",T=S.renderChildren(y.content||[],`

`);return`:::${m}${M}

${T}

:::`}}}function jC(l){if(!l.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(l);for(;r!==null;){const[,a,o,c]=r;t[a]=o||c,r=n.exec(l)}return t}function qC(l){return Object.entries(l).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function HC(l){const{nodeName:t,name:n,getContent:r,parseAttributes:a=jC,serializeAttributes:o=qC,defaultAttributes:c={},selfClosing:f=!1,allowedAttributes:d}=l,m=n||t,g=S=>{if(!d)return S;const v={};return d.forEach(E=>{const M=typeof E=="string"?E:E.name,T=typeof E=="string"?void 0:E.skipIfDefault;if(M in S){const N=S[M];if(T!==void 0&&N===T)return;v[M]=N}}),v},y=m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(S,v)=>{const E={...c,...S.attributes};if(f)return v.createNode(t,E);const M=r?r(S):S.content||"";return M?v.createNode(t,E,[v.createTextNode(M)]):v.createNode(t,E,[])},markdownTokenizer:{name:t,level:"inline",start(S){const v=f?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),E=S.match(v),M=E?.index;return M!==void 0?M:-1},tokenize(S,v,E){const M=f?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),T=S.match(M);if(!T)return;let N="",H="";if(f){const[,K]=T;H=K}else{const[,K,G]=T;H=K,N=G||""}const Y=a(H.trim());return{type:t,raw:T[0],content:N.trim(),attributes:Y}}},renderMarkdown:S=>{let v="";r?v=r(S):S.content&&S.content.length>0&&(v=S.content.filter(N=>N.type==="text").map(N=>N.text).join(""));const E=g(S.attrs||{}),M=o(E),T=M?` ${M}`:"";return f?`[${m}${T}]`:`[${m}${T}]${v}[/${m}]`}}}function LC(l,t,n){var r,a,o,c;const f=l.split(`
`),d=[];let m="",g=0;const y=t.baseIndentSize||2;for(;g<f.length;){const S=f[g],v=S.match(t.itemPattern);if(!v){if(d.length>0)break;if(S.trim()===""){g+=1,m=`${m}${S}
`;continue}else return}const E=t.extractItemData(v),{indentLevel:M,mainContent:T}=E;m=`${m}${S}
`;const N=[T];for(g+=1;g<f.length;){const G=f[g];if(G.trim()===""){const q=f.slice(g+1).findIndex($t=>$t.trim()!=="");if(q===-1)break;if((((a=(r=f[g+1+q].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:a.length)||0)>M){N.push(G),m=`${m}${G}
`,g+=1;continue}else break}if((((c=(o=G.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:c.length)||0)>M)N.push(G),m=`${m}${G}
`,g+=1;else break}let H;const Y=N.slice(1);if(Y.length>0){const G=Y.map($=>$.slice(M+y)).join(`
`);G.trim()&&(t.customNestedParser?H=t.customNestedParser(G):H=n.blockTokens(G))}const K=t.createToken(E,H);d.push(K)}if(d.length!==0)return{items:d,raw:m}}function YC(l,t,n,r){if(!l||!Array.isArray(l.content))return"";const a=typeof n=="function"?n(r):n,[o,...c]=l.content,f=t.renderChildren([o]),d=[`${a}${f}`];return c&&c.length>0&&c.forEach(m=>{const g=t.renderChildren([m]);if(g){const y=g.split(`
`).map(S=>S?t.indent(S):"").join(`
`);d.push(y)}}),d.join(`
`)}function GC(l,t,n={}){const{state:r}=t,{doc:a,tr:o}=r,c=l;a.descendants((f,d)=>{const m=o.mapping.map(d),g=o.mapping.map(d)+f.nodeSize;let y=null;if(f.marks.forEach(v=>{if(v!==c)return!1;y=v}),!y)return;let S=!1;if(Object.keys(n).forEach(v=>{n[v]!==y.attrs[v]&&(S=!0)}),S){const v=l.type.create({...l.attrs,...n});o.removeMark(m,g,l.type),o.addMark(m,g,v)}}),o.docChanged&&t.view.dispatch(o)}var hd=class W1 extends cd{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new W1(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},XC=class{constructor(l,t,n){this.isDragging=!1,this.component=l,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(l){var t,n,r,a,o,c,f;const{view:d}=this.editor,m=l.target,g=m.nodeType===3?(t=m.parentElement)==null?void 0:t.closest("[data-drag-handle]"):m.closest("[data-drag-handle]");if(!this.dom||(n=this.contentDOM)!=null&&n.contains(m)||!g)return;let y=0,S=0;if(this.dom!==g){const H=this.dom.getBoundingClientRect(),Y=g.getBoundingClientRect(),K=(a=l.offsetX)!=null?a:(r=l.nativeEvent)==null?void 0:r.offsetX,G=(c=l.offsetY)!=null?c:(o=l.nativeEvent)==null?void 0:o.offsetY;y=Y.x-H.x+K,S=Y.y-H.y+G}const v=this.dom.cloneNode(!0);try{const H=this.dom.getBoundingClientRect();v.style.width=`${Math.round(H.width)}px`,v.style.height=`${Math.round(H.height)}px`,v.style.boxSizing="border-box",v.style.pointerEvents="none"}catch{}let E=null;try{E=document.createElement("div"),E.style.position="absolute",E.style.top="-9999px",E.style.left="-9999px",E.style.pointerEvents="none",E.appendChild(v),document.body.appendChild(E),(f=l.dataTransfer)==null||f.setDragImage(v,y,S)}finally{E&&setTimeout(()=>{try{E?.remove()}catch{}},0)}const M=this.getPos();if(typeof M!="number")return;const T=nt.create(d.state.doc,M),N=d.state.tr.setSelection(T);d.dispatch(N)}stopEvent(l){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:l});const n=l.target;if(!(this.dom.contains(n)&&!((t=this.contentDOM)!=null&&t.contains(n))))return!1;const a=l.type.startsWith("drag"),o=l.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!a)return!0;const{isEditable:f}=this.editor,{isDragging:d}=this,m=!!this.node.type.spec.draggable,g=nt.isSelectable(this.node),y=l.type==="copy",S=l.type==="paste",v=l.type==="cut",E=l.type==="mousedown";if(!m&&g&&a&&l.target===this.dom&&l.preventDefault(),m&&a&&!d&&l.target===this.dom)return l.preventDefault(),!1;if(m&&f&&!d&&E){const M=n.closest("[data-drag-handle]");M&&(this.dom===M||this.dom.contains(M))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(d||o||y||S||v||E&&g)}ignoreMutation(l){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:l}):this.node.isLeaf||this.node.isAtom?!0:l.type==="selection"||this.dom.contains(l.target)&&l.type==="childList"&&(ys()||Uf())&&this.editor.isFocused&&[...Array.from(l.addedNodes),...Array.from(l.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===l.target&&l.type==="attributes"?!0:!this.contentDOM.contains(l.target)}updateAttributes(l){this.editor.commands.command(({tr:t})=>{const n=this.getPos();return typeof n!="number"?!1:(t.setNodeMarkup(n,void 0,{...this.node.attrs,...l}),!0)})}deleteNode(){const l=this.getPos();if(typeof l!="number")return;const t=l+this.node.nodeSize;this.editor.commands.deleteRange({from:l,to:t})}};const{getOwnPropertyNames:JC,getOwnPropertySymbols:KC}=Object,{hasOwnProperty:QC}=Object.prototype;function bf(l,t){return function(r,a,o){return l(r,a,o)&&t(r,a,o)}}function Fa(l){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return l(n,r,a);const{cache:o}=a,c=o.get(n),f=o.get(r);if(c&&f)return c===r&&f===n;o.set(n,r),o.set(r,n);const d=l(n,r,a);return o.delete(n),o.delete(r),d}}function ZC(l){return l?.[Symbol.toStringTag]}function By(l){return JC(l).concat(KC(l))}const $C=Object.hasOwn||((l,t)=>QC.call(l,t));function al(l,t){return l===t||!l&&!t&&l!==l&&t!==t}const IC="__v",FC="__o",WC="_owner",{getOwnPropertyDescriptor:_y,keys:Uy}=Object;function PC(l,t){return l.byteLength===t.byteLength&&go(new Uint8Array(l),new Uint8Array(t))}function tO(l,t,n){let r=l.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(l[r],t[r],r,r,l,t,n))return!1;return!0}function eO(l,t){return l.byteLength===t.byteLength&&go(new Uint8Array(l.buffer,l.byteOffset,l.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function nO(l,t){return al(l.getTime(),t.getTime())}function iO(l,t){return l.name===t.name&&l.message===t.message&&l.cause===t.cause&&l.stack===t.stack}function lO(l,t){return l===t}function Vy(l,t,n){const r=l.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),o=l.entries();let c,f,d=0;for(;(c=o.next())&&!c.done;){const m=t.entries();let g=!1,y=0;for(;(f=m.next())&&!f.done;){if(a[y]){y++;continue}const S=c.value,v=f.value;if(n.equals(S[0],v[0],d,y,l,t,n)&&n.equals(S[1],v[1],S[0],v[0],l,t,n)){g=a[y]=!0;break}y++}if(!g)return!1;d++}return!0}const rO=al;function sO(l,t,n){const r=Uy(l);let a=r.length;if(Uy(t).length!==a)return!1;for(;a-- >0;)if(!P1(l,t,n,r[a]))return!1;return!0}function es(l,t,n){const r=By(l);let a=r.length;if(By(t).length!==a)return!1;let o,c,f;for(;a-- >0;)if(o=r[a],!P1(l,t,n,o)||(c=_y(l,o),f=_y(t,o),(c||f)&&(!c||!f||c.configurable!==f.configurable||c.enumerable!==f.enumerable||c.writable!==f.writable)))return!1;return!0}function aO(l,t){return al(l.valueOf(),t.valueOf())}function oO(l,t){return l.source===t.source&&l.flags===t.flags}function jy(l,t,n){const r=l.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),o=l.values();let c,f;for(;(c=o.next())&&!c.done;){const d=t.values();let m=!1,g=0;for(;(f=d.next())&&!f.done;){if(!a[g]&&n.equals(c.value,f.value,c.value,f.value,l,t,n)){m=a[g]=!0;break}g++}if(!m)return!1}return!0}function go(l,t){let n=l.byteLength;if(t.byteLength!==n||l.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(l[n]!==t[n])return!1;return!0}function uO(l,t){return l.hostname===t.hostname&&l.pathname===t.pathname&&l.protocol===t.protocol&&l.port===t.port&&l.hash===t.hash&&l.username===t.username&&l.password===t.password}function P1(l,t,n,r){return(r===WC||r===FC||r===IC)&&(l.$$typeof||t.$$typeof)?!0:$C(t,r)&&n.equals(l[r],t[r],r,r,l,t,n)}const cO="[object ArrayBuffer]",fO="[object Arguments]",dO="[object Boolean]",hO="[object DataView]",pO="[object Date]",mO="[object Error]",gO="[object Map]",yO="[object Number]",bO="[object Object]",SO="[object RegExp]",vO="[object Set]",EO="[object String]",xO={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},MO="[object URL]",TO=Object.prototype.toString;function CO({areArrayBuffersEqual:l,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:c,areNumbersEqual:f,areObjectsEqual:d,arePrimitiveWrappersEqual:m,areRegExpsEqual:g,areSetsEqual:y,areTypedArraysEqual:S,areUrlsEqual:v,unknownTagComparators:E}){return function(T,N,H){if(T===N)return!0;if(T==null||N==null)return!1;const Y=typeof T;if(Y!==typeof N)return!1;if(Y!=="object")return Y==="number"?f(T,N,H):Y==="function"?o(T,N,H):!1;const K=T.constructor;if(K!==N.constructor)return!1;if(K===Object)return d(T,N,H);if(Array.isArray(T))return t(T,N,H);if(K===Date)return r(T,N,H);if(K===RegExp)return g(T,N,H);if(K===Map)return c(T,N,H);if(K===Set)return y(T,N,H);const G=TO.call(T);if(G===pO)return r(T,N,H);if(G===SO)return g(T,N,H);if(G===gO)return c(T,N,H);if(G===vO)return y(T,N,H);if(G===bO)return typeof T.then!="function"&&typeof N.then!="function"&&d(T,N,H);if(G===MO)return v(T,N,H);if(G===mO)return a(T,N,H);if(G===fO)return d(T,N,H);if(xO[G])return S(T,N,H);if(G===cO)return l(T,N,H);if(G===hO)return n(T,N,H);if(G===dO||G===yO||G===EO)return m(T,N,H);if(E){let $=E[G];if(!$){const q=ZC(T);q&&($=E[q])}if($)return $(T,N,H)}return!1}}function OO({circular:l,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:PC,areArraysEqual:n?es:tO,areDataViewsEqual:eO,areDatesEqual:nO,areErrorsEqual:iO,areFunctionsEqual:lO,areMapsEqual:n?bf(Vy,es):Vy,areNumbersEqual:rO,areObjectsEqual:n?es:sO,arePrimitiveWrappersEqual:aO,areRegExpsEqual:oO,areSetsEqual:n?bf(jy,es):jy,areTypedArraysEqual:n?bf(go,es):go,areUrlsEqual:uO,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),l){const a=Fa(r.areArraysEqual),o=Fa(r.areMapsEqual),c=Fa(r.areObjectsEqual),f=Fa(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:f})}return r}function AO(l){return function(t,n,r,a,o,c,f){return l(t,n,f)}}function NO({circular:l,comparator:t,createState:n,equals:r,strict:a}){if(n)return function(f,d){const{cache:m=l?new WeakMap:void 0,meta:g}=n();return t(f,d,{cache:m,equals:r,meta:g,strict:a})};if(l)return function(f,d){return t(f,d,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};const o={cache:void 0,equals:r,meta:void 0,strict:a};return function(f,d){return t(f,d,o)}}const DO=Ai();Ai({strict:!0});Ai({circular:!0});Ai({circular:!0,strict:!0});Ai({createInternalComparator:()=>al});Ai({strict:!0,createInternalComparator:()=>al});Ai({circular:!0,createInternalComparator:()=>al});Ai({circular:!0,createInternalComparator:()=>al,strict:!0});function Ai(l={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:a=!1}=l,o=OO(l),c=CO(o),f=n?n(c):AO(c);return NO({circular:t,comparator:c,createState:r,equals:f,strict:a})}var Sf={exports:{}},vf={};var qy;function kO(){if(qy)return vf;qy=1;var l=Es(),t=Qy();function n(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,o=l.useRef,c=l.useEffect,f=l.useMemo,d=l.useDebugValue;return vf.useSyncExternalStoreWithSelector=function(m,g,y,S,v){var E=o(null);if(E.current===null){var M={hasValue:!1,value:null};E.current=M}else M=E.current;E=f(function(){function N($){if(!H){if(H=!0,Y=$,$=S($),v!==void 0&&M.hasValue){var q=M.value;if(v(q,$))return K=q}return K=$}if(q=K,r(Y,$))return q;var W=S($);return v!==void 0&&v(q,W)?(Y=$,q):(Y=$,K=W)}var H=!1,Y,K,G=y===void 0?null:y;return[function(){return N(g())},G===null?void 0:function(){return N(G())}]},[g,y,S,v]);var T=a(m,E[0],E[1]);return c(function(){M.hasValue=!0,M.value=T},[T]),d(T),T},vf}var Hy;function zO(){return Hy||(Hy=1,Sf.exports=kO()),Sf.exports}var wO=zO(),RO=(...l)=>t=>{l.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},BO=({contentComponent:l})=>{const t=Zy.useSyncExternalStore(l.subscribe,l.getSnapshot,l.getServerSnapshot);return ut.jsx(ut.Fragment,{children:Object.values(t)})};function _O(){const l=new Set;let t={};return{subscribe(n){return l.add(n),()=>{l.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:Uv.createPortal(r.reactElement,r.element,n)},l.forEach(a=>a())},removeRenderer(n){const r={...t};delete r[n],t=r,l.forEach(a=>a())}}}var UO=class extends Ne.Component{constructor(l){var t;super(l),this.editorContentRef=Ne.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=l.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var l;const t=this.props.editor;if(t&&!t.isDestroyed&&((l=t.view.dom)!=null&&l.parentNode)){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n}),t.contentComponent=_O(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var l;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((l=t.view.dom)!=null&&l.parentNode))return;const n=document.createElement("div");n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n})}catch{}}}render(){const{editor:l,innerRef:t,...n}=this.props;return ut.jsxs(ut.Fragment,{children:[ut.jsx("div",{ref:RO(t,this.editorContentRef),...n}),l?.contentComponent&&ut.jsx(BO,{contentComponent:l.contentComponent})]})}},VO=Tt.forwardRef((l,t)=>{const n=Ne.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[l.editor]);return Ne.createElement(UO,{key:n,innerRef:t,...l})}),jO=Ne.memo(VO),qO=typeof window<"u"?Tt.useLayoutEffect:Tt.useEffect,HO=class{constructor(l){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=l,this.lastSnapshot={editor:l,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(l){return this.subscribers.add(l),()=>{this.subscribers.delete(l)}}watch(l){if(this.editor=l,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function LO(l){var t;const[n]=Tt.useState(()=>new HO(l.editor)),r=wO.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,l.selector,(t=l.equalityFn)!=null?t:DO);return qO(()=>n.watch(l.editor),[l.editor,n]),Tt.useDebugValue(r),r}var YO=!1,qf=typeof window>"u",GO=qf||!!(typeof window<"u"&&window.next),XO=class tb{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?qf||GO?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var a,o;return(o=(a=this.options.current).onBeforeCreate)==null?void 0:o.call(a,...r)},onBlur:(...r)=>{var a,o;return(o=(a=this.options.current).onBlur)==null?void 0:o.call(a,...r)},onCreate:(...r)=>{var a,o;return(o=(a=this.options.current).onCreate)==null?void 0:o.call(a,...r)},onDestroy:(...r)=>{var a,o;return(o=(a=this.options.current).onDestroy)==null?void 0:o.call(a,...r)},onFocus:(...r)=>{var a,o;return(o=(a=this.options.current).onFocus)==null?void 0:o.call(a,...r)},onSelectionUpdate:(...r)=>{var a,o;return(o=(a=this.options.current).onSelectionUpdate)==null?void 0:o.call(a,...r)},onTransaction:(...r)=>{var a,o;return(o=(a=this.options.current).onTransaction)==null?void 0:o.call(a,...r)},onUpdate:(...r)=>{var a,o;return(o=(a=this.options.current).onUpdate)==null?void 0:o.call(a,...r)},onContentError:(...r)=>{var a,o;return(o=(a=this.options.current).onContentError)==null?void 0:o.call(a,...r)},onDrop:(...r)=>{var a,o;return(o=(a=this.options.current).onDrop)==null?void 0:o.call(a,...r)},onPaste:(...r)=>{var a,o;return(o=(a=this.options.current).onPaste)==null?void 0:o.call(a,...r)},onDelete:(...r)=>{var a,o;return(o=(a=this.options.current).onDelete)==null?void 0:o.call(a,...r)}};return new BC(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((a,o)=>{var c;return a===((c=n.extensions)==null?void 0:c[o])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?tb.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,a)=>r===t[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function JO(l={},t=[]){const n=Tt.useRef(l);n.current=l;const[r]=Tt.useState(()=>new XO(n)),a=Zy.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return Tt.useDebugValue(a),Tt.useEffect(r.onRender(t)),LO({editor:a,selector:({transactionNumber:o})=>l.shouldRerenderOnTransaction===!1||l.shouldRerenderOnTransaction===void 0?null:l.immediatelyRender&&o===0?0:o+1}),a}var KO=Tt.createContext({editor:null});KO.Consumer;var eb=Tt.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),nb=()=>Tt.useContext(eb);function QO({as:l="div",...t}){const{nodeViewContentRef:n,nodeViewContentChildren:r}=nb();return ut.jsx(l,{...t,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...t.style},children:r})}var ZO=Ne.forwardRef((l,t)=>{const{onDragStart:n}=nb(),r=l.as||"div";return ut.jsx(r,{...l,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...l.style}})});function Ly(l){return!!(typeof l=="function"&&l.prototype&&l.prototype.isReactComponent)}function Yy(l){return!!(typeof l=="object"&&l.$$typeof&&(l.$$typeof.toString()==="Symbol(react.forward_ref)"||l.$$typeof.description==="react.forward_ref"))}function $O(l){return!!(typeof l=="object"&&l.$$typeof&&(l.$$typeof.toString()==="Symbol(react.memo)"||l.$$typeof.description==="react.memo"))}function IO(l){if(Ly(l)||Yy(l))return!0;if($O(l)){const t=l.type;if(t)return Ly(t)||Yy(t)}return!1}function FO(){try{if(Tt.version)return parseInt(Tt.version.split(".")[0],10)>=19}catch{}return!1}var WO=class{constructor(l,{editor:t,props:n={},as:r="div",className:a=""}){this.ref=null,this.destroyed=!1,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=l,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),a&&this.element.classList.add(...a.split(" ")),this.editor.isInitialized?Ky.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.destroyed||this.render()})}render(){var l;if(this.destroyed)return;const t=this.component,n=this.props,r=this.editor,a=FO(),o=IO(t),c={...n};c.ref&&!(a||o)&&delete c.ref,!c.ref&&(a||o)&&(c.ref=f=>{this.ref=f}),this.reactElement=ut.jsx(t,{...c}),(l=r?.contentComponent)==null||l.setRenderer(this.id,this)}updateProps(l={}){this.destroyed||(this.props={...this.props,...l},this.render())}destroy(){var l;this.destroyed=!0;const t=this.editor;(l=t?.contentComponent)==null||l.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch{}}updateAttributes(l){Object.keys(l).forEach(t=>{this.element.setAttribute(t,l[t])})}};Ne.createContext({markViewContentRef:()=>{}});var PO=class extends XC{constructor(l,t,n){if(super(l,t,n),this.selectionRafId=null,!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const r=this.dom.querySelector("[data-node-view-content]");if(!r)return;r.appendChild(this.contentDOMElement)}}mount(){const l={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(d={})=>this.updateAttributes(d),deleteNode:()=>this.deleteNode(),ref:Tt.createRef()};if(!this.component.displayName){const d=m=>m.charAt(0).toUpperCase()+m.substring(1);this.component.displayName=d(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:d=>{d&&this.contentDOMElement&&d.firstChild!==this.contentDOMElement&&(d.hasAttribute("data-node-view-wrapper")&&d.removeAttribute("data-node-view-wrapper"),d.appendChild(this.contentDOMElement))}},a=this.component,o=Tt.memo(d=>ut.jsx(eb.Provider,{value:r,children:Tt.createElement(a,d)}));o.displayName="ReactNodeView";let c=this.node.isInline?"span":"div";this.options.as&&(c=this.options.as);const{className:f=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new WO(o,{editor:this.editor,props:l,as:c,className:`node-${this.node.type.name} ${f}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var l;if(this.renderer.element.firstElementChild&&!((l=this.renderer.element.firstElementChild)!=null&&l.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){this.selectionRafId&&(cancelAnimationFrame(this.selectionRafId),this.selectionRafId=null),this.selectionRafId=requestAnimationFrame(()=>{this.selectionRafId=null;const{from:l,to:t}=this.editor.state.selection,n=this.getPos();if(typeof n=="number")if(l<=n&&t>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}})}update(l,t,n){const r=a=>{this.renderer.updateProps(a),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(l.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const a=this.node,o=this.decorations,c=this.innerDecorations;return this.node=l,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:a,oldDecorations:o,newNode:l,newDecorations:t,oldInnerDecorations:c,innerDecorations:n,updateProps:()=>r({node:l,decorations:t,innerDecorations:n})})}return l===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=l,this.decorations=t,this.innerDecorations=n,r({node:l,decorations:t,innerDecorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null,this.selectionRafId&&(cancelAnimationFrame(this.selectionRafId),this.selectionRafId=null)}updateElementAttributes(){if(this.options.attrs){let l={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,n=vs(this.node,t);l=this.options.attrs({node:this.node,HTMLAttributes:n})}else l=this.options.attrs;this.renderer.updateAttributes(l)}}};function tA(l,t){return n=>n.editor.contentComponent?new PO(l,n,t):{}}const eA=hd.create({name:"doc",topNode:!0,content:"block+"}),nA=({children:l})=>ut.jsx("p",{className:"break-all text-base my-4",children:l}),iA=hd.create({name:"paragraph",group:"block",content:"inline*",parseHTML(){return[{tag:'[data-node="p"]'},{tag:"p"}]},renderHTML({HTMLAttributes:l}){return["p",w1(l,{"data-node":"p"}),0]},addNodeView(){return tA(lA,{contentDOMElementTag:"span"})}}),lA=()=>ut.jsx(ZO,{children:ut.jsx(nA,{children:ut.jsx(QO,{as:"span"})})}),rA=hd.create({name:"text",group:"inline"});function Gy(l,t){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(l,a).enumerable})),n.push.apply(n,r)}return n}function sA(l){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gy(Object(n),!0).forEach(function(r){aA(l,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):Gy(Object(n)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(n,r))})}return l}function aA(l,t,n){return t in l?Object.defineProperty(l,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[t]=n,l}function Hf(){return Hf=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(l[r]=n[r])}return l},Hf.apply(this,arguments)}function oA(l,t){if(l==null)return{};var n={},r=Object.keys(l),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=l[a]);return n}function uA(l,t){if(l==null)return{};var n=oA(l,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(l,r)&&(n[r]=l[r])}return n}var cA=["aria-label","aria-labelledby","tabIndex","className","fill","size","verticalAlign","id","title","style"],fA={small:16,medium:32,large:64};function ib(l,t,n){var r=n(),a=Object.keys(r),o=Ne.forwardRef(function(c,f){var d=c["aria-label"],m=c["aria-labelledby"],g=c.tabIndex,y=c.className,S=y===void 0?"":y,v=c.fill,E=v===void 0?"currentColor":v,M=c.size,T=M===void 0?16:M,N=c.verticalAlign,H=N===void 0?"text-bottom":N,Y=c.id,K=c.title,G=c.style,$=uA(c,cA),q=fA[T]||T,W=dA(a,q),rt=r[W].width,$t=q*(rt/W),he=r[W].path,Ut=d||m,ke=Ut?"img":void 0;return Ne.createElement("svg",Hf({ref:f},$,{"aria-hidden":Ut?void 0:"true",tabIndex:g,focusable:g>=0?"true":"false","aria-label":d,"aria-labelledby":m,className:"".concat(t," ").concat(S).trim(),role:ke,viewBox:"0 0 ".concat(rt," ").concat(W),width:$t,height:q,fill:E,id:Y,display:"inline-block",overflow:"visible",style:sA({verticalAlign:H},G)}),K?Ne.createElement("title",null,K):null,he)});return o.displayName=l,o}function dA(l,t){return l.map(function(n){return parseInt(n,10)}).reduce(function(n,r){return r<=t?r:n},l[0])}var hA=ib("MarkGithubIcon","octicon octicon-mark-github",function(){return{16:{width:16,path:Ne.createElement("path",{d:"M6.766 11.695C4.703 11.437 3.25 9.904 3.25 7.92c0-.806.281-1.677.75-2.258-.203-.532-.172-1.662.062-2.129.626-.081 1.469.258 1.969.726.594-.194 1.219-.291 1.985-.291.765 0 1.39.097 1.953.274.484-.451 1.343-.79 1.969-.709.218.435.25 1.564.046 2.113.5.613.766 1.436.766 2.274 0 1.984-1.453 3.485-3.547 3.759.531.355.891 1.129.891 2.016v1.678c0 .484.39.758.859.564C13.781 14.824 16 11.905 16 8.291 16 3.726 12.406 0 7.984 0 3.562 0 0 3.726 0 8.291c0 3.581 2.203 6.55 5.172 7.663A.595.595 0 0 0 6 15.389v-1.291c-.219.097-.5.162-.75.162-1.031 0-1.641-.581-2.078-1.662-.172-.435-.36-.693-.719-.742-.187-.016-.25-.097-.25-.193 0-.194.313-.339.625-.339.453 0 .844.29 1.25.887.313.468.641.678 1.031.678.391 0 .641-.146 1-.516.266-.275.469-.517.657-.678Z"})},24:{width:24,path:Ne.createElement("path",{d:"M10.303 16.652c-2.837-.344-4.835-2.385-4.835-5.028 0-1.074.387-2.235 1.031-3.008-.279-.709-.236-2.214.086-2.837.86-.107 2.02.344 2.708.967.816-.258 1.676-.386 2.728-.386 1.053 0 1.913.128 2.686.365.666-.602 1.848-1.053 2.708-.946.3.581.344 2.085.064 2.815.688.817 1.053 1.913 1.053 3.03 0 2.643-1.998 4.641-4.877 5.006.73.473 1.224 1.504 1.224 2.686v2.235c0 .644.537 1.01 1.182.752 3.889-1.483 6.94-5.372 6.94-10.185 0-6.081-4.942-11.044-11.022-11.044-6.081 0-10.98 4.963-10.98 11.044a10.84 10.84 0 0 0 7.112 10.206c.58.215 1.139-.172 1.139-.752v-1.719a2.768 2.768 0 0 1-1.032.215c-1.418 0-2.256-.773-2.857-2.213-.237-.58-.495-.924-.989-.988-.258-.022-.344-.129-.344-.258 0-.258.43-.451.86-.451.623 0 1.16.386 1.719 1.181.43.623.881.903 1.418.903.537 0 .881-.194 1.375-.688.365-.365.645-.687.903-.902Z"})}}}),pA=ib("PlusIcon","octicon octicon-plus",function(){return{16:{width:16,path:Ne.createElement("path",{d:"M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"})},24:{width:24,path:Ne.createElement("path",{d:"M11.75 4.5a.75.75 0 0 1 .75.75V11h5.75a.75.75 0 0 1 0 1.5H12.5v5.75a.75.75 0 0 1-1.5 0V12.5H5.25a.75.75 0 0 1 0-1.5H11V5.25a.75.75 0 0 1 .75-.75Z"})}}});function mA(l=!1){const[t,n]=Tt.useState(l),r=Tt.useCallback(()=>n(!0),[]),a=Tt.useCallback(()=>n(!1),[]),o=Tt.useCallback(()=>n(c=>!c),[]);return[t,r,a,o]}const gA=({editor:l})=>{const[t,n]=Tt.useState(null),r=Tt.useRef(null),[a,o,c,f]=mA();Tt.useEffect(()=>{if(!l)return;const g=()=>{const S=l.state.selection.$anchor.before(1),v=l.view.nodeDOM(S);if(!(v instanceof Element))return;r.current=v;const{top:E,left:M}=v.getBoundingClientRect();n({top:E+window.scrollY,left:M-50})};return l.on("focus",g),l.on("selectionUpdate",g),()=>{l.on("focus",g),l.off("selectionUpdate",g)}},[l]);const d=Tt.useRef(null);Tt.useEffect(()=>{if(!t){d.current?.classList.remove("selected-block");return}d.current?.classList.remove("selected-block"),r.current?.classList.add("selected-block"),d.current=r.current},[t]);const m=Tt.useRef(null);return Tt.useEffect(()=>{if(!a)return;const g=y=>{m.current&&m.current.contains(y.target)||l&&l.view.dom.contains(y.target)||(c(),n(null))};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[l,a,c]),t?ut.jsxs("div",{className:"absolute",style:{top:t.top,left:t.left},ref:m,children:[ut.jsx("button",{className:Mi("flex size-8 cursor-pointer items-center justify-center","rounded-full border border-border bg-bg focus:outline-none"),onClick:f,children:ut.jsx(pA,{size:24,className:Mi("text-text-muted transition-transform",a&&"rotate-45")})}),a&&ut.jsx(yA,{onClose:c})]}):null},yA=({onClose:l})=>ut.jsxs("div",{className:Mi("mt-1 min-w-[200px] rounded-sm bg-bg shadow-sm shadow-gray-500","divide-y divide-border-light"),onClick:l,children:[ut.jsx("button",{className:"flex w-full p-2 hover:bg-bg-light",children:""}),ut.jsx("button",{className:"flex w-full p-2 hover:bg-bg-light",children:""})]}),bA=()=>{const l=JO({extensions:[eA,iA,rA],editorProps:{attributes:{class:SA}}});return ut.jsxs(ut.Fragment,{children:[ut.jsx(jO,{editor:l,className:"contents"}),ut.jsx(gA,{editor:l})]})},SA=Mi("pl-[50px] focus:outline-none"),vA="https://github.com/ahuglajbclajep/react-twin-wysiwyg-editor",EA=()=>ut.jsxs("header",{className:Mi("sticky top-0 z-10","flex items-center justify-between gap-4","border-b border-border bg-bg p-4"),children:[ut.jsxs("div",{className:"min-w-0",children:[ut.jsx("h1",{className:"truncate font-semibold text-text-strong",children:"React Twin WYSIWYG Editor"}),ut.jsx("p",{className:"mt-0.5 truncate text-text-muted",children:"Tiptap WYSIWYG editor reusing existing React components"})]}),ut.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[ut.jsx("button",{className:Mi("rounded-md border border-border bg-bg px-3 py-1.5","hover:bg-bg-light"),children:""}),ut.jsxs("a",{href:vA,target:"_blank",className:"flex items-center hover:text-text-strong",children:[ut.jsx(hA,{className:"size-5",size:24}),ut.jsx("span",{className:"ml-0.5",children:"GitHub"})]})]})]}),xA=()=>ut.jsxs("div",{className:Mi("min-h-screen bg-bg font-sans text-sm text-text","flex flex-col"),children:[ut.jsx(EA,{}),ut.jsx("main",{className:"flex flex-1 justify-center px-4 py-8",children:ut.jsx("div",{className:Mi("w-full max-w-[720px]","flex [&_.tiptap]:flex-1"),children:ut.jsx(bA,{})})})]});_v.createRoot(document.getElementById("root")).render(ut.jsx(xA,{}));
